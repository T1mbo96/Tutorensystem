// Automatically generated file.  Do not edit!
'use strict';var c,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,b){if(b){var d=ba;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&aa(d,a,{configurable:!0,writable:!0,value:b})}}
ca("String.prototype.startsWith",function(a){return a?a:function(a,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var b=this+"";a+="";var f=b.length,h=a.length;d=Math.max(0,Math.min(d|0,b.length));for(var k=0;k<h&&d<f;)if(b[d++]!=a[k++])return!1;return k>=h}});
function da(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ea(){ea=function(){};ba.Symbol||(ba.Symbol=fa)}var fa=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function ha(){ea();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ia(da(this))}});ha=function(){}}
function ia(a){ha();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}function ja(a,b){ha();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ca("Array.prototype.keys",function(a){return a?a:function(){return ja(this,function(a){return a})}});
ca("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}});ca("Array.prototype.fill",function(a){return a?a:function(a,d,e){var b=this.length||0;0>d&&(d=Math.max(0,b+d));if(null==e||e>b)e=b;e=Number(e);0>e&&(e=Math.max(0,b+e));for(d=Number(d||0);d<e;d++)this[d]=a;return this}});var g=this;function n(a){return"string"==typeof a}function ka(a){return"number"==typeof a}
function la(a,b){a=a.split(".");var d=g;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=b}function ma(){}function na(a){a.qo=void 0;a.Kf=function(){return a.qo?a.qo:a.qo=new a}}
function oa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function pa(a){return"array"==oa(a)}function qa(a){var b=oa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ra(a){return"function"==oa(a)}function sa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ta(a){return a[ua]||(a[ua]=++va)}var ua="closure_uid_"+(1E9*Math.random()>>>0),va=0;function wa(a,b,d){return a.call.apply(a.bind,arguments)}
function xa(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}}function ya(a,b,d){ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wa:xa;return ya.apply(null,arguments)}
function za(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var b=d.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function r(a,b){function d(){}d.prototype=b.prototype;a.u=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.ez=function(a,d,h){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[d].apply(a,e)}};
// Copyright 2013 Google Inc.  Apache License 2.0
var v={};v.L=Object(null);var Aa;var Ba=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(n(a))return n(b)&&1==b.length?a.indexOf(b,0):-1;for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},Ca=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=n(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(d,f[h],h,a)},Da=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var d=
a.length,e=[],f=0,h=n(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},Ea=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=Array(d),f=n(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(void 0,f[h],h,a));return e},Fa=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(void 0,
e[f],f,a))return!1;return!0};function Ga(a,b){return 0<=Ba(a,b)}function Ha(a,b){b=Ba(a,b);var d;(d=0<=b)&&Array.prototype.splice.call(a,b,1);return d}function Ia(a){return Array.prototype.concat.apply([],arguments)}function Ja(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]}function Ka(a,b,d,e){Array.prototype.splice.apply(a,La(arguments,1))}function La(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};function Ma(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}var Na=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function Oa(a){if(!Pa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Qa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ra,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Sa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ta,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ua,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Va,"&#0;"));return a}var Qa=/&/g,Ra=/</g,Sa=/>/g,Ta=/"/g,Ua=/'/g,Va=/\x00/g,Pa=/[\x00&<>"']/;
function Wa(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=g.document.createElement("div");return a.replace(Xa,function(a,f){var e=b[a];if(e)return e;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(e=String.fromCharCode(f)));e||(d.innerHTML=a+" ",e=d.firstChild.nodeValue.slice(0,-1));return b[a]=e})}
function Ya(a){return a.replace(/&([^;]+);/g,function(a,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=d.charAt(0)||(d=Number("0"+d.substr(1)),isNaN(d))?a:String.fromCharCode(d)}})}var Xa=/&([^;\s<&]+);?/g;function Za(a,b){return a<b?-1:a>b?1:0};var $a;a:{var ab=g.navigator;if(ab){var bb=ab.userAgent;if(bb){$a=bb;break a}}$a=""}function cb(a){return-1!=$a.indexOf(a)};function db(a,b,d){for(var e in a)b.call(d,a[e],e,a)}var eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gb(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var h=0;h<eb.length;h++)d=eb[h],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}}
function hb(a){var b=arguments.length;if(1==b&&pa(arguments[0]))return hb.apply(null,arguments[0]);for(var d={},e=0;e<b;e++)d[arguments[e]]=!0;return d};function ib(a){ib[" "](a);return a}ib[" "]=ma;function jb(a,b){var d=kb;return Object.prototype.hasOwnProperty.call(d,a)?d[a]:d[a]=b(a)};var lb=cb("Opera"),y=cb("Trident")||cb("MSIE"),mb=cb("Edge"),nb=cb("Gecko")&&!(-1!=$a.toLowerCase().indexOf("webkit")&&!cb("Edge"))&&!(cb("Trident")||cb("MSIE"))&&!cb("Edge"),z=-1!=$a.toLowerCase().indexOf("webkit")&&!cb("Edge"),ob=z&&cb("Mobile"),pb=cb("Macintosh"),qb=cb("Android"),rb=cb("iPhone")&&!cb("iPod")&&!cb("iPad"),sb=cb("iPad");function tb(){var a=g.document;return a?a.documentMode:void 0}var ub;
a:{var vb="",wb=function(){var a=$a;if(nb)return/rv:([^\);]+)(\)|;)/.exec(a);if(mb)return/Edge\/([\d\.]+)/.exec(a);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(z)return/WebKit\/(\S+)/.exec(a);if(lb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();wb&&(vb=wb?wb[1]:"");if(y){var xb=tb();if(null!=xb&&xb>parseFloat(vb)){ub=String(xb);break a}}ub=vb}var kb={};
function yb(a){return jb(a,function(){for(var b=0,d=Na(String(ub)).split("."),e=Na(String(a)).split("."),f=Math.max(d.length,e.length),h=0;0==b&&h<f;h++){var k=d[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=Za(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Za(0==k[2].length,0==l[2].length)||Za(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var zb;var Ab=g.document;
zb=Ab&&y?tb()||("CSS1Compat"==Ab.compatMode?parseInt(ub,10):5):void 0;var Bb=!y||9<=Number(zb),Cb=!nb&&!y||y&&9<=Number(zb)||nb&&yb("1.9.1"),Db=y&&!yb("9");var Eb={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Fb(a,b){this.Kp=a===Gb&&b||"";this.Ru=Hb}Fb.prototype.Pf=!0;Fb.prototype.pe=function(){return this.Kp};Fb.prototype.toString=function(){return"Const{"+this.Kp+"}"};function Ib(a){return a instanceof Fb&&a.constructor===Fb&&a.Ru===Hb?a.Kp:"type_error:Const"}var Hb={},Gb={};function Jb(){this.Ys="";this.Yu=Kb}Jb.prototype.Pf=!0;Jb.prototype.pe=function(){return this.Ys};Jb.prototype.no=!0;Jb.prototype.gi=function(){return 1};var Kb={};function Lb(){this.hh="";this.Pu=Mb}Lb.prototype.Pf=!0;Lb.prototype.pe=function(){return this.hh};Lb.prototype.no=!0;Lb.prototype.gi=function(){return 1};function Nb(a){if(a instanceof Lb&&a.constructor===Lb&&a.Pu===Mb)return a.hh;oa(a);return"type_error:SafeUrl"}var Ob=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pb(a){if(a instanceof Lb)return a;a="object"==typeof a&&a.Pf?a.pe():String(a);Ob.test(a)||(a="about:invalid#zClosurez");return Qb(a)}var Mb={};
function Qb(a){var b=new Lb;b.hh=a;return b}Qb("about:blank");function Rb(){this.cp="";this.Ou=Sb}Rb.prototype.Pf=!0;var Sb={};Rb.prototype.pe=function(){return this.cp};Rb.prototype.Wl=function(a){this.cp=a;return this};var Tb=(new Rb).Wl("");function Ub(a){var b="",d;for(d in a){if(!/^[-_a-zA-Z0-9]+$/.test(d))throw Error("Name allows only [-_a-zA-Z0-9], got: "+d);var e=a[d];null!=e&&(e=pa(e)?Ea(e,Vb).join(" "):Vb(e),b+=d+":"+e+";")}return b?(new Rb).Wl(b):Tb}
function Vb(a){if(a instanceof Lb)a='url("'+Nb(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';else if(a instanceof Fb)a=Ib(a);else{a=String(a);var b=a.replace(Wb,"$1").replace(Wb,"$1").replace(Xb,"url");if(Yb.test(b)){if(b=!Zb.test(a)){for(var d=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&d?b=!b:'"'==f&&b&&(d=!d)}b=b&&d&&$b(a)}a=b?ac(a):"zClosurez"}else a="zClosurez"}return a}
function $b(a){for(var b=!0,d=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!d.test(f))return!1}return b}var Yb=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Xb=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Wb=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Zb=/\/\*/;
function ac(a){return a.replace(Xb,function(a,d,e,f){var b="";e=e.replace(/^(['"])(.*)\1$/,function(a,d,e){b=d;return e});a=Pb(e).pe();return d+b+a+b+f})};function bc(){this.hh="";this.Nu=cc;this.vr=null}bc.prototype.no=!0;bc.prototype.gi=function(){return this.vr};bc.prototype.Pf=!0;bc.prototype.pe=function(){return this.hh};function dc(a){if(a instanceof bc&&a.constructor===bc&&a.Nu===cc)return a.hh;oa(a);return"type_error:SafeHtml"}function ec(a){if(a instanceof bc)return a;var b="object"==typeof a,d=null;b&&a.no&&(d=a.gi());return fc(Oa(b&&a.Pf?a.pe():String(a)),d)}
var gc=/^[a-zA-Z0-9-]+$/,hc={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},ic={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function jc(a,b,d){var e=String(a);if(!gc.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in ic)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");a=String(a);e=null;var f="<"+a,h="";if(b)for(p in b){if(!gc.test(p))throw Error('Invalid attribute name "'+p+'".');var k=b[p];if(null!=k){var l=a;var m=p;if(k instanceof Fb)k=Ib(k);else if("style"==m.toLowerCase()){if(!sa(k))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof k+
" given: "+k);k instanceof Rb||(k=Ub(k));k instanceof Rb&&k.constructor===Rb&&k.Ou===Sb?k=k.cp:(oa(k),k="type_error:SafeStyle")}else{if(/^on/i.test(m))throw Error('Attribute "'+m+'" requires goog.string.Const value, "'+k+'" given.');if(m.toLowerCase()in hc)if(k instanceof Jb)k instanceof Jb&&k.constructor===Jb&&k.Yu===Kb?k=k.Ys:(oa(k),k="type_error:TrustedResourceUrl");else if(k instanceof Lb)k=Nb(k);else if(n(k))k=Pb(k).pe();else throw Error('Attribute "'+m+'" on tag "'+l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+
k+'" given.');}k.Pf&&(k=k.pe());m=m+'="'+Oa(String(k))+'"';h+=" "+m}}var p=f+h;null!=d?pa(d)||(d=[d]):d=[];!0===Eb[a.toLowerCase()]?p+=">":(d=kc(d),p+=">"+dc(d)+"</"+a+">",e=d.gi());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return fc(p,e)}function kc(a){function b(a){pa(a)?Ca(a,b):(a=ec(a),e+=dc(a),a=a.gi(),0==d?d=a:0!=a&&d!=a&&(d=null))}var d=0,e="";Ca(arguments,b);return fc(e,d)}var cc={};function fc(a,b){return(new bc).Wl(a,b)}bc.prototype.Wl=function(a,b){this.hh=a;this.vr=b;return this};
fc("<!DOCTYPE html>",0);var lc=fc("",0),mc=fc("<br>",0);var nc=function(a){var b=!1,d;return function(){b||(d=a(),b=!0);return d}}(function(){var a=document.createElement("div");a.innerHTML="<div><div></div></div>";var b=a.firstChild.firstChild;a.innerHTML="";return!b.parentElement});function oc(a,b){b=dc(b);if(nc())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=b};function A(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}c=A.prototype;c.clone=function(){return new A(this.x,this.y)};function pc(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function qc(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)}function rc(a,b){return new A(a.x-b.x,a.y-b.y)}function sc(a,b){return new A(a.x+b.x,a.y+b.y)}c.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};c.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
c.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};c.translate=function(a,b){a instanceof A?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),ka(b)&&(this.y+=b));return this};c.scale=function(a,b){b=ka(b)?b:a;this.x*=a;this.y*=b;return this};function tc(a,b){this.width=a;this.height=b}c=tc.prototype;c.clone=function(){return new tc(this.width,this.height)};c.aspectRatio=function(){return this.width/this.height};c.fs=function(){return!(this.width*this.height)};c.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
c.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};c.scale=function(a,b){b=ka(b)?b:a;this.width*=a;this.height*=b;return this};function uc(a){return a?new vc(wc(a)):Aa||(Aa=new vc)}function xc(a,b){db(b,function(b,e){b&&"object"==typeof b&&b.Pf&&(b=b.pe());"style"==e?a.style.cssText=b:"class"==e?a.className=b:"for"==e?a.htmlFor=b:yc.hasOwnProperty(e)?a.setAttribute(yc[e],b):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,b):a[e]=b})}
var yc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zc(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new tc(a.clientWidth,a.clientHeight)}
function Ac(a){var b=Bc(a);a=a.parentWindow||a.defaultView;return y&&yb("10")&&a.pageYOffset!=b.scrollTop?new A(b.scrollLeft,b.scrollTop):new A(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function Bc(a){return a.scrollingElement?a.scrollingElement:z||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Cc(a,b,d,e){function f(d){d&&b.appendChild(n(d)?a.createTextNode(d):d)}for(;e<d.length;e++){var h=d[e];!qa(h)||sa(h)&&0<h.nodeType?f(h):Ca(Dc(h)?Ja(h):h,f)}}
function Ec(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Fc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Gc(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function wc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Hc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else Ec(a),a.appendChild(wc(a).createTextNode(String(b)))}var Ic={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Jc={IMG:" ",BR:"\n"};function Kc(a){return y&&!yb("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function Lc(a){a=a.tabIndex;return ka(a)&&0<=a&&32768>a}function Mc(a){var b=[];Nc(a,b,!1);return b.join("")}function Nc(a,b,d){if(!(a.nodeName in Ic))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Jc)b.push(Jc[a.nodeName]);else for(a=a.firstChild;a;)Nc(a,b,d),a=a.nextSibling}
function Dc(a){if(a&&"number"==typeof a.length){if(sa(a))return"function"==typeof a.item||"string"==typeof a.item;if(ra(a))return"function"==typeof a.item}return!1}function vc(a){this.ie=a||g.document||document}c=vc.prototype;c.Ld=uc;c.K=function(a){return n(a)?this.ie.getElementById(a):a};c.getElementsByTagName=function(a,b){return(b||this.ie).getElementsByTagName(String(a))};c.setProperties=xc;
c.la=function(a,b,d){var e=this.ie,f=arguments,h=String(f[0]),k=f[1];if(!Bb&&k&&(k.name||k.type)){h=["<",h];k.name&&h.push(' name="',Oa(k.name),'"');if(k.type){h.push(' type="',Oa(k.type),'"');var l={};gb(l,k);delete l.type;k=l}h.push(">");h=h.join("")}h=e.createElement(h);k&&(n(k)?h.className=k:pa(k)?h.className=k.join(" "):xc(h,k));2<f.length&&Cc(e,h,f,2);return h};c.createElement=function(a){return this.ie.createElement(String(a))};c.createTextNode=function(a){return this.ie.createTextNode(String(a))};
c.appendChild=function(a,b){a.appendChild(b)};c.append=function(a,b){Cc(wc(a),a,arguments,1)};c.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
c.gt=Ec;c.removeNode=Fc;c.If=function(a){return Cb&&void 0!=a.children?a.children:Da(a.childNodes,function(a){return 1==a.nodeType})};c.contains=Gc;c.Uf=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Kc(a)||Lc(a)):Kc(a)&&Lc(a))&&y?(a=!ra(a.getBoundingClientRect)||y&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};
// Copyright 2012 Google Inc.  Apache License 2.0
v.j={};v.j.removeAttribute=function(a,b){y&&yb("10.0")?a.setAttribute(b,null):a.removeAttribute(b)};v.j.ab=function(a,b){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+b+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+b);return!0};
v.j.Ab=function(a,b){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+b+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=b||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):v.j.removeAttribute(a,"class");return!0};v.j.Qr=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};v.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};v.j.ux=function(a){a.preventDefault();a.stopPropagation()};
v.j.cm=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
v.j.yc=function(a){var b=new A(0,0),d=a.getAttribute("x");d&&(b.x=parseInt(d,10));if(d=a.getAttribute("y"))b.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(v.j.yc.cv))b.x+=parseFloat(d[1]),d[3]&&(b.y+=parseFloat(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&((d=a.match(v.j.yc.av))||(d=a.match(v.j.yc.bv)),d&&(b.x+=parseFloat(d[1]),d[3]&&(b.y+=parseFloat(d[3]))));return b};
v.j.Gl=function(a){for(var b=0,d=0;a;){var e=v.j.yc(a);b+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new A(b,d)};v.j.yc.cv=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;v.j.yc.bv=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;v.j.yc.av=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;
v.j.D=function(a,b,d){a=document.createElementNS(v.Zm,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};v.j.Vf=function(a){return a.ctrlKey&&pb?!0:2==a.button};v.j.bk=function(a,b,d){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=b.getScreenCTM().inverse());return e.matrixTransform(d)};v.j.Ap=function(a){return a.length?a.reduce(function(a,d){return a.length<d.length?a:d}).length:0};
v.j.Hv=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.j.Ap(a);for(var e=0;e<b;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return b};
v.j.Iv=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.j.Ap(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return b};v.j.ly=function(a){return v.j.Np(a,!0)};v.j.ac=function(a){if("string"!=typeof a)return a;a=v.j.Np(a,!1);return a.length?a[0]:""};
v.j.Fq=function(a){for(var b=v.g,d=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,e=d.exec(a);e;){var f=e[1];f=f.toUpperCase();"BKY_"!=f.substr(0,4)?console.log("WARNING: Unsupported message table prefix in %{"+e[1]+"}."):void 0==b[f.substr(4)]&&console.log("WARNING: No message string for %{"+e[1]+"}.");a=a.substring(e.index+f.length+1);e=d.exec(a)}};
v.j.Np=function(a,b){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(f)?(l=f.toUpperCase(),(l=v.j.startsWith(l,
"BKY_")?l.substring(4):null)&&l in v.g?(f=v.g[l],"string"==typeof f?Array.prototype.push.apply(d,v.j.Np(f,b)):b?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);b=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(d[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};v.j.le=function(){for(var a=v.j.le.st.length,b=[],d=0;20>d;d++)b[d]=v.j.le.st.charAt(Math.random()*a);return b.join("")};
v.j.le.st="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";v.j.Rp=function(a,b){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=v.j.yy(a[d],b);return a.join("\n")};
v.j.yy=function(a,b){if(a.length<=b)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>b&&(b=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=v.j.Lt(d,a,b);e=v.j.Sp(d,a,b);a=v.j.zy(d,a);f++}while(e>h);return k};
v.j.Sp=function(a,b,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===b[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=b=0;h<e.length;h++)b-=2*Math.pow(Math.abs(d-e[h]),1.5),b-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?b+=d/3:-1!=",;)]}".indexOf(f[h])&&(b+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
v.j.Lt=function(a,b,d){for(var e=v.j.Sp(a,b,d),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=v.j.Sp(a,k,d);l>e&&(e=l,f=k)}return f?v.j.Lt(a,f,d):b};v.j.zy=function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==b[e]&&d.push(b[e]?"\n":" ");return d.join("")};
v.j.Tf=function(){if(void 0!==v.j.Tf.nn)return v.j.Tf.nn;if(!g.getComputedStyle)return!1;var a=document.createElement("p"),b="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=g.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(d[e])}document.body.removeChild(a);
v.j.Tf.nn="none"!==b;return v.j.Tf.nn};v.j.Wg=function(a,b){var d=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");d?b.insertBefore(a,d):b.appendChild(a)};v.j.mt=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};
v.j.qk=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};v.j.bo=function(){var a=zc(),b=Oc();return{right:a.width+b.x,bottom:a.height+b.y,top:b.y,left:b.x}};v.j.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};v.j.fj=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};v.j.Dk=function(a){return a*Math.PI/180};v.j.ky=function(a){return 180*a/Math.PI};v.j.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)};
v.j.Tn=function(a,b){var d=Object.create(null),e=Pc(a,!0);b&&(a=Qc(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)d[b.type]?d[b.type]++:d[b.type]=1;return d};var Rc=!y||9<=Number(zb),Sc=!y||9<=Number(zb),Tc=y&&!yb("9"),Uc="ontouchstart"in g||!!(g.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!g.navigator||!g.navigator.maxTouchPoints&&!g.navigator.msMaxTouchPoints),Vc="PointerEvent"in g,Wc="MSPointerEvent"in g&&!(!g.navigator||!g.navigator.msPointerEnabled),Xc=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{g.addEventListener("test",
ma,b),g.removeEventListener("test",ma,b)}catch(d){}return a}();
// Copyright 2016 Google Inc.  Apache License 2.0
v.Touch={};v.Touch.Fk=null;v.Touch.ae={};g.PointerEvent?v.Touch.ae={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:Uc&&(v.Touch.ae={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});v.gm=0;
v.jx=function(a,b){v.Yf();a.changedTouches&&1!=a.changedTouches.length||(v.gm=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Yc(b,a)},v.uu))};v.Yf=function(){v.gm&&(clearTimeout(v.gm),v.gm=0)};v.Touch.Ve=function(){v.Touch.Fk=null};v.Touch.Bp=function(a){return!v.Touch.Xw(a)||v.Touch.Bv(a)};
v.Touch.Nl=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};v.Touch.Bv=function(a){var b=v.Touch.Nl(a);return void 0!==v.Touch.Fk&&null!==v.Touch.Fk?v.Touch.Fk==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(v.Touch.Fk=b,!0):!1};
v.Touch.Xx=function(a){if(v.j.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};v.Touch.Xw=function(a){return v.j.startsWith(a.type,"touch")||v.j.startsWith(a.type,"mouse")||v.j.startsWith(a.type,"pointer")};v.Touch.dm=function(a){return v.j.startsWith(a.type,"touch")||v.j.startsWith(a.type,"pointer")};
v.Touch.$x=function(a){var b=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)b[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};v.m={};v.m.Pl="";v.m.Zb=!0;v.m.Fn=0;v.m.Qk="create";v.m.Mt=v.m.Qk;v.m.Qm="delete";v.m.Vp=v.m.Qm;v.m.Ih="change";v.m.By=v.m.Ih;v.m.Zi="move";v.m.Cy=v.m.Zi;v.m.oq="var_create";v.m.pq="var_delete";v.m.qq="var_rename";v.m.an="ui";v.m.Yp="comment_create";v.m.Zp="comment_delete";v.m.Xp="comment_change";v.m.$p="comment_move";v.m.Ui=[];v.m.Z=function(a){v.m.isEnabled()&&(v.m.Ui.length||setTimeout(v.m.ow,0),v.m.Ui.push(a))};
v.m.ow=function(){for(var a=v.m.filter(v.m.Ui,!0),b=v.m.Ui.length=0,d;d=a[b];b++){var e=Zc[d.Hc]||null;if(e){var f=d;if(f.Zb)for(e.Bh.push(f),e.kk.length=0;e.Bh.length>e.gq&&0<=e.gq;)e.Bh.shift();for(var h=0;d=e.Ec[h];h++)d(f)}}};
v.m.filter=function(a,b){a=a.slice();b||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.si()){var k=[h.type,h.Wb,h.Hc].join(" "),l=e[k],m=l?l.event:null;l?h.type==v.m.Zi&&l.index==f-1?(m.dh=h.dh,m.bh=h.bh,m.Zf=h.Zf,l.index=f):h.type==v.m.Ih&&h.element==m.element&&h.name==m.name?m.newValue=h.newValue:h.type!=v.m.an||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element?(e[k]={event:h,index:1},d.push(h)):m.newValue=h.newValue:(e[k]={event:h,
index:f},d.push(h))}a=d.filter(function(a){return!a.si()});b||a.reverse();for(f=1;h=a[f];f++)h.type==v.m.Ih&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};v.m.Dv=function(){for(var a=0,b;b=v.m.Ui[a];a++)b.Zb=!1};v.m.disable=function(){v.m.Fn++};v.m.enable=function(){v.m.Fn--};v.m.isEnabled=function(){return 0==v.m.Fn};v.m.Rb=function(){return v.m.Pl};v.m.R=function(a){v.m.Pl="boolean"==typeof a?a?v.j.le():"":a};
v.m.Jr=function(a){var b=[];a=Pc(a,!1);for(var d=0,e;e=a[d];d++)b[d]=e.id;return b};
v.m.oa=function(a){switch(a.type){case v.m.Qk:var b=new $c(null);break;case v.m.Qm:b=new ad(null);break;case v.m.Ih:b=new bd(null,"","","","");break;case v.m.Zi:b=new cd(null);break;case v.m.oq:b=new dd(null);break;case v.m.pq:b=new ed(null);break;case v.m.qq:b=new fd(null,"");break;case v.m.an:b=new gd(null);break;case v.m.Yp:b=new hd(null);break;case v.m.Xp:b=new id(null);break;case v.m.$p:b=new jd(null);break;case v.m.Zp:b=new kd(null);break;default:throw Error("Unknown event type.");}b.oa(a);
b.Hc=(void 0).id;return b};v.m.jz=function(a){if(a.type==v.m.Zi||a.type==v.m.Qk){var b=Zc[a.Hc]||null;if(a=ld(b,a.Wb))if(a.getParent()&&!a.getParent().disabled){b=Pc(a,!1);a=0;for(var d;d=b[a];a++)d.Sc(!1)}else if((a.P||a.X)&&!b.ob()){do a.Sc(!0),a=Qc(a);while(a)}}};
// Copyright 2018 Google Inc.  Apache License 2.0
function md(){this.Hc=void 0;this.group=v.m.Pl;this.Zb=v.m.Zb}md.prototype.Ea=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};md.prototype.oa=function(a){this.group=a.group};md.prototype.si=function(){return!1};md.prototype.run=function(){};function nd(a){a=Zc[a.Hc]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};function od(a){od.u.constructor.call(this);this.tg=a.ga();this.Hc=a.s.id}r(od,md);od.prototype.Ea=function(){var a=od.u.Ea.call(this);a.varId=this.tg;return a};od.prototype.oa=function(a){od.u.Ea.call(this);this.tg=a.varId};function dd(a){a&&(dd.u.constructor.call(this,a),this.Fh=a.type,this.Eh=a.name)}r(dd,od);dd.prototype.type=v.m.oq;dd.prototype.Ea=function(){var a=dd.u.Ea.call(this);a.varType=this.Fh;a.varName=this.Eh;return a};
dd.prototype.oa=function(a){dd.u.oa.call(this,a);this.Fh=a.varType;this.Eh=a.varName};dd.prototype.run=function(a){var b=nd(this);a?b.$c(this.Eh,this.Fh,this.tg):b.$e(this.tg)};function ed(a){a&&(ed.u.constructor.call(this,a),this.Fh=a.type,this.Eh=a.name)}r(ed,od);ed.prototype.type=v.m.pq;ed.prototype.Ea=function(){var a=ed.u.Ea.call(this);a.varType=this.Fh;a.varName=this.Eh;return a};ed.prototype.oa=function(a){ed.u.oa.call(this,a);this.Fh=a.varType;this.Eh=a.varName};
ed.prototype.run=function(a){var b=nd(this);a?b.$e(this.tg):b.$c(this.Eh,this.Fh,this.tg)};function fd(a,b){a&&(fd.u.constructor.call(this,a),this.Lo=a.name,this.Ho=b)}r(fd,od);fd.prototype.type=v.m.qq;fd.prototype.Ea=function(){var a=fd.u.Ea.call(this);a.oldName=this.Lo;a.newName=this.Ho;return a};fd.prototype.oa=function(a){fd.u.oa.call(this,a);this.Lo=a.oldName;this.Ho=a.newName};fd.prototype.run=function(a){var b=nd(this);a?b.mh(this.tg,this.Ho):b.mh(this.tg,this.Lo)};
// Copyright 2017 Google Inc.  Apache License 2.0
function pd(a){this.ua={};this.s=a}c=pd.prototype;c.clear=function(){this.ua=Object(null)};c.xm=function(a,b){var d=this.jc(b,a.type),e=qd(this.s,!1);v.m.R(!0);try{if(d&&d.ga()!=a.ga()){var f=a.type;b!=d.name&&rd(d,b,e);for(b=0;b<e.length;b++)e[b].pk(a.ga(),d.ga());v.m.Z(new ed(a));this.ua[f].splice(this.Gj(f).indexOf(a),1)}else rd(a,b,e)}finally{v.m.R(!1)}};c.mh=function(a,b){var d=this.Md(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.xm(d,b)};
function rd(a,b,d){v.m.Z(new fd(a,b));a.name=b;for(b=0;b<d.length;b++)d[b].Mm(a)}c.$c=function(a,b,d){var e=this.jc(a,b);if(e){if(d&&e.ga()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.ga()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Md(d))throw Error('Variable id, "'+d+'", is already in use.');d=d||v.j.le();b=b||"";e=new sd(this.s,a,b,d);this.ua[b]?this.ua[b].push(e):this.ua[b]=[e];return e};
c.$e=function(a){var b=this.Md(a);if(b){var d=b.name,e=this.$n(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=B(f,"NAME");d=v.g.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);v.alert(d);return}var h=this;1<e.length?(d=v.g.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),v.confirm(d,function(a){a&&h.ml(b,e)})):h.ml(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
c.ml=function(a,b){var d=v.m.Rb();d||v.m.R(!0);try{for(var e=0;e<b.length;e++)b[e].C(!0,!1);var f=this.ua[a.type];b=0;for(var h;h=f[b];b++)if(h.ga()==a.ga()){f.splice(b,1);v.m.Z(new ed(a));break}}finally{d||v.m.R(!1)}};c.jc=function(a,b){if(b=this.ua[b||""])for(var d=0,e;e=b[d];d++)if(td(e.name,a))return e;return null};c.Md=function(a){for(var b=Object.keys(this.ua),d=0;d<b.length;d++)for(var e=b[d],f=0,h;h=this.ua[e][f];f++)if(h.ga()==a)return h;return null};
c.Gj=function(a){return(a=this.ua[a||""])?a.slice():[]};c.Zn=function(){for(var a=Object.keys(this.ua),b=!1,d=0;d<a.length;d++)""==a[d]&&(b=!0);b||a.push("");return a};c.ef=function(){for(var a=[],b=Object.keys(this.ua),d=0;d<b.length;d++)a=a.concat(this.ua[b[d]]);return a};c.$n=function(a){for(var b=[],d=qd(this.s,!1),e=0;e<d.length;e++){var f=d[e].gf();if(f)for(var h=0;h<f.length;h++)f[h].ga()==a&&b.push(d[e])}return b};v.w={};v.w.j={};v.w.j.createElement=function(a){return document.createElement(a)};v.w.j.createTextNode=function(a){return document.createTextNode(a)};v.w.j.hy=function(a){return(new DOMParser).parseFromString(a,"text/xml")};v.w.j.wc=function(a){return(new XMLSerializer).serializeToString(a)};function ud(a){ud.u.constructor.call(this);this.Wb=a.id;this.Hc=a.s.id}r(ud,md);ud.prototype.Ea=function(){var a=ud.u.Ea.call(this);a.blockId=this.Wb;return a};ud.prototype.oa=function(a){ud.u.Ea.call(this);this.Wb=a.blockId};function bd(a,b,d,e,f){a&&(bd.u.constructor.call(this,a),this.element=b,this.name=d,this.oldValue=e,this.newValue=f)}r(bd,ud);v.m.Ic=bd;c=bd.prototype;c.type=v.m.Ih;
c.Ea=function(){var a=bd.u.Ea.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};c.oa=function(a){bd.u.oa.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};c.si=function(){return this.oldValue==this.newValue};
c.run=function(a){var b=ld(nd(this),this.Wb);if(b)switch(b.hd&&b.hd.ta(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=C(b,this.name))?(vd(b,a),b.setValue(a)):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.nh(a||null);break;case "collapsed":b.hg(a);break;case "disabled":b.Sc(a);break;case "inline":b.kg(a);break;case "mutation":var d="";b.Ja&&(d=(d=b.Ja())&&v.w.wc(d));if(b.eb){a=a||"<mutation></mutation>";var e=v.w.Uc("<xml>"+a+"</xml>");b.eb(e.firstChild)}v.m.Z(new bd(b,
"mutation",null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Wb)};function $c(a){a&&($c.u.constructor.call(this,a),this.xml=a.s.T?v.w.ln(a):v.w.Df(a),this.Of=v.m.Jr(a))}r($c,ud);v.m.Pk=$c;$c.prototype.type=v.m.Qk;$c.prototype.Ea=function(){var a=$c.u.Ea.call(this);a.xml=v.w.wc(this.xml);a.ids=this.Of;return a};
$c.prototype.oa=function(a){$c.u.oa.call(this,a);this.xml=v.w.Uc("<xml>"+a.xml+"</xml>").firstChild;this.Of=a.ids};$c.prototype.run=function(a){var b=nd(this);if(a)a=v.w.j.createElement("xml"),a.appendChild(this.xml),v.w.bf(a,b);else{a=0;for(var d;d=this.Of[a];a++){var e=ld(b,d);e?e.C(!1,!1):d==this.Wb&&console.warn("Can't uncreate non-existent block: "+d)}}};
function ad(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");ad.u.constructor.call(this,a);this.Js=a.s.T?v.w.ln(a):v.w.Df(a);this.Of=v.m.Jr(a)}}r(ad,ud);v.m.Ot=ad;ad.prototype.type=v.m.Qm;ad.prototype.Ea=function(){var a=ad.u.Ea.call(this);a.ids=this.Of;return a};ad.prototype.oa=function(a){ad.u.oa.call(this,a);this.Of=a.ids};
ad.prototype.run=function(a){var b=nd(this);if(a){a=0;for(var d;d=this.Of[a];a++){var e=ld(b,d);e?e.C(!1,!1):d==this.Wb&&console.warn("Can't delete non-existent block: "+d)}}else a=v.w.j.createElement("xml"),a.appendChild(this.Js),v.w.bf(a,b)};function cd(a){a&&(cd.u.constructor.call(this,a),a=wd(this),this.Hs=a.Us,this.Gs=a.Zr,this.Jo=a.Sq)}r(cd,ud);v.m.Ti=cd;c=cd.prototype;c.type=v.m.Zi;
c.Ea=function(){var a=cd.u.Ea.call(this);this.dh&&(a.newParentId=this.dh);this.bh&&(a.newInputName=this.bh);this.Zf&&(a.newCoordinate=Math.round(this.Zf.x)+","+Math.round(this.Zf.y));return a};c.oa=function(a){cd.u.oa.call(this,a);this.dh=a.newParentId;this.bh=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Zf=new A(parseFloat(a[0]),parseFloat(a[1])))};c.lf=function(){var a=wd(this);this.dh=a.Us;this.bh=a.Zr;this.Zf=a.Sq};
function wd(a){var b=ld(Zc[a.Hc]||null,a.Wb);a={};var d=b.getParent();if(d){a.Us=d.id;a:{for(var e=0,f;f=d.V[e];e++)if(f.connection&&D(f.connection)==b){b=f;break a}b=null}b&&(a.Zr=b.name)}else a.Sq=b.wa();return a}c.si=function(){return this.Hs==this.dh&&this.Gs==this.bh&&pc(this.Jo,this.Zf)};
c.run=function(a){var b=nd(this),d=ld(b,this.Wb);if(d){var e=a?this.dh:this.Hs,f=a?this.bh:this.Gs;a=a?this.Zf:this.Jo;var h=null;if(e&&(h=ld(b,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&xd(d);if(a)f=d.wa(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.P||d.X;if(f){if(b=E(h,f))var k=b.connection}else d.type==v.Ag&&(k=h.M);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Wb)};v.w.Qp=function(a,b){var d=v.w.j.createElement("xml"),e=v.w.uy(v.G.Wk(a));e.hasChildNodes()&&d.appendChild(e);var f=yd(a,!0);e=0;for(var h;h=f[e];e++)d.appendChild(h.Ek(b));a=zd(a,!0);for(e=0;f=a[e];e++)d.appendChild(v.w.ln(f,b));return d};v.w.uy=function(a){for(var b=v.w.j.createElement("variables"),d=0,e;e=a[d];d++){var f=v.w.j.createElement("variable");f.appendChild(v.w.j.createTextNode(e.name));f.setAttribute("type",e.type);f.setAttribute("id",e.ga());b.appendChild(f)}return b};
v.w.ln=function(a,b){var d;a.s.v&&(d=a.s.fd());b=v.w.Df(a,b);var e=a.wa();b.setAttribute("x",Math.round(a.s.v?d-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};v.w.lw=function(a){null==a.getValue()&&(a.Vg(),a.getValue());var b=a.jc();if(!b)throw Error("Tried to serialize a variable field with no variable.");var d=v.w.j.createElement("field");d.appendChild(v.w.j.createTextNode(b.name));d.setAttribute("name",a.name);d.setAttribute("id",b.ga());d.setAttribute("variabletype",b.type);return d};
v.w.mw=function(a){if(a.name&&a.wg){if(a.kh())return v.w.lw(a);var b=v.w.j.createElement("field");b.appendChild(v.w.j.createTextNode(a.getValue()));b.setAttribute("name",a.name);return b}return null};v.w.gv=function(a,b){for(var d=0,e;e=a.V[d];d++)for(var f=0,h;h=e.Ma[f];f++)(h=v.w.mw(h))&&b.appendChild(h)};
v.w.Df=function(a,b){var d=v.w.j.createElement(a.Za?"shadow":"block");d.setAttribute("type",a.type);b||d.setAttribute("id",a.id);if(a.Ja){var e=a.Ja();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}v.w.gv(a,d);var f=a.Aj();f&&(e=v.w.j.createElement("comment"),e.appendChild(v.w.j.createTextNode(f)),"object"==typeof a.Ya&&(e.setAttribute("pinned",a.Ya.$()),f=a.Ya.Pg(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=v.w.j.createElement("data"),e.appendChild(v.w.j.createTextNode(a.data)),
d.appendChild(e));f=0;for(var h;h=a.V[f];f++){var k,l=!0;if(h.type!=v.Le){var m=D(h.connection);h.type==v.$a?k=v.w.j.createElement("value"):h.type==v.Wa&&(k=v.w.j.createElement("statement"));e=h.connection.De;!e||m&&m.Za||k.appendChild(v.w.Mq(e));m&&(k.appendChild(v.w.Df(m,b)),l=!1);k.setAttribute("name",h.name);l||d.appendChild(k)}}a.Vw!=a.Sf&&d.setAttribute("inline",a.Sf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.disabled&&d.setAttribute("disabled",!0);a.mc()||a.Za||d.setAttribute("deletable",
!1);a.Rd()||a.Za||d.setAttribute("movable",!1);Ad(a)||d.setAttribute("editable",!1);if(f=Qc(a))k=v.w.j.createElement("next"),k.appendChild(v.w.Df(f,b)),d.appendChild(k);e=a.M&&a.M.De;!e||f&&f.Za||k.appendChild(v.w.Mq(e));return d};v.w.Mq=function(a){for(var b=a=a.cloneNode(!0),d;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)d=b,b=b.parentNode,3==d.nodeType&&""==d.data.trim()&&b.firstChild!=d&&v.j.removeNode(d);b&&(d=b,b=b.nextSibling,3==d.nodeType&&""==d.data.trim()&&v.j.removeNode(d))}return a};
v.w.wc=function(a){return v.w.j.wc(a)};v.w.kz=function(a){a=v.w.wc(a).split("<");for(var b="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(b=b.substring(2));a[d]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};v.w.Uc=function(a){a=v.w.j.hy(a);if(!a||!a.documentElement||"xml"!=a.documentElement.nodeName.toLowerCase())throw TypeError("Blockly.Xml.textToDom expected an <xml> document.");return a.documentElement};
v.w.gz=function(a,b){b.Ub(!1);b.clear();a=v.w.bf(a,b);b.Ub(!0);return a};
v.w.bf=function(a,b){if(a instanceof Bd){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.v&&(e=b.fd());d=[];Cd();var f=a.childNodes.length,h=v.m.Rb();h||v.m.R(!0);b.Ub&&b.Ub(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],p=m.nodeName.toLowerCase();if("block"==p||"shadow"==p&&!v.m.Zb){var x=v.w.$h(m,b);d.push(x.id);var u=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,q=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(u)||isNaN(q)||x.moveBy(b.v?e-u:u,q);k=!1}else{if("shadow"==p)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==p)if(b.T)Dd(m,b,e);else{var t=m,w=b,J=Ed(t),O=new Fd(w,J.content,J.Nr,J.It,J.id),Z=parseInt(t.getAttribute("x"),10),fb=parseInt(t.getAttribute("y"),10);isNaN(Z)||isNaN(fb)||O.moveBy(Z,fb);Gd(O)}else if("variables"==p){if(k)v.w.iw(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||v.m.R(!1),Hd()}b.Ub&&b.Ub(!0);return d};v.w.dz=function(a,b){if(b.hasOwnProperty("scale")){var d=F;try{F=0;var e=Id(b)}finally{F=d}}a=v.w.bf(a,b);if(e&&e.height){d=e.y+e.height;var f=e.x;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=ld(b,a[e]).wa();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}d=d-k+10;f-=h;var m;b.v&&(m=b.fd());for(e=0;e<a.length;e++)ld(b,a[e]).moveBy(b.v?m-f:f,d)}return a};
v.w.$h=function(a,b){if(a instanceof Bd){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}v.m.disable();d=b.ef();try{var e=v.w.Kn(a,b),f=Pc(e,!1);if(b.T){Jd(e,!0);for(var h=f.length-1;0<=h;h--)f[h].Bc();for(h=f.length-1;0<=h;h--)f[h].na(!1);setTimeout(function(){e.s&&Jd(e,!1)},1);Kd(e);Ld(b)}else for(h=f.length-1;0<=h;h--)f[h].Vg()}finally{v.m.enable()}if(v.m.isEnabled()){a=v.G.Ir(b,d);for(h=0;h<a.length;h++)v.m.Z(new dd(a[h]));v.m.Z(new v.m.Pk(e))}return e};
v.w.iw=function(a,b){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==Element.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");e=e.textContent;if(null==f)throw Error("Variable with id, "+h+" is without a type");b.$c(e,f,h)}};
v.w.Kn=function(a,b){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=b.jf(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,m=0,p;p=k.childNodes[m];m++)1==p.nodeType&&("block"==p.nodeName.toLowerCase()?h=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.eb&&(d.eb(k),d.Bc&&d.Bc());break;case "comment":d.nh(k.textContent);
var x=k.getAttribute("pinned");x&&!d.rb&&setTimeout(function(){d.Ya&&d.Ya.ta&&d.Ya.ta("true"==x)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&d.Ya&&d.Ya.ta&&d.Ya.gg(h,k);break;case "data":d.data=k.textContent;break;case "title":case "field":v.w.hw(d,m,k);break;case "value":case "statement":k=E(d,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.De=l);if(h)if(h=v.w.Kn(h,b),h.P)k.connection.connect(h.P);
else if(h.X)k.connection.connect(h.X);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.M&&(d.M.De=l);if(h){if(!d.M)throw TypeError("Next statement does not exist.");if(d.M.isConnected())throw TypeError("Next statement is already connected.");h=v.w.Kn(h,b);if(!h.X)throw TypeError("Next block does not have previous statement.");d.M.connect(h.X)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.kg("true"==
f);(f=a.getAttribute("disabled"))&&d.Sc("true"==f||"disabled"==f);(f=a.getAttribute("deletable"))&&d.tp("true"==f);(f=a.getAttribute("movable"))&&d.ph("true"==f);(f=a.getAttribute("editable"))&&d.up("true"==f);(f=a.getAttribute("collapsed"))&&d.hg("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.If(!1);for(f=0;b=a[f];f++)if(!b.Za)throw TypeError("Shadow block not allowed non-shadow child.");if(d.gf().length)throw TypeError("Shadow blocks cannot have variable references.");d.yp(!0)}return d};
v.w.gw=function(a,b,d,e){var f=b.getAttribute("variabletype")||"";"''"==f&&(f="");a=v.G.Jl(a,b.id,d,f);if(null!=f&&f!==a.type)throw Error("Serialized variable type with id '"+a.ga()+"' had type "+a.type+", and does not match variable field that references it: "+v.w.wc(b)+".");e.setValue(a.ga())};v.w.hw=function(a,b,d){var e=C(a,b);e?(a=a.s,b=d.textContent,e.kh()?v.w.gw(a,d,b,e):e.setValue(b)):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};
v.w.aw=function(a){for(var b=0,d;d=a.childNodes[b];b++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};g.Blockly||(g.Blockly={});g.Blockly.Xml||(g.Blockly.Xml={});g.Blockly.Xml.domToText=v.w.wc;g.Blockly.Xml.domToWorkspace=v.w.bf;g.Blockly.Xml.textToDom=v.w.Uc;g.Blockly.Xml.workspaceToDom=v.w.Qp;function Md(a){this.We=a.id;this.Hc=a.s.id;this.group=v.m.Pl;this.Zb=v.m.Zb}r(Md,md);Md.prototype.Ea=function(){var a={type:this.type};this.group&&(a.group=this.group);this.We&&(a.commentId=this.We);return a};Md.prototype.oa=function(a){this.We=a.commentId;this.group=a.group};function id(a,b,d){a&&(id.u.constructor.call(this,a),this.Fs=b,this.om=d)}r(id,Md);c=id.prototype;c.type=v.m.Xp;c.Ea=function(){var a=id.u.Ea.call(this);a.newContents=this.om;return a};
c.oa=function(a){id.u.oa.call(this,a);this.om=a.newValue};c.si=function(){return this.Fs==this.om};c.run=function(a){var b;(b=nd(this).Gg[this.We]||null)?b.ze(a?this.om:this.Fs):console.warn("Can't change non-existent comment: "+this.We)};function hd(a){a&&(hd.u.constructor.call(this,a),this.xml=a.Ek())}r(hd,Md);hd.prototype.type=v.m.Yp;hd.prototype.Ea=function(){var a=hd.u.Ea.call(this);a.xml=v.w.wc(this.xml);return a};
hd.prototype.oa=function(a){hd.u.oa.call(this,a);this.xml=v.w.Uc("<xml>"+a.xml+"</xml>").firstChild};hd.prototype.run=function(a){v.m.bq(this,a)};v.m.bq=function(a,b){var d=nd(a);b?(b=v.w.j.createElement("xml"),b.appendChild(a.xml),v.w.bf(b,d)):(d=d.Gg[a.We]||null)?d.C(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.We)};function kd(a){a&&(kd.u.constructor.call(this,a),this.xml=a.Ek())}r(kd,Md);kd.prototype.type=v.m.Zp;kd.prototype.Ea=function(){return kd.u.Ea.call(this)};
kd.prototype.oa=function(a){kd.u.oa.call(this,a)};kd.prototype.run=function(a){v.m.bq(this,!a)};function jd(a){a&&(jd.u.constructor.call(this,a),this.sn=a,this.Ko=a.qd.clone(),this.ah=null)}r(jd,Md);c=jd.prototype;c.lf=function(){if(!this.sn)throw Error("Tried to record the new position of a comment on the same event twice.");this.ah=this.sn.qd.clone();this.sn=null};c.type=v.m.$p;c.Ea=function(){var a=jd.u.Ea.call(this);this.ah&&(a.newCoordinate=Math.round(this.ah.x)+","+Math.round(this.ah.y));return a};
c.oa=function(a){jd.u.oa.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.ah=new A(parseFloat(a[0]),parseFloat(a[1])))};c.si=function(){return pc(this.Ko,this.ah)};c.run=function(a){var b;if(b=nd(this).Gg[this.We]||null){a=a?this.ah:this.Ko;var d=b.qd.clone();b.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.We)};function Fd(a,b,d,e,f){this.id=f&&!a.Gg[f]?f:v.j.le();a.Oi.push(this);a.Gg[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Gg[this.id]=this;this.qd=new A(0,0);this.Ia=d;this.pa=e;this.s=a;this.v=a.v;this.ck=this.rj=!0;this.Nc=b;this.so=!0;Gd(this)}c=Fd.prototype;
c.C=function(){if(this.s){v.m.isEnabled()&&v.m.Z(new kd(this));var a=this.s;if(!v.j.fj(a.Oi,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Gg[this.id];this.s=null}};c.ii=function(){return this.Ia};c.fd=function(){return this.pa};c.moveBy=function(a,b){var d=new jd(this);this.qd.translate(a,b);d.lf();v.m.Z(d)};c.mc=function(){return this.rj&&!(this.s&&this.s.options.readOnly)};c.tp=function(a){this.rj=a};c.Rd=function(){return this.ck&&!(this.s&&this.s.options.readOnly)};
c.ph=function(a){this.ck=a};c.Jf=function(){return this.Nc};c.ze=function(a){this.Nc!=a&&(v.m.Z(new id(this,this.Nc,a)),this.Nc=a)};c.Ek=function(a){a=Nd(this,a);a.setAttribute("x",Math.round(this.qd.x));a.setAttribute("y",Math.round(this.qd.y));a.setAttribute("h",this.Ia);a.setAttribute("w",this.pa);return a};function Nd(a,b){var d=v.w.j.createElement("comment");b||d.setAttribute("id",a.id);d.textContent=a.Jf();return d}
function Gd(a){if(v.m.isEnabled()){var b=v.m.Rb();b||v.m.R(!0);try{v.m.Z(new hd(a))}finally{b||v.m.R(!1)}}}function Ed(a){var b=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),Nr:b?parseInt(b,10):100,It:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function Bd(a){this.id=v.j.le();Zc[this.id]=this;this.options=a||{};this.v=!!this.options.v;this.qe=!!this.options.qe;this.Fa=this.options.Fa;this.Ni=[];this.Oi=[];this.Gg=Object.create(null);this.Ec=[];this.Bh=[];this.kk=[];this.kn=Object.create(null);this.uf=Object.create(null);this.ua=new pd(this);this.Fi=null}c=Bd.prototype;c.T=!1;c.ro=!1;c.gq=1024;c.C=function(){this.Ec.length=0;this.clear();delete Zc[this.id]};
c.Fe=function(a,b){a=a.wa();b=b.wa();return a.y+Bd.prototype.Fe.offset*a.x-(b.y+Bd.prototype.Fe.offset*b.x)};function Od(a,b){if(!v.j.fj(a.Ni,b))throw Error("Block not present in workspace's list of top-most blocks.");}function zd(a,b){var d=[].concat(a.Ni);b&&1<d.length&&(a.Fe.offset=Math.sin(v.j.Dk(3)),a.v&&(a.Fe.offset*=-1),d.sort(a.Fe));return d}function yd(a,b){var d=[].concat(a.Oi);b&&1<d.length&&(a.Fe.offset=Math.sin(v.j.Dk(3)),a.v&&(a.Fe.offset*=-1),d.sort(a.Fe));return d}
function qd(a,b){if(b){a=zd(a,!0);b=[];for(var d=0;d<a.length;d++)b.push.apply(b,Pc(a[d],!0))}else for(b=zd(a,!1),d=0;d<b.length;d++)b.push.apply(b,b[d].If(!1));return b}c.clear=function(){this.ro=!0;try{var a=v.m.Rb();for(a||v.m.R(!0);this.Ni.length;)this.Ni[0].C();for(;this.Oi.length;)this.Oi[this.Oi.length-1].C();a||v.m.R(!1);this.ua.clear();this.Fi&&this.Fi.clear()}finally{this.ro=!1}};c.mh=function(a,b){this.ua.mh(a,b)};c.$c=function(a,b,d){return this.ua.$c(a,b,d)};c.$n=function(a){return this.ua.$n(a)};
c.$e=function(a){this.ua.$e(a)};c.ml=function(a,b){this.ua.ml(a,b)};c.jc=function(a,b){return this.ua.jc(a,b)};c.Md=function(a){return this.ua.Md(a)};c.Gj=function(a){return this.ua.Gj(a)};c.Zn=function(){return this.ua.Zn()};c.ef=function(){return this.ua.ef()};c.fd=function(){return 0};c.jf=function(a,b){return new Pd(this,a,b)};function Qd(a){return isNaN(a.options.Co)?Infinity:a.options.Co-qd(a).length}
function Rd(a,b){if(!Sd(a))return!0;var d=0,e;for(e in b){var f=b[e];if(a.options.Do){var h=a.options.Do[e]||Infinity;var k=a.uf[e]?a.uf[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;d+=b[e]}return d>Qd(a)?!1:!0}function Sd(a){return Infinity!=a.options.Co||!!a.options.Do}
c.Op=function(a){var b=a?this.kk:this.Bh,d=a?this.Bh:this.kk,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)d.push(e);f=v.m.filter(f,a);v.m.Zb=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{v.m.Zb=!0}}};c.Kq=function(){this.Bh.length=0;this.kk.length=0;v.m.Dv()};c.Kc=function(a){this.Ec.push(a);return a};c.cg=function(a){v.j.fj(this.Ec,a)};function ld(a,b){return a.kn[b]||null}var Zc=Object.create(null);Bd.prototype.clear=Bd.prototype.clear;
Bd.prototype.clearUndo=Bd.prototype.Kq;Bd.prototype.addChangeListener=Bd.prototype.Kc;Bd.prototype.removeChangeListener=Bd.prototype.cg;function Td(a,b,d,e,f,h){this.o=a;this.Nc=b;this.rt=d;d=Ud;this.o.v&&(d=-d);this.kv=v.j.Dk(d);a.md.appendChild(this.nj(b,!(!f||!h)));this.vd=e;this.eg&&Vd(this);f&&h||(b=this.Nc.getBBox(),f=b.width+2*Wd,h=b.height+2*Wd);this.gg(f,h);Vd(this);Xd(this);this.eg=!0;a.options.readOnly||(v.U(this.gj,"mousedown",this,this.tv),this.Nb&&v.U(this.Nb,"mousedown",this,this.hp))}var Wd=6,Ud=20,Yd=null,Zd=null;c=Td.prototype;c.gp=null;function $d(){Yd&&(v.Pa(Yd),Yd=null);Zd&&(v.Pa(Zd),Zd=null)}
function ae(){v.Touch.Ve();$d()}c.eg=!1;c.vd=null;c.Gi=0;c.mk=0;c.pa=0;c.Ia=0;c.Yk=!0;
c.nj=function(a,b){this.Zc=v.j.D("g",{},null);var d={filter:"url(#"+this.o.options.Cr+")"};-1!=$a.indexOf("JavaFX")&&(d={});d=v.j.D("g",d,this.Zc);this.mn=v.j.D("path",{},d);this.gj=v.j.D("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Wd,ry:Wd},d);b?(this.Nb=v.j.D("g",{"class":this.o.v?"blocklyResizeSW":"blocklyResizeSE"},this.Zc),b=2*Wd,v.j.D("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.Nb),v.j.D("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.Nb),v.j.D("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.Nb)):this.Nb=null;this.Zc.appendChild(a);return this.Zc};c.ma=function(){return this.Zc};function be(a,b){a.Zc.dataset&&(a.Zc.dataset.Wb=b)}c.tv=function(a){var b=this.o.ne(a);b&&ce(b,a,this)};c.Li=function(){};c.mc=function(){return!1};c.hp=function(a){de(this);$d();v.j.Vf(a)||(this.o.Hm(a,new A(this.o.v?-this.pa:this.pa,this.Ia)),Yd=v.U(document,"mouseup",this,ae),Zd=v.U(document,"mousemove",this,this.ip),v.Tb());a.stopPropagation()};
c.ip=function(a){this.Yk=!1;a=ee(this.o,a);this.gg(this.o.v?-a.x:a.x,a.y);this.o.v&&Vd(this)};function de(a){var b=a.Zc.parentNode;return b.lastChild!==a.Zc?(b.appendChild(a.Zc),!0):!1}function Vd(a){var b=a.vd.x;b=a.o.v?b-(a.Gi+a.pa):b+a.Gi;a.moveTo(b,a.mk+a.vd.y)}c.moveTo=function(a,b){this.Zc.setAttribute("transform","translate("+a+","+b+")")};c.Pg=function(){return{width:this.pa,height:this.Ia}};
c.gg=function(a,b){var d=2*Wd;a=Math.max(a,d+45);b=Math.max(b,d+20);this.pa=a;this.Ia=b;this.gj.setAttribute("width",a);this.gj.setAttribute("height",b);this.Nb&&(this.o.v?this.Nb.setAttribute("transform","translate("+2*Wd+","+(b-d)+") scale(-1 1)"):this.Nb.setAttribute("transform","translate("+(a-d)+","+(b-d)+")"));if(this.eg){if(this.Yk){a=-this.pa/4;b=-this.Ia-25;d=this.o.qb();d.Da/=this.o.scale;d.Db/=this.o.scale;var e=this.vd.x;this.o.v?e-d.Db-a-this.pa<G?a=e-d.Db-this.pa-G:e-d.Db-a>d.Da&&(a=
e-d.Db-d.Da):e+a<d.Db?a=d.Db-e:d.Db+d.Da<e+a+this.pa+10+G&&(a=d.Db+d.Da-e-this.pa-G);this.vd.y+b<d.Ke&&(b=this.rt.getBBox().height);this.Gi=a;this.mk=b}Vd(this);Xd(this)}this.gp&&this.gp()};
function Xd(a){var b=[],d=a.pa/2,e=a.Ia/2,f=-a.Gi,h=-a.mk;if(d==f&&e==h)b.push("M "+d+","+e);else{h-=e;f-=d;a.o.v&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var p=Math.sin(m),x=Math.cos(m),u=a.Pg();m=(u.width+u.height)/5;m=Math.min(m,u.width,u.height)/4;u=1-8/k;f=d+u*f;h=e+u*h;u=d+m*x;var q=e+m*p;d-=m*x;e-=m*p;p=l+a.kv;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/4;k=Math.cos(p)*k/4;b.push("M"+u+","+q);b.push("C"+(u+k)+","+
(q+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}b.push("z");a.mn.setAttribute("d",b.join(" "))}c.pb=function(a){this.gj.setAttribute("fill",a);this.mn.setAttribute("fill",a)};c.C=function(){$d();v.j.removeNode(this.Zc);this.rt=this.Nc=this.o=this.Nb=this.gj=this.mn=this.Zc=null};c.mm=function(a,b){a?a.sf(b.x,b.y):this.moveTo(b.x,b.y);this.Gi=this.o.v?this.vd.x-b.x-this.pa:b.x-this.vd.x;this.mk=b.y-this.vd.y;Xd(this)};
c.wa=function(){return new A(this.vd.x+this.Gi,this.vd.y+this.mk)};c.nt=function(a){this.Yk=a};function gd(a,b,d,e){gd.u.constructor.call(this);this.Wb=a?a.id:null;this.Hc=a?a.s.id:null;this.element=b;this.oldValue=d;this.newValue=e;this.Zb=!1}r(gd,md);gd.prototype.type=v.m.an;gd.prototype.Ea=function(){var a=gd.u.Ea.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Wb&&(a.blockId=this.Wb);return a};gd.prototype.oa=function(a){gd.u.oa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Wb=a.blockId};function fe(a){this.Y=a}c=fe.prototype;c.Nq=!0;c.Wm=17;c.bb=null;c.Ug=null;function ge(a){a.Ac||(a.Ac=v.j.D("g",{"class":"blocklyIconGroup"},null),a.Y.rb&&v.j.ab(a.Ac,"blocklyIconGroupReadonly"),a.Ln(a.Ac),a.Y.ma().appendChild(a.Ac),v.U(a.Ac,"mouseup",a,a.mo),a.xf())}c.C=function(){v.j.removeNode(this.Ac);this.Ac=null;this.ta(!1);this.Y=null};c.xf=function(){};c.$=function(){return!!this.bb};c.mo=function(a){this.Y.s.ob()||this.Y.rb||v.j.Vf(a)||this.ta(!this.$())};c.wf=function(){this.$()&&this.bb.pb(this.Y.ge)};
function he(a){var b=a.Y.wa(),d=v.j.yc(a.Ac);b=new A(b.x+d.x+a.Wm/2,b.y+d.y+a.Wm/2);pc(a.Ug,b)||(a.Ug=b,a.$()&&(a=a.bb,a.vd=b,a.eg&&Vd(a)))};
// Copyright 2011 Google Inc.  Apache License 2.0
function ie(a){ie.u.constructor.call(this,a);ge(this)}r(ie,fe);c=ie.prototype;c.qa="";c.pa=160;c.Ia=80;c.Ln=function(a){v.j.D("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);v.j.D("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);v.j.D("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
c.oj=function(){this.cd=v.j.D("foreignObject",{x:Wd,y:Wd},null);var a=document.createElementNS(v.yf,"body");a.setAttribute("xmlns",v.yf);a.className="blocklyMinimalBody";var b=document.createElementNS(v.yf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.Y.v?"RTL":"LTR");a.appendChild(b);this.ub=b;this.cd.appendChild(a);v.U(b,"mouseup",this,this.iy,!0,!0);v.U(b,"wheel",this,function(a){a.stopPropagation()});v.U(b,"change",this,function(){this.qa!=b.value&&(v.m.Z(new v.m.Ic(this.Y,
"comment",null,this.qa,b.value)),this.qa=b.value)});setTimeout(function(){b.focus()},0);return this.cd};c.xf=function(){this.$()&&(this.ta(!1),this.ta(!0));fe.prototype.xf.call(this)};c.zm=function(){if(this.$()){var a=this.bb.Pg(),b=2*Wd;this.cd.setAttribute("width",a.width-b);this.cd.setAttribute("height",a.height-b);this.ub.style.width=a.width-b-4+"px";this.ub.style.height=a.height-b-4+"px"}};
c.ta=function(a){if(a!=this.$())if(v.m.Z(new gd(this.Y,"commentOpen",!a,a)),!Ad(this.Y)&&!this.ub||y)je.prototype.ta.call(this,a);else{var b=this.yb(),d=this.Pg();a?(this.bb=new Td(this.Y.s,this.oj(),this.Y.Dd,this.Ug,this.pa,this.Ia),be(this.bb,this.Y.id),a=this.zm.bind(this),this.bb.gp=a,this.wf()):(this.bb.C(),this.cd=this.ub=this.bb=null);this.sb(b);this.gg(d.width,d.height)}};c.iy=function(){de(this.bb)&&this.ub.focus()};c.Pg=function(){return this.$()?this.bb.Pg():{width:this.pa,height:this.Ia}};
c.gg=function(a,b){this.ub?this.bb.gg(a,b):(this.pa=a,this.Ia=b)};c.yb=function(){return this.ub?this.ub.value:this.qa};c.sb=function(a){this.qa!=a&&(v.m.Z(new v.m.Ic(this.Y,"comment",null,this.qa,a)),this.qa=a);this.ub&&(this.ub.value=a)};c.C=function(){v.m.isEnabled()&&this.sb("");this.Y.Ya=null;fe.prototype.C.call(this)};function ke(a,b){this.A=a;this.type=b;a.s.tn&&(this.yd=a.s.tn[b],this.ll=a.s.tn[v.Oh[b]],this.lo=!this.yd)}c=ke.prototype;c.xa=null;c.Se=null;c.De=null;c.Xc=0;c.Va=0;c.Qf=!1;c.yd=null;c.ll=null;c.lo=null;
c.il=function(a){var b=this,d=b.A,e=a.A;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=D(b),h=b.De;b.De=null;if(f.Za)h=v.w.Df(f),f.C(),f=null;else if(b.type==v.$a){if(!f.P)throw Error("Orphan block does not have an output connection.");var k=le(e,f);k&&(f.P.connect(k),f=null)}else if(b.type==v.Wa){if(!f.X)throw Error("Orphan block does not have a previous connection.");for(k=e;k.M;){var l=Qc(k);if(l&&!l.Za)k=l;else{me(f.X,k.M)&&(k.M.connect(f.X),f=null);break}}}if(f&&(b.disconnect(),v.m.Zb)){var m=
v.m.Rb();setTimeout(function(){f.s&&!f.getParent()&&(v.m.R(m),f.P?ne(f.P,b):f.X&&ne(f.X,b),v.m.R(!1))},v.Ok)}b.De=h}var p;v.m.isEnabled()&&(p=new v.m.Ti(e));oe(b,a);e.qh(d);p&&(p.lf(),v.m.Z(p))};c.C=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.Qf&&pe(this.yd,this);this.ll=this.yd=null};function qe(a){return a.type==v.$a||a.type==v.Wa}c.isConnected=function(){return!!this.xa};
function re(a,b){if(!b)return 3;if(qe(a))var d=a.A,e=b.A;else e=a.A,d=b.A;return d&&d==e?1:b.type!=v.Oh[a.type]?2:d&&e&&d.s!==e.s?5:me(a,b)?d.Za&&!e.Za?6:0:4}
c.Xl=function(a){if(a.A.$l||0!=re(this,a))return!1;switch(a.type){case v.Ag:return this.xa||-1!=v.sj.indexOf(a)?a=!1:a.xa?(a=D(a),a=a.$l?!(a.X&&D(a.X)):!1):a=!0,a;case v.Sh:if(a.isConnected()||this.isConnected())return!1;break;case v.$a:if(a.isConnected()&&!D(a).Rd()&&!D(a).Za)return!1;break;case v.Wa:if(a.isConnected()&&!this.A.M&&!D(a).Za&&D(a).M)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=v.sj.indexOf(a)?!1:!0};
c.connect=function(a){if(this.xa!=a){switch(re(this,a)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(this+" expected "+this.Se+", found "+a.Se));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}qe(this)?this.il(a):a.il(this)}};function oe(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.xa=b;b.xa=a}function se(a,b){for(var d=!1,e=0;e<a.V.length;e++){var f=a.V[e].connection;if(f&&f.type==v.$a&&me(b.P,f)){if(d)return null;d=f}}return d}function le(a,b){for(var d;d=se(a,b);)if(a=D(d),!a||a.Za)return d;return null}
c.disconnect=function(){var a=this.xa;if(!a)throw Error("Source connection not connected.");if(a.xa!=this)throw Error("Target connection not connected to source connection.");if(qe(this)){var b=this.A;var d=a.A;a=this}else b=a.A,d=this.A;this.Gn(b,d);a.kp()};c.Gn=function(a,b){var d;v.m.isEnabled()&&(d=new v.m.Ti(b));this.xa=this.xa.xa=null;b.qh(null);d&&(d.lf(),v.m.Z(d))};
c.kp=function(){var a=this.A,b=this.De;if(a.s&&b&&v.m.Zb)if(a=v.w.$h(b,a.s),a.P)this.connect(a.P);else if(a.X)this.connect(a.X);else throw Error("Child block does not have output or previous statement.");};function D(a){return a.isConnected()?a.xa.A:null}function me(a,b){if(!a.Se||!b.Se)return!0;for(var d=0;d<a.Se.length;d++)if(-1!=b.Se.indexOf(a.Se[d]))return!0;return!1}c.Ks=function(){this.isConnected()&&!me(this,this.xa)&&xd(qe(this)?D(this):this.A)};
c.Ha=function(a){a?(Array.isArray(a)||(a=[a]),this.Se=a,this.Ks()):this.Se=null;return this};c.Es=function(){return[]};
c.toString=function(){var a=this.A;if(a)if(a.P==this)var b="Output Connection of ";else if(a.X==this)b="Previous Connection of ";else if(a.M==this)b="Next Connection of ";else{b=null;for(var d=0,e;e=a.V[d];d++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";return b+te(a)};function ue(){}ue.prototype=[];function ve(a,b){if(b.Qf)throw Error("Connection already in database.");b.A.rb||(a.splice(we(a,b),0,b),b.Qf=!0)}function xe(a,b){if(!a.length)return-1;var d=we(a,b);if(d>=a.length)return-1;for(var e=b.Va,f=d;0<=f&&a[f].Va==e;){if(a[f]==b)return f;f--}for(;d<a.length&&a[d].Va==e;){if(a[d]==b)return d;d++}return-1}
function we(a,b){if(!a.length)return 0;for(var d=0,e=a.length;d<e;){var f=Math.floor((d+e)/2);if(a[f].Va<b.Va)d=f+1;else if(a[f].Va>b.Va)e=f;else{d=f;break}}return d}function pe(a,b){if(!b.Qf)throw Error("Connection not in database.");var d=xe(a,b);if(-1==d)throw Error("Unable to find connection in connectionDB.");b.Qf=!1;a.splice(d,1)}
function ye(a,b,d){function e(a){var b=h-f[a].Xc,e=k-f[a].Va;Math.sqrt(b*b+e*e)<=d&&m.push(f[a]);return e<d}var f=a,h=b.Xc,k=b.Va;a=0;for(var l=b=f.length-2;a<l;)f[l].Va<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m};v.hz={};v.Yt=5;v.$t=10;v.Jc=28;v.Dy=v.Jc;v.Ey=8;v.Ly="#000000";v.Ok=250;v.Wp=10;v.Pt=30;v.uu=750;v.Qu=100;v.Zt=!0;v.ju=.45;v.ku=.65;v.rc={width:96,height:124,url:"sprites.png"};v.Zm="http://www.w3.org/2000/svg";v.yf="http://www.w3.org/1999/xhtml";v.$a=1;v.Sh=2;v.Wa=3;v.Ag=4;v.Le=5;v.Si=-1;v.Mk=0;v.Qb=1;v.Iy=0;v.Jy=1;v.Gy=1;v.Hy=2;v.Oh=[];v.Oh[v.$a]=v.Sh;v.Oh[v.Sh]=v.$a;v.Oh[v.Wa]=v.Ag;v.Oh[v.Ag]=v.Wa;v.Bf=0;v.Cg=1;v.Oe=2;v.Hd=3;v.cq=null;v.Rm=1;v.eq=2;v.nq="VARIABLE";v.Zu="VARIABLE_DYNAMIC";
v.lq="PROCEDURE";v.mq="RENAME_VARIABLE_ID";v.fq="DELETE_VARIABLE_ID";v.Ka={};v.Ka.Hn=0;v.Ka.rl=null;v.Ka.ew=function(a){var b=a.s,d=a.ma();b.ce.play("delete");a=ze(b,d);d=d.cloneNode(!0);d.py=a.x;d.qy=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");H(b).appendChild(d);d.wq=d.getBBox();v.Ka.xr(d,b.v,new Date,b.scale)};v.Ka.xr=function(a,b,d,e){var f=(new Date-d)/150;1<f?v.j.removeNode(a):(a.setAttribute("transform","translate("+(a.py+(b?-1:1)*a.wq.width*e/2*f)+","+(a.qy+a.wq.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(v.Ka.xr,10,a,b,d,e))};
v.Ka.Kv=function(a){var b=a.s,d=b.scale;b.ce.play("click");if(!(1>d)){var e=ze(b,a.ma());a.P?(e.x+=(a.v?3:-3)*d,e.y+=13*d):a.X&&(e.x+=(a.v?-23:23)*d,e.y+=3*d);a=v.j.D("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},H(b));v.Ka.Rq(a,new Date,d)}};v.Ka.Rq=function(a,b,d){var e=(new Date-b)/150;1<e?v.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,v.Ka.Hn=setTimeout(v.Ka.Rq,10,a,b,d))};
v.Ka.dw=function(a){a.s.ce.play("disconnect");if(!(1>a.s.scale)){var b=a.Kb().height;b=Math.atan(10/b)/Math.PI*180;a.v||(b*=-1);v.Ka.wr(a.ma(),b,new Date)}};v.Ka.wr=function(a,b,d){var e=(new Date-d)/200;1<e?a.uh="":(a.uh="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",v.Ka.rl=a,v.Ka.Hn=setTimeout(v.Ka.wr,10,a,b,d));a.setAttribute("transform",a.tf+a.uh)};v.Ka.In=function(){if(v.Ka.rl){clearTimeout(v.Ka.Hn);var a=v.Ka.rl;a.uh="";a.setAttribute("transform",a.tf);v.Ka.rl=null}};function Ae(a,b){Ae.u.constructor.call(this,a,b);this.pm=new A(0,0)}r(Ae,ke);function Be(a,b){var d=a.Xc-b.Xc;a=a.Va-b.Va;return Math.sqrt(d*d+a*a)}function ne(a,b){if(!a.A.s.ob()){var d=Ce(a.A);if(!d.rb){var e=!1;if(!d.Rd()){d=Ce(b.A);if(!d.Rd())return;b=a;e=!0}var f=v.selected==d;f||d.Uh();var h=b.Xc+v.Jc+Math.floor(Math.random()*v.Wp)-a.Xc;a=b.Va+v.Jc+Math.floor(Math.random()*v.Wp)-a.Va;e&&(a=-a);d.v&&(h=-h);d.moveBy(h,a);f||d.lh()}}}c=Ae.prototype;
c.moveTo=function(a,b){this.Qf&&pe(this.yd,this);this.Xc=a;this.Va=b;this.lo||ve(this.yd,this)};c.moveBy=function(a,b){this.moveTo(this.Xc+a,this.Va+b)};function De(a,b){a.moveTo(b.x+a.pm.x,b.y+a.pm.y)}function Ee(a,b,d){a.pm.x=b;a.pm.y=d}function Fe(a){var b=a.xa.Xc-a.Xc,d=a.xa.Va-a.Va;if(0!=b||0!=d){a=D(a);var e=a.ma();if(!e)throw Error("block is not rendered.");e=v.j.yc(e);a.ma().setAttribute("transform","translate("+(e.x-b)+","+(e.y-d)+")");Ge(a,-b,-d)}}
c.closest=function(a,b){var d=this.ll;if(d.length){var e=this.Va,f=this.Xc;this.Xc=f+b.x;this.Va=e+b.y;var h=we(d,this);b=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(d[m].Va-this.Va)<=a;)l=d[m],this.Xl(l,k)&&(b=l,k=Be(l,this)),m--;for(;h<d.length&&Math.abs(d[h].Va-this.Va)<=a;)l=d[h],this.Xl(l,k)&&(b=l,k=Be(l,this)),h++;this.Xc=f;this.Va=e;a={connection:b,dt:k}}else a={connection:null,dt:a};return a};
c.Ur=function(){var a=this.type==v.$a||this.type==v.Sh?"m 0,0 "+He+" v 5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5";var b=this.A.wa();ke.Wr=v.j.D("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.Xc-b.x)+","+(this.Va-b.y)+")"+(this.A.v?" scale(-1 1)":"")},this.A.ma())};
function Ie(a){Je(a,!1);var b=[];if(a.type!=v.$a&&a.type!=v.Wa)return b;if(a=D(a)){if(a.isCollapsed()){var d=[];a.P&&d.push(a.P);a.M&&d.push(a.M);a.X&&d.push(a.X)}else d=a.me(!0);for(var e=0;e<d.length;e++)b.push.apply(b,Ie(d[e]));b.length||(b[0]=a)}return b}function Ke(){v.j.removeNode(ke.Wr);delete ke.Wr}function Je(a,b){(a.lo=b)&&a.Qf?pe(a.yd,a):b||a.Qf||ve(a.yd,a)}c.Xl=function(a,b){return Be(this,a)>b?!1:Ae.u.Xl.call(this,a)};
c.Gn=function(a,b){Ae.u.Gn.call(this,a,b);a.T&&a.na();b.T&&(Kd(b),b.na())};c.kp=function(){var a=this.A,b=this.De;if(a.s&&b&&v.m.Zb){Ae.u.kp.call(this);b=D(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.Bc();b.na(!1);a.T&&a.na()}};c.Es=function(a){return ye(this.ll,this,a)};c.il=function(a){Ae.u.il.call(this,a);var b=this.A;a=a.A;b.T&&Kd(b);a.T&&Kd(a);b.T&&a.T&&(this.type==v.Wa||this.type==v.Ag?a.na():b.na())};
c.Ks=function(){this.isConnected()&&!me(this,this.xa)&&(xd(qe(this)?D(this):this.A),this.A.mb())};function Le(a){this.pg=v.selected=a;this.o=a.s;a=this.pg.me(!1);var b;a:{for(b=this.pg.M;b;){var d=D(b);if(!d)break a;b=d.M}b=null}b&&b!=this.pg.M&&a.push(b);this.jn=a;this.wi=this.Xb=null;this.ep=0;this.vg=!1}Le.prototype.C=function(){this.o=this.pg=null;this.jn.length=0;this.wi=this.Xb=null};
Le.prototype.update=function(a,b){var d=this.Xb,e=this.Xb;this.wi=this.Xb=null;this.ep=v.Jc;for(var f=0;f<this.jn.length;f++){var h=this.jn[f],k=h.closest(this.ep,a);k.connection&&(this.Xb=k.connection,this.wi=h,this.ep=k.dt)}(a=e!=this.Xb)&&d&&Ke();d=!!this.Xb&&b!=v.eq;this.vg=(b=!!b&&!this.pg.getParent()&&this.pg.mc())&&!d;b&&this.Xb&&(Ke(),this.Xb=null);!this.vg&&a&&this.Xb&&this.Xb&&this.Xb.Ur()};function Me(a,b){this.fb=a;this.o=b;this.Ng=new Le(this.fb);this.Kg=null;this.vg=!1;this.Ge=this.fb.wa();b=[];a=Pc(a,!1);for(var d=0,e;e=a[d];d++){e=Ne(e);for(var f=0;f<e.length;f++)b.push({location:e[f].Ug,icon:e[f]})}this.vl=b}Me.prototype.C=function(){this.Ob=this.o=this.fb=null;this.vl.length=0;this.Ng&&(this.Ng.C(),this.Ng=null)};
function Oe(a,b,d){d=a.Ci(d);a.fb.mm(sc(a.Ge,d));for(var e=0;e<a.vl.length;e++){var f=a.vl[e],h=f.icon;f=sc(f.location,d);h.Ug=f;h.$()&&(h=h.bb,h.vd=f,h.eg&&Vd(h))}a.Kg=Pe(a.o,b);a.Ng.update(d,a.Kg);a.vg=a.Ng.vg;b=a.o.dc;a.vg?(a.fb.rk(!0),a.Kg==v.Rm&&b&&Qe(b,!0)):(a.fb.rk(!1),b&&Qe(b,!1))}
function Re(a,b,d){Oe(a,b,d);a.vl=[];Hd();v.Ka.In();b=a.Ci(d);a.fb.Bs(sc(a.Ge,b));d=a.o.dc;a.vg?(d&&setTimeout(d.close.bind(d),100),a.vj(),a.fb.C(!1,!0)):d&&d.close();a.vg||(Ge(a.fb,b.x,b.y),a.fb.ig(!1),a.vj(),a.Ng.Xb?(b=a.Ng,b.Xb&&(b.wi.connect(b.Xb),b.pg.T&&(v.Ka.Kv((qe(b.wi)?b.Xb:b.wi).A),Se(Ce(b.pg))),b.Xb&&Ke())):a.fb.na(),Te(a.fb));a.o.Ub(!0);(b=a.o.ia)&&v.j.Ab(b.pc,a.fb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.m.R(!1)}
Me.prototype.vj=function(){var a=new v.m.Ti(this.fb);a.Jo=this.Ge;a.lf();v.m.Z(a)};Me.prototype.Ci=function(a){a=new A(a.x/this.o.scale,a.y/this.o.scale);this.o.ri&&(a=a.scale(1/this.o.options.zb.scale));return a};function Ue(a,b,d,e,f){this.B=v.j.D("g",{"class":"blocklyComment"},null);this.B.tf="";this.Ck=v.j.D("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.B.appendChild(this.Ck);this.eg=!1;this.Je=v.j.Tf()&&!!a.xb;Ue.u.constructor.call(this,a,b,d,e,f);this.na()}r(Ue,Fd);c=Ue.prototype;
c.C=function(){if(this.s){if(v.selected==this){this.Ch();var a=this.s;a.Hb&&a.Hb.cancel()}v.m.isEnabled()&&v.m.Z(new kd(this));v.j.removeNode(this.B);this.xh=this.og=this.cd=this.ub=this.Ck=this.B=null;this.af=!0;v.m.disable();Ue.u.C.call(this);v.m.enable()}};c.Bc=function(){if(!this.s.T)throw TypeError("Workspace is headless.");this.s.options.readOnly||this.Nn||(v.U(this.og,"mousedown",this,this.Vs),v.U(this.xh,"mousedown",this,this.Vs));this.Nn=!0;Ve(this);this.ma().parentNode||this.s.md.appendChild(this.ma())};
c.Vs=function(a){var b=this.s.ne(a);b&&ce(b,a,this)};c.Li=function(a){if(!this.s.options.readOnly){var b=[];this.mc()&&this.Rd()&&(b.push(v.ha.Gv(this)),b.push(v.ha.Fv(this)));v.ha.show(a,b,this.v)}};c.select=function(){if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.m.disable();try{v.selected.Ch()}finally{v.m.enable()}}a=new gd(null,"selected",a,this.id);a.Hc=this.s.id;v.m.Z(a);v.selected=this;this.Uh()}};
c.Ch=function(){if(v.selected==this){var a=new gd(null,"selected",this.id,null);a.Hc=this.s.id;v.m.Z(a);v.selected=null;this.lh();We(this)}};c.Uh=function(){v.j.ab(this.B,"blocklySelected");this.vp()};c.lh=function(){v.j.Ab(this.B,"blocklySelected");We(this)};
c.wa=function(){var a=0,b=0,d=this.Je?this.s.xb.Rb():null,e=this.ma();if(e){do{var f=v.j.yc(e);a+=f.x;b+=f.y;this.Je&&this.s.xb.zd.firstChild==e&&(f=this.s.xb.Ml(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.s.md&&e!=d)}return this.qd=new A(a,b)};c.moveBy=function(a,b){var d=new jd(this),e=this.wa();this.translate(e.x+a,e.y+b);this.qd=new A(e.x+a,e.y+b);d.lf();v.m.Z(d);Ld(this.s)};c.translate=function(a,b){this.qd=new A(a,b);this.ma().setAttribute("transform","translate("+a+","+b+")")};
c.nm=function(){if(this.Je){var a=this.wa();v.j.removeAttribute(this.ma(),"transform");this.s.xb.sf(a.x,a.y);Xe(this.s.xb,this.ma())}};c.Bs=function(a){this.Je&&(this.translate(a.x,a.y),this.s.xb.ij(this.s.Oa))};c.mm=function(a,b){a?a.sf(b.x,b.y):(this.B.tf="translate("+b.x+","+b.y+")",this.B.setAttribute("transform",this.B.tf+this.B.uh))};c.moveTo=function(a,b){this.translate(a,b)};
c.Un=function(){var a=this.wa(),b=this.Kb();if(this.v){var d=new A(a.x-b.width,a.y);a=new A(a.x,a.y+b.height)}else d=new A(a.x,a.y),a=new A(a.x+b.width,a.y+b.height);return{nd:d,Id:a}};function Ve(a){a.Rd()?v.j.ab(a.B,"blocklyDraggable"):v.j.Ab(a.B,"blocklyDraggable")}c.ph=function(a){Ue.u.ph.call(this,a);Ve(this)};c.ig=function(a){a?(a=this.ma(),a.tf="",a.uh="",v.j.ab(this.B,"blocklyDragging")):v.j.Ab(this.B,"blocklyDragging")};c.ma=function(){return this.B};
c.Jf=function(){return this.ub?this.ub.value:this.Nc};c.ze=function(a){Ue.u.ze.call(this,a);this.ub&&(this.ub.value=a)};c.rk=function(a){a?v.j.ab(this.B,"blocklyDraggingDelete"):v.j.Ab(this.B,"blocklyDraggingDelete")};c.nt=function(){};function Dd(a,b,d){v.m.disable();try{var e=Ed(a),f=new Ue(b,e.content,e.Nr,e.It,e.id);b.T&&(f.Bc(),f.na(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.v){var h=d||b.fd();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{v.m.enable()}Gd(f);return f}
c.Ek=function(a){var b;this.s.v&&(b=this.s.fd());a=Nd(this,a);var d=this.wa();a.setAttribute("x",Math.round(this.s.v?b-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.ii());a.setAttribute("w",this.fd());return a};function Ye(a,b){this.Jb=a;this.o=b;this.Kg=null;this.Om=!1;this.Ge=this.Jb.wa();this.Mg=v.j.Tf()&&b.xb?b.xb:null}Ye.prototype.C=function(){this.Mg=this.o=this.Jb=null};function Ze(a,b,d){d=a.Ci(d);a.Jb.mm(a.Mg,sc(a.Ge,d));a.Jb.mc()&&(a.Kg=Pe(a.o,b),a.Om=a.Kg!=v.cq,b=a.o.dc,a.Om?(a.Jb.rk(!0),a.Kg==v.Rm&&b&&Qe(b,!0)):(a.Jb.rk(!1),b&&Qe(b,!1)))}
function $e(a,b,d){Ze(a,b,d);b=a.Ci(d);b=sc(a.Ge,b);a.Jb.moveTo(b.x,b.y);b=a.o.dc;a.Om?(b&&setTimeout(b.close.bind(b),100),a.vj(),a.Jb.C(!1,!0)):b&&b.close();a.Om||(a.Mg&&a.Mg.ij(a.o.md),a.Jb.ig&&a.Jb.ig(!1),a.vj());a.o.Ub(!0);a.o.ia&&v.j.Ab(a.o.ia.pc,a.Jb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.m.R(!1)}Ye.prototype.vj=function(){if(this.Jb.so){var a=new jd(this.Jb);a.Ko=this.Ge;a.lf();v.m.Z(a)}};
Ye.prototype.Ci=function(a){a=new A(a.x/this.o.scale,a.y/this.o.scale);this.o.ri&&(a=a.scale(1/this.o.options.zb.scale));return a};Ye.prototype.nm=function(){this.Jb.moveTo(0,0);this.Mg.sf(this.Ge.x,this.Ge.y);Xe(this.Mg,this.Jb.ma())};function af(a){this.o=a;this.by=a.qb();this.ey=new A(a.scrollX,a.scrollY)}af.prototype.C=function(){this.o=null};af.prototype.Hm=function(){v.selected&&v.selected.Ch();bf(this.o)};function cf(a,b){var d=a.by,e=sc(a.ey,b);b=Math.min(e.x,-d.Lc);e=Math.min(e.y,-d.uc);b=Math.max(b,d.Da-d.Lc-d.Mc);e=Math.max(e,d.hb-d.uc-d.tc);b=-b-d.Lc;e=-e-d.uc;a.Et(b,e)}af.prototype.Et=function(a,b){this.o.jb.set(a,b)};function df(a){df.u.constructor.call(this,a.Ol());this.bc=a.bc;this.Pd=a.Pd}r(df,af);df.prototype.Et=function(a,b){this.Pd?this.bc.set(a):this.bc.set(b)};v.F={};v.F.visible=!1;v.F.Wh=!1;v.F.nu=50;v.F.As=0;v.F.xk=0;v.F.xo=0;v.F.yo=0;v.F.ea=null;v.F.tm=null;v.F.hq=0;v.F.iq=10;v.F.Lu=10;v.F.iu=750;v.F.Sm=5;v.F.ka=null;v.F.la=function(){v.F.ka||(v.F.ka=document.createElement("div"),v.F.ka.className="blocklyTooltipDiv",document.body.appendChild(v.F.ka))};v.F.Eg=function(a){v.Vb(a,"mouseover",null,v.F.Jx);v.Vb(a,"mouseout",null,v.F.Ix);a.addEventListener("mousemove",v.F.Hx,!1)};
v.F.Jx=function(a){if(!v.F.Wh){for(a=a.target;"string"!=typeof a.Vc&&"function"!=typeof a.Vc;)a=a.Vc;v.F.ea!=a&&(v.F.Na(),v.F.tm=null,v.F.ea=a);clearTimeout(v.F.As)}};v.F.Ix=function(){v.F.Wh||(v.F.As=setTimeout(function(){v.F.ea=null;v.F.tm=null;v.F.Na()},1),clearTimeout(v.F.xk))};
v.F.Hx=function(a){if(v.F.ea&&v.F.ea.Vc&&!v.J.$()&&!v.F.Wh)if(v.F.visible){var b=v.F.xo-a.pageX;a=v.F.yo-a.pageY;Math.sqrt(b*b+a*a)>v.F.Lu&&v.F.Na()}else v.F.tm!=v.F.ea&&(clearTimeout(v.F.xk),v.F.xo=a.pageX,v.F.yo=a.pageY,v.F.xk=setTimeout(v.F.Yx,v.F.iu))};v.F.Na=function(){v.F.visible&&(v.F.visible=!1,v.F.ka&&(v.F.ka.style.display="none"));v.F.xk&&clearTimeout(v.F.xk)};v.F.block=function(){v.F.Na();v.F.Wh=!0};v.F.sy=function(){v.F.Wh=!1};
v.F.Yx=function(){if(!v.F.Wh&&(v.F.tm=v.F.ea,v.F.ka)){v.F.ka.innerHTML="";for(var a=v.F.ea.Vc;"function"==typeof a;)a=a();a=v.j.Rp(a,v.F.nu);a=a.split("\n");for(var b=0;b<a.length;b++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[b]));v.F.ka.appendChild(d)}a=v.F.ea.v;b=zc();v.F.ka.style.direction=a?"rtl":"ltr";v.F.ka.style.display="block";v.F.visible=!0;d=v.F.xo;d=a?d-(v.F.hq+v.F.ka.offsetWidth):d+v.F.hq;var e=v.F.yo+v.F.iq;e+v.F.ka.offsetHeight>b.height+window.scrollY&&
(e-=v.F.ka.offsetHeight+2*v.F.iq);a?d=Math.max(v.F.Sm-window.scrollX,d):d+v.F.ka.offsetWidth>b.width+window.scrollX-2*v.F.Sm&&(d=b.width-v.F.ka.offsetWidth-2*v.F.Sm);v.F.ka.style.top=e+"px";v.F.ka.style.left=d+"px"}};function ef(a,b){this.Ob=this.cc=this.vh=this.wh=this.kd=this.vc=this.zs=null;this.Nv=b;this.Sj=this.Yg=this.Tj=this.Rg=!1;this.Sd=a;this.I=this.ug=this.Qe=this.Re=this.rm=this.qm=null;this.Zl=this.Sg=this.Bq=!1;this.Tr=!v.Zt}c=ef.prototype;c.C=function(){v.Touch.Ve();v.F.sy();this.Nv.Hb=null;this.qm&&v.Pa(this.qm);this.rm&&v.Pa(this.rm);this.I=this.Ob=this.cc=this.vh=this.wh=null;this.Qe&&(this.Qe.C(),this.Qe=null);this.ug&&(this.ug.C(),this.ug=null);this.Re&&(this.Re.C(),this.Re=null)};
function ff(a,b){a.vc=rc(new A(b.clientX,b.clientY),a.zs);if(a.Rg)var d=!1;else d=a.vc,a.Rg=Math.sqrt(d.x*d.x+d.y*d.y)>(a.I?v.$t:v.Yt),d=a.Rg;if(d){if(a.Bq)throw Error("updateIsDragging_ should only be called once per gesture.");a.Bq=!0;if(a.kd){a.Sj=!0;a.Re=new Ye(a.kd,a.Ob);d=a.Re;v.m.Rb()||v.m.R(!0);d.o.Ub(!1);d.Jb.nt(!1);d.Mg&&d.nm();d.Jb.ig&&d.Jb.ig(!0);var e=d.o.ia;e&&v.j.ab(e.pc,d.Jb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");Ze(a.Re,a.Sd,a.vc);d=!0}else d=!1;if(!d){if(a.cc)if(a.I?(a.cc.disabled?
d=!1:!gf(a.I)||a.I.ds(a.vc)?(a.Ob=a.I.ya,hf(a.Ob),v.m.Rb()||v.m.R(!0),a.vh=null,a.cc=jf(a.I,a.cc),a.cc.select(),d=!0):d=!1,a.Yg=d):a.cc.Rd()&&(a.Yg=!0),a.Yg){a.Qe=new Me(a.cc,a.Ob);d=a.Qe;e=a.vc;var f=a.Tr;v.m.Rb()||v.m.R(!0);d.o.ri&&Se(d.fb);Cd();d.o.Ub(!1);v.Ka.In();if(d.fb.getParent()||f&&d.fb.M&&D(d.fb.M))xd(d.fb,f),e=d.Ci(e),e=sc(d.Ge,e),d.fb.translate(e.x,e.y),v.Ka.dw(d.fb);d.fb.ig(!0);d.fb.nm();(e=d.o.ia)&&v.j.ab(e.pc,d.fb.mc()?"blocklyToolboxDelete":"blocklyToolboxGrab");Oe(a.Qe,a.Sd,a.vc);
d=!0}else d=!1;else d=!1;!d&&(a.I?gf(a.I):a.Ob&&a.Ob.jb)&&(a.ug=a.I?new df(a.I):new af(a.Ob),a.Tj=!0,a.ug.Hm())}v.Yf()}a.Sd=b}
c.Jn=function(a){v.j.cm(a)?this.cancel():(this.Sg=!0,v.Ka.In(),hf(this.Ob),this.Ob.ri&&this.Ob.resize(),kf(this.Ob),this.Sd=a,v.Tb(!!this.I),v.F.block(),this.cc&&this.cc.select(),v.j.Vf(a)?Yc(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||v.jx(a,this),this.zs=new A(a.clientX,a.clientY),this.Tr=a.altKey||a.ctrlKey||a.metaKey,this.Eg(a)))};
c.Eg=function(a){this.qm=v.U(document,"mousemove",null,this.Jj.bind(this));this.rm=v.U(document,"mouseup",null,this.Rl.bind(this));a.preventDefault();a.stopPropagation()};c.Jj=function(a){ff(this,a);this.Tj?cf(this.ug,this.vc):this.Yg?Oe(this.Qe,this.Sd,this.vc):this.Sj&&Ze(this.Re,this.Sd,this.vc);a.preventDefault();a.stopPropagation()};
c.Rl=function(a){ff(this,a);v.Yf();if(this.Zl)console.log("Trying to end a gesture recursively.");else{this.Zl=!0;if(this.Sj)$e(this.Re,a,this.vc);else if(this.Yg)Re(this.Qe,a,this.vc);else if(this.Tj){var b=this.ug;cf(b,this.vc);lf(b.o)}else this.kd&&!this.Rg?(this.kd.vp&&this.kd.vp(),this.kd.select&&this.kd.select()):mf(this)?(this.wh.Ee(),nf(this)):!this.vh||this.Rg||mf(this)?this.vh||this.kd||this.wh||this.Rg||v.selected&&v.selected.Ch():(this.I&&this.I.Vh?this.cc.disabled||(v.m.Rb()||v.m.R(!0),
Te(jf(this.I,this.cc))):v.m.Z(new gd(this.vh,"click",void 0,void 0)),nf(this),v.m.R(!1));a.preventDefault();a.stopPropagation();this.C()}};c.cancel=function(){if(!this.Zl){v.Yf();if(this.Sj)$e(this.Re,this.Sd,this.vc);else if(this.Yg)Re(this.Qe,this.Sd,this.vc);else if(this.Tj){var a=this.ug;cf(a,this.vc);lf(a.o)}this.C()}};function Yc(a,b){a.cc?(nf(a),v.Tb(a.I),a.cc.Li(b)):a.kd?a.kd.Li(b):a.Ob&&!a.I&&(v.Tb(),a.Ob.Li(b));b.preventDefault();b.stopPropagation();a.C()}
function of(a,b,d){if(a.Sg)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Ob||(a.Ob=d);a.Sd=b;a.Jn(b)}function pf(a,b,d){if(a.Sg)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.I||(a.I=d);of(a,b,d.Ol())}function ce(a,b,d){if(a.Sg)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.kd||(a.kd=d);a.Sd=b}function nf(a){a.cc&&!a.I&&Se(a.cc)}
function qf(a,b){a.vh||a.kd||(a.vh=b,b.rb&&b!=Ce(b)?rf(a,Ce(b)):rf(a,b))}function rf(a,b){b.Za?rf(a,b.getParent()):a.cc=b}function mf(a){if(a.wh){var b=a.wh;b=b.wg&&!!b.A&&Ad(b.A)}else b=!1;return b&&!a.Rg&&(!a.I||!a.I.Vh)}c.ob=function(){return this.Tj||this.Yg||this.Sj};function sf(a,b){this.ki=a;this.Fp=b.spacing;this.ps=b.length;this.bx=(this.Ao=a.firstChild)&&this.Ao.nextSibling;this.Zx=b.snap}sf.prototype.fg=1;sf.prototype.C=function(){this.ki=null};sf.prototype.update=function(a){this.fg=a;var b=this.Fp*a||100;this.ki.setAttribute("width",b);this.ki.setAttribute("height",b);b=Math.floor(this.Fp/2)+.5;var d=b-this.ps/2,e=b+this.ps/2;b*=a;d*=a;e*=a;tf(this.Ao,a,d,e,b,b);tf(this.bx,a,b,b,d,e)};
function tf(a,b,d,e,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}sf.prototype.moveTo=function(a,b){this.ki.setAttribute("x",a);this.ki.setAttribute("y",b);(y||mb)&&this.update(this.fg)};function uf(a){var b=!!a.readOnly;if(b)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{d=vf(a.toolbox);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var x=!!a.rtl,u=a.horizontalLayout;void 0===u&&(u=!1);var q=a.toolboxPosition;q="end"===q?!1:!0;q=u?q?v.Bf:v.Cg:q==x?v.Hd:v.Oe;var t=a.scrollbars;
void 0===t&&(t=e);var w=a.css;void 0===w&&(w=!0);var J="https://blockly-demo.appspot.com/static/media/";a.media?J=a.media:a.path&&(J=a.path+"media/");var O=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex;this.v=x;this.Qc=O;this.collapse=h;this.kj=k;this.disable=l;this.readOnly=b;this.Co=a.maxBlocks||Infinity;this.Do=a.maxInstances;this.Ud=J;this.Pr=e;this.Rr=t;this.Sr=f;this.yi=p;this.Nw=m;this.Mw=w;this.qe=u;this.te=d;b=a.grid||{};d={};d.spacing=parseFloat(b.spacing)||0;d.rn=b.colour||"#888";d.length=
parseFloat(b.length)||1;d.vz=0<d.spacing&&!!b.snap;this.Lr=d;a=a.zoom||{};b={};b.controls=void 0===a.controls?!1:!!a.controls;b.wy=void 0===a.wheel?!1:!!a.wheel;b.xt=void 0===a.startScale?1:parseFloat(a.startScale);b.$j=void 0===a.maxScale?3:parseFloat(a.maxScale);b.ak=void 0===a.minScale?.3:parseFloat(a.minScale);b.Wx=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);this.Pb=b;this.Fa=q}uf.prototype.zb=null;uf.prototype.lg=null;uf.prototype.qb=null;
function vf(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=v.w.Uc(a))):a=null;return a};function wf(a){this.o=a;this.Mf=new xf(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.sg=new xf(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.mj=v.j.D("rect",{height:G,width:G,"class":"blocklyScrollbarBackground"},null);v.j.Wg(this.mj,a.md)}wf.prototype.gb=null;wf.prototype.C=function(){v.j.removeNode(this.mj);this.gb=this.o=this.mj=null;this.Mf.C();this.Mf=null;this.sg.C();this.sg=null};
wf.prototype.resize=function(){var a=this.o.qb();if(a){var b=!1,d=!1;this.gb&&this.gb.Da==a.Da&&this.gb.hb==a.hb&&this.gb.wb==a.wb&&this.gb.lb==a.lb?(this.gb&&this.gb.Mc==a.Mc&&this.gb.Db==a.Db&&this.gb.Lc==a.Lc||(b=!0),this.gb&&this.gb.tc==a.tc&&this.gb.Ke==a.Ke&&this.gb.uc==a.uc||(d=!0)):d=b=!0;b&&this.Mf.resize(a);d&&this.sg.resize(a);this.gb&&this.gb.Da==a.Da&&this.gb.lb==a.lb||this.mj.setAttribute("x",this.sg.Rc.x);this.gb&&this.gb.hb==a.hb&&this.gb.wb==a.wb||this.mj.setAttribute("y",this.Mf.Rc.y);
this.gb=a}};wf.prototype.set=function(a,b){var d={};a*=this.Mf.oc;b*=this.sg.oc;var e=this.sg.Cd,f=a/this.Mf.Cd;d.x=isNaN(f)?0:f;e=b/e;d.y=isNaN(e)?0:e;this.o.lg(d);yf(this.Mf,a);yf(this.sg,b)};
function xf(a,b,d,e){this.o=a;this.Bi=d||!1;this.Tg=b;this.gb=null;this.nj(e);this.Rc=new A(0,0);a=G;b?(this.ld.setAttribute("height",a),this.ue.setAttribute("height",a),this.Ie.setAttribute("height",a-5),this.Ie.setAttribute("y",2.5),this.Wj="width",this.Ws="x"):(this.ld.setAttribute("width",a),this.ue.setAttribute("width",a),this.Ie.setAttribute("width",a-5),this.Ie.setAttribute("x",2.5),this.Wj="height",this.Ws="y");this.Ps=v.U(this.ld,"mousedown",this,this.Ex);this.Qs=v.U(this.Ie,"mousedown",
this,this.Fx)}var zf,Af;c=xf.prototype;c.Qo=new A(0,0);c.vt=0;c.Cd=0;c.Nf=0;c.Kj=0;c.Wf=!0;c.Hg=!0;var G=15;Uc&&(G=25);xf.prototype.C=function(){Bf();v.Pa(this.Ps);this.Ps=null;v.Pa(this.Qs);this.Qs=null;v.j.removeNode(this.ue);this.o=this.Ie=this.ld=this.B=this.ue=null};function yf(a,b){a.Kj=b;a.Ie.setAttribute(a.Ws,a.Kj)}function Cf(a,b){a.Cd=b;a.ue.setAttribute(a.Wj,a.Cd);a.ld.setAttribute(a.Wj,a.Cd)}wf.prototype.oh=function(a){this.Mf.oh(a);this.sg.oh(a)};
function Df(a,b,d){a.Rc.x=b;a.Rc.y=d;v.j.qk(a.ue,"translate("+(a.Rc.x+a.Qo.x)+"px,"+(a.Rc.y+a.Qo.y)+"px)")}c=xf.prototype;
c.resize=function(a){if(!a&&(a=this.o.qb(),!a))return;var b=this.gb;if(!a||!b||a.Da!=b.Da||a.hb!=b.hb||a.Db!=b.Db||a.Ke!=b.Ke||a.wb!=b.wb||a.lb!=b.lb||a.Mc!=b.Mc||a.tc!=b.tc||a.Lc!=b.Lc||a.uc!=b.uc){this.gb=a;if(this.Tg){b=a.Da-1;this.Bi&&(b-=G);Cf(this,Math.max(0,b));b=a.lb+.5;this.Bi&&this.o.v&&(b+=G);Df(this,b,a.wb+a.hb-G-.5);this.Bi||this.ta(this.Cd<a.Mc);this.oc=this.Cd/a.Mc;if(-Infinity==this.oc||Infinity==this.oc||isNaN(this.oc))this.oc=0;this.Nf=Math.max(0,a.Da*this.oc);this.Ie.setAttribute(this.Wj,
this.Nf);yf(this,Ef(this,(a.Db-a.Lc)*this.oc))}else{b=a.hb-1;this.Bi&&(b-=G);Cf(this,Math.max(0,b));b=a.lb+.5;this.o.v||(b+=a.Da-G-1);Df(this,b,a.wb+.5);this.Bi||this.ta(this.Cd<a.tc);this.oc=this.Cd/a.tc;if(-Infinity==this.oc||Infinity==this.oc||isNaN(this.oc))this.oc=0;this.Nf=Math.max(0,a.hb*this.oc);this.Ie.setAttribute(this.Wj,this.Nf);yf(this,Ef(this,(a.Ke-a.uc)*this.oc))}Ff(this)}};
c.nj=function(a){var b="blocklyScrollbar"+(this.Tg?"Horizontal":"Vertical");a&&(b+=" "+a);this.ue=v.j.D("svg",{"class":b},null);this.B=v.j.D("g",{},this.ue);this.ld=v.j.D("rect",{"class":"blocklyScrollbarBackground"},this.B);a=Math.floor((G-5)/2);this.Ie=v.j.D("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.B);v.j.Wg(this.ue,H(this.o))};c.$=function(){return this.Wf};c.oh=function(a){var b=a!=this.Hg;this.Hg=a;b&&this.Ik()};
c.ta=function(a){var b=a!=this.$();if(this.Bi)throw Error("Unable to toggle visibility of paired scrollbars.");this.Wf=a;b&&this.Ik()};c.Ik=function(){this.Hg&&this.$()?this.ue.setAttribute("display","block"):this.ue.setAttribute("display","none")};
c.Ex=function(a){kf(this.o);v.Touch.Ve();Bf();if(v.j.Vf(a))a.stopPropagation();else{var b=v.j.bk(a,H(this.o),Gf(this.o));b=this.Tg?b.x:b.y;var d=v.j.Gl(this.Ie);d=this.Tg?d.x:d.y;var e=this.Kj,f=.95*this.Nf;b<=d?e-=f:b>=d+this.Nf&&(e+=f);yf(this,Ef(this,e));Ff(this);a.stopPropagation();a.preventDefault()}};
c.Fx=function(a){kf(this.o);Bf();v.j.Vf(a)?a.stopPropagation():(this.ay=this.Kj,bf(this.o),this.vt=this.Tg?a.clientX:a.clientY,zf=v.U(document,"mouseup",this,this.Kx),Af=v.U(document,"mousemove",this,this.Gx),a.stopPropagation(),a.preventDefault())};c.Gx=function(a){yf(this,Ef(this,this.ay+((this.Tg?a.clientX:a.clientY)-this.vt)));Ff(this)};c.Kx=function(){lf(this.o);v.Touch.Ve();Bf()};function Bf(){v.Tb(!0);zf&&(v.Pa(zf),zf=null);Af&&(v.Pa(Af),Af=null)}
function Ef(a,b){return b=0>=b||isNaN(b)||a.Cd<a.Nf?0:Math.min(b,a.Cd-a.Nf)}function Ff(a){var b=a.Kj/a.Cd;isNaN(b)&&(b=0);var d={};a.Tg?d.x=b:d.y=b;a.o.lg(d)}c.set=function(a){yf(this,Ef(this,a*this.oc));Ff(this)};function Hf(a,b){Hf.u.constructor.call(this,a,b);this.am=!1;this.xd={};this.ut=this.ik=0;this.Po=null}r(Hf,ef);c=Hf.prototype;c.Jn=function(a){Hf.u.Jn.call(this,a);!this.Zl&&v.Touch.dm(a)&&If(this,a)};c.Eg=function(a){this.Po=v.U(document,"mousedown",null,this.Jw.bind(this),!0);this.qm=v.U(document,"mousemove",null,this.Jj.bind(this),!0);this.rm=v.U(document,"mouseup",null,this.Rl.bind(this),!0);a.preventDefault();a.stopPropagation()};
c.Jw=function(a){!this.ob()&&v.Touch.dm(a)&&(If(this,a),this.am&&v.Yf())};c.Jj=function(a){if(this.ob())v.Touch.Bp(a)&&Hf.u.Jj.call(this,a);else if(this.am){if(v.Touch.dm(a)){this.xd[v.Touch.Nl(a)]=Jf(this,a);var b=Object.keys(this.xd);if(2==b.length){b=qc(this.xd[b[0]],this.xd[b[1]])/this.ut;if(0<this.ik&&Infinity>this.ik){var d=b-this.ik;d=0<d?5*d:6*d;var e=this.Ob,f=v.j.bk(a,H(e),Gf(e));e.zoom(f.x,f.y,d)}this.ik=b;a.preventDefault()}}v.Yf()}else Hf.u.Jj.call(this,a)};
c.Rl=function(a){if(v.Touch.dm(a)&&!this.ob()){var b=v.Touch.Nl(a);this.xd[b]&&delete this.xd[b];2>Object.keys(this.xd).length&&(this.xd={},this.ik=0)}!this.am||this.ob()?v.Touch.Bp(a)&&Hf.u.Rl.call(this,a):(a.preventDefault(),a.stopPropagation(),this.C())};c.C=function(){Hf.u.C.call(this);this.Po&&v.Pa(this.Po)};function If(a,b){a.xd[v.Touch.Nl(b)]=Jf(a,b);var d=Object.keys(a.xd);2==d.length&&(a.ut=qc(a.xd[d[0]],a.xd[d[1]]),a.am=!0,b.preventDefault())}
function Jf(a,b){return a.Ob?new A(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function Kf(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}c=Kf.prototype;c.fd=function(){return this.right-this.left};c.ii=function(){return this.bottom-this.top};c.clone=function(){return new Kf(this.top,this.right,this.bottom,this.left)};c.contains=function(a){return this&&a?a instanceof Kf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
c.expand=function(a,b,d,e){sa(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(d),this.left-=Number(e));return this};c.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
c.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};c.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};c.translate=function(a,b){a instanceof A?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ka(b)&&(this.top+=b,this.bottom+=b));return this};
c.scale=function(a,b){b=ka(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function Lf(a,b,d,e){this.left=a;this.top=b;this.width=d;this.height=e}c=Lf.prototype;c.clone=function(){return new Lf(this.left,this.top,this.width,this.height)};c.contains=function(a){return a instanceof A?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};c.Ej=function(){return new tc(this.width,this.height)};
c.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};c.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
c.translate=function(a,b){a instanceof A?(this.left+=a.x,this.top+=a.y):(this.left+=a,ka(b)&&(this.top+=b));return this};c.scale=function(a,b){b=ka(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};function Mf(a){this.o=a;0>=this.o.options.yi||(this.I=new Nf({scrollbars:!0,Lg:this.o.options.Lg,zb:this.o,v:this.o.v,Qc:a.options.Qc,Fa:this.o.v?v.Oe:v.Hd}),this.o.Kc(Of(this)))}c=Mf.prototype;c.Dg=47;c.Nk=44;c.Kh=16;c.Tm=20;c.Yi=20;c.Sk=10;c.Xm=0;c.Ym=32;c.gu=.1;c.ti=!1;c.km=0;c.io=!1;c.Xh=[];c.B=null;c.Jm=null;c.zo=0;c.Xf=0;c.Lb=0;c.rf=0;
c.la=function(){this.B=v.j.D("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=v.j.D("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.B);v.j.D("rect",{width:this.Dg,height:this.Nk,y:this.Kh},b);var d=v.j.D("image",{width:v.rc.width,x:-this.Xm,height:v.rc.height,y:-this.Ym,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.B);d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.o.options.Ud+v.rc.url);b=v.j.D("clipPath",{id:"blocklyTrashLidClipPath"+
a},this.B);v.j.D("rect",{width:this.Dg,height:this.Kh},b);this.Jm=v.j.D("image",{width:v.rc.width,x:-this.Xm,height:v.rc.height,y:-this.Ym,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.B);this.Jm.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.o.options.Ud+v.rc.url);v.U(this.B,"mouseup",this,this.click);v.Vb(d,"mouseover",this,this.nx);v.Vb(d,"mouseout",this,this.mx);this.gn();return this.B};
c.S=function(a){0<this.o.options.yi&&(v.j.Wg(this.I.la("svg"),H(this.o)),this.I.S(this.o));this.Fg=this.Tm+a;Qe(this,!1);return this.Fg+this.Nk+this.Kh};c.C=function(){this.B&&(v.j.removeNode(this.B),this.B=null);this.o=this.Jm=null;clearTimeout(this.zo)};
c.position=function(){if(this.Fg){var a=this.o.qb();a&&(this.o.v?(this.Lb=this.Yi+G,a.Fa==v.Oe&&(this.Lb+=a.zl,this.o.ia&&(this.Lb+=a.lb))):(this.Lb=a.Da+a.lb-this.Dg-this.Yi-G,a.Fa==v.Hd&&(this.Lb-=a.zl)),this.rf=a.hb+a.wb-(this.Nk+this.Kh)-this.Fg,a.Fa==v.Cg&&(this.rf-=a.Fr),this.B.setAttribute("transform","translate("+this.Lb+","+this.rf+")"))}};
c.di=function(){if(!this.B)return null;var a=this.B.getBoundingClientRect();return new Lf(a.left+this.Xm-this.Sk,a.top+this.Ym-this.Sk,this.Dg+2*this.Sk,this.Kh+this.Nk+2*this.Sk)};function Qe(a,b){a.ti!=b&&(clearTimeout(a.zo),a.ti=b,a.gn())}c.gn=function(){this.Xf+=this.ti?.2:-.2;this.Xf=Math.min(Math.max(this.Xf,this.km),1);Pf(this,45*this.Xf);this.B.style.opacity=.4+.4*this.Xf;this.Xf>this.km&&1>this.Xf&&(this.zo=setTimeout(this.gn.bind(this),20))};
function Pf(a,b){a.Jm.setAttribute("transform","rotate("+(a.o.v?-b:b)+","+(a.o.v?4:a.Dg-4)+","+(a.Kh-2)+")")}c.close=function(){Qe(this,!1)};c.click=function(){if(this.io){for(var a=[],b=0,d;d=this.Xh[b];b++)a[b]=v.w.Uc(d).firstChild;this.I.show(a)}};c.nx=function(){this.io&&Qe(this,!0)};c.mx=function(){Qe(this,!1)};
function Of(a){return function(b){if(!(0>=a.o.options.yi)&&b.type==v.m.Vp){for(var d=b=b.Js.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}b="<xml>"+v.w.wc(b)+"</xml>";-1==a.Xh.indexOf(b)&&(a.Xh.unshift(b),a.Xh.length>a.o.options.yi&&a.Xh.splice(a.o.options.yi,a.Xh.length-a.o.options.yi),a.io=!0,a.km=a.gu,Pf(a,45*a.km))}}}
;function sd(a,b,d,e){this.s=a;this.name=b;this.type=d||"";this.pi=e||v.j.le();v.m.Z(new dd(this))}sd.prototype.ga=function(){return this.pi};function Qf(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};v.G={};v.G.ra=v.nq;v.G.Wk=function(a){var b=qd(a,!1);a=Object.create(null);for(var d=0;d<b.length;d++){var e=b[d].gf();if(e)for(var f=0;f<e.length;f++){var h=e[f];h.ga()&&(a[h.ga()]=h)}}b=[];for(var k in a)b.push(a[k]);return b};v.G.cz=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};v.G.Tp={};
v.G.cn=function(a){var b=qd(a,!1);a={};for(var d=0;d<b.length;d++){var e=b[d],f=e.mz;!f&&e.tw&&(f=e.tw,v.G.Tp[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),v.G.Tp[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)a[e[f]]=e[f]}b=[];for(var h in a)b.push(a[h]);return b};
v.G.Gf=function(a){var b=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Rf(a,"CREATE_VARIABLE",function(a){v.G.Yh(a.ya)});b.push(d);a=v.G.Pn(a);return b=b.concat(a)};
v.G.Pn=function(a){a=a.Gj("");a.sort(Qf);var b=[];if(0<a.length){var d=a[0];if(v.L.variables_set){var e=v.L.math_change?8:24;e='<xml><block type="variables_set" gap="'+e+'">'+v.G.bi(d)+"</block></xml>";e=v.w.Uc(e).firstChild;b.push(e)}v.L.math_change&&(e=v.L.variables_get?20:8,e='<xml><block type="math_change" gap="'+e+'">'+v.G.bi(d)+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>',e=v.w.Uc(e).firstChild,b.push(e));for(d=0;e=a[d];d++)v.L.variables_get&&
(e='<xml><block type="variables_get" gap="8">'+v.G.bi(e)+"</block></xml>",e=v.w.Uc(e).firstChild,b.push(e))}return b};v.G.qw=function(a){a=a.ef();var b="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):b=f}else b="i";return b};
v.G.Yh=function(a,b,d){function e(d){v.G.bt(v.g.NEW_VARIABLE_TITLE,d,function(d){if(d){var h=v.G.px(d,a);if(h){var k=d.toLowerCase();if(h.type==f)var p=v.g.VARIABLE_ALREADY_EXISTS.replace("%1",k);else p=v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,p=p.replace("%1",k).replace("%2",h.type);v.alert(p,function(){e(d)})}else a.$c(d,f),b&&b(d)}else b&&b(null)})}var f=d||"";e("")};la("Blockly.Variables.createVariableButtonHandler",v.G.Yh);v.G.$c=v.G.Yh;la("Blockly.Variables.createVariable",v.G.$c);
v.G.xm=function(a,b){function d(e){var f=v.g.RENAME_VARIABLE_TITLE.replace("%1",b.name);v.G.bt(f,e,function(e){if(e){var f=v.G.qx(e,b.type,a);f?(f=v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",e.toLowerCase()).replace("%2",f.type),v.alert(f,function(){d(e)})):a.mh(b.ga(),e)}})}d("")};v.G.bt=function(a,b,d){v.prompt(a,b,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),a==v.g.RENAME_VARIABLE||a==v.g.NEW_VARIABLE)&&(a=null);d(a)})};
v.G.qx=function(a,b,d){d=d.ua.ef();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};v.G.px=function(a,b){b=b.ua.ef();a=a.toLowerCase();for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a)return e;return null};v.G.bi=function(a){var b=a.type;""==b&&(b="''");return'<field name="VAR" id="'+a.ga()+'" variabletype="'+Oa(b)+'">'+Oa(a.name)+"</field>"};v.G.Hr=function(a){a="<xml>"+v.G.bi(a)+"</xml>";return v.w.Uc(a).firstChild};
v.G.Jl=function(a,b,d,e){var f=v.G.jc(a,b,d,e);f||(f=v.G.Mv(a,b,d,e));return f};v.G.jc=function(a,b,d,e){var f=a.Fi;if(b){var h=a.Md(b);!h&&f&&(h=f.Md(b));if(h)return h}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.jc(d,e);!h&&f&&(h=f.jc(d,e))}return h};v.G.Mv=function(a,b,d,e){var f=a.Fi;d||(d=v.G.qw(a.Qd?a.zh:a));return f?f.$c(d,e,b):a.$c(d,e,b)};
v.G.Ir=function(a,b){a=a.ef();var d=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&d.push(f)}return d};v.ud={};v.ud.yx=function(a){v.G.Yh(a.ya,null,"String")};v.ud.xx=function(a){v.G.Yh(a.ya,null,"Number")};v.ud.wx=function(a){v.G.Yh(a.ya,null,"Colour")};
v.ud.Gf=function(a){var b=[],d=document.createElement("button");d.setAttribute("text",v.g.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(d);d=document.createElement("button");d.setAttribute("text",v.g.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(d);d=document.createElement("button");d.setAttribute("text",v.g.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(d);Rf(a,"CREATE_VARIABLE_STRING",v.ud.yx);
Rf(a,"CREATE_VARIABLE_NUMBER",v.ud.xx);Rf(a,"CREATE_VARIABLE_COLOUR",v.ud.wx);a=v.ud.Pn(a);return b=b.concat(a)};v.ud.Pn=function(a){a=a.ef();a.sort(Qf);var b=[];if(0<a.length){if(v.L.variables_set_dynamic){var d='<xml><block type="variables_set_dynamic" gap="24">'+v.G.bi(a[0])+"</block></xml>";d=v.w.Uc(d).firstChild;b.push(d)}if(v.L.variables_get_dynamic)for(var e=0;d=a[e];e++)d='<xml><block type="variables_get_dynamic" gap="8">'+v.G.bi(d)+"</block></xml>",d=v.w.Uc(d).firstChild,b.push(d)}return b};function Sf(a){this.To=a;this.ej=Object.create(null)}c=Sf.prototype;c.wo=null;c.C=function(){this.ej=this.To=null};c.load=function(a,b){if(a.length){try{var d=new window.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new window.Audio(h);break}}e&&e.play&&(this.ej[b]=e)}};c.preload=function(){for(var a in this.ej){var b=this.ej[a];b.volume=.01;b.play().catch(function(){});b.pause();if(sb||rb)break}};
c.play=function(a,b){var d=this.ej[a];d?(a=new Date,null!=this.wo&&a-this.wo<v.Qu||(this.wo=a,d=zb&&9===zb||sb||qb?d:d.cloneNode(),d.volume=void 0===b?1:b,d.play())):this.To&&this.To.ce.play(a,b)};c=Ue.prototype;c.Kb=function(){return{width:this.fd(),height:this.ii()}};
c.na=function(){if(!this.eg){var a=this.Kb();this.oj();this.B.appendChild(this.cd);this.xh=v.j.D("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.B.appendChild(this.xh);this.og=v.j.D("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.B.appendChild(this.og);this.Nb=v.j.D("g",{"class":this.v?"blocklyResizeSW":"blocklyResizeSE"},this.B);v.j.D("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.Nb);v.j.D("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/
3},this.Nb);v.j.D("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.Nb);this.mc()&&(this.Ff=v.j.D("g",{"class":"blocklyCommentDeleteIcon"},this.B),this.nr=v.j.D("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.Ff),v.j.D("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.Ff),v.j.D("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.Ff));Tf(this,a.width,a.height);this.ub.value=this.Nc;this.eg=!0;this.Nb&&v.U(this.Nb,
"mousedown",this,this.hp);this.mc()&&(v.U(this.Ff,"mousedown",this,this.Yv),v.U(this.Ff,"mouseout",this,this.Zv),v.U(this.Ff,"mouseup",this,this.$v))}};
c.oj=function(){this.cd=v.j.D("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(v.yf,"body");a.setAttribute("xmlns",v.yf);a.className="blocklyMinimalBody";var b=document.createElementNS(v.yf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.v?"RTL":"LTR");a.appendChild(b);this.ub=b;this.cd.appendChild(a);v.U(b,"wheel",this,function(a){a.stopPropagation()});v.U(b,"change",this,function(){this.ze(b.value)});return this.cd};
c.hp=function(a){Uf(this);v.j.Vf(a)||(this.s.Hm(a,new A(this.s.v?-this.pa:this.pa,this.Ia)),this.fh=v.U(document,"mouseup",this,this.Tx),this.Oo=v.U(document,"mousemove",this,this.ip),v.Tb());a.stopPropagation()};c.Yv=function(a){v.j.ab(this.nr,"blocklyDeleteIconHighlighted");a.stopPropagation()};c.Zv=function(){v.j.Ab(this.nr,"blocklyDeleteIconHighlighted")};c.$v=function(a){this.C(!0,!0);a.stopPropagation()};function Uf(a){a.fh&&(v.Pa(a.fh),a.fh=null);a.Oo&&(v.Pa(a.Oo),a.Oo=null)}
c.Tx=function(){v.Touch.Ve();Uf(this)};c.ip=function(a){this.Yk=!1;a=ee(this.s,a);Tf(this,this.v?-a.x:a.x,a.y)};
function Tf(a,b,d){b=Math.max(b,45);d=Math.max(d,30);a.pa=b;a.Ia=d;a.Ck.setAttribute("width",b);a.Ck.setAttribute("height",d);a.og.setAttribute("width",b);a.og.setAttribute("height",d);a.xh.setAttribute("width",b);a.xh.setAttribute("height",10);a.v&&(a.Ck.setAttribute("transform","scale(-1 1)"),a.og.setAttribute("transform","scale(-1 1)"));a.Nb&&(a.v?(a.Nb.setAttribute("transform","translate("+(-b+8)+","+(d-8)+") scale(-1 1)"),a.Ff.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.Nb.setAttribute("transform","translate("+(b-8)+","+(d-8)+")"),a.Ff.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.Kb();a.cd.setAttribute("width",b.width);a.cd.setAttribute("height",b.height-10);a.v&&a.cd.setAttribute("x",-b.width);a.ub.style.width=b.width-4+"px";a.ub.style.height=b.height-4-10+"px"}
c.vp=function(){var a=this;this.wj=!0;setTimeout(function(){a.af||(a.ub.focus(),v.j.ab(a.B,"blocklyFocused"),v.j.ab(a.og,"blocklyCommentTargetFocused"),v.j.ab(a.xh,"blocklyCommentHandleTargetFocused"))},0)};function We(a){a.wj=!1;setTimeout(function(){a.af||(a.ub.blur(),v.j.Ab(a.B,"blocklyFocused"),v.j.Ab(a.og,"blocklyCommentTargetFocused"),v.j.Ab(a.xh,"blocklyCommentHandleTargetFocused"))},0)};function Vf(a){this.lj=a;this.la()}c=Vf.prototype;c.Aa=null;c.zd=null;c.lj=null;c.la=function(){this.Aa||(this.Aa=v.j.D("svg",{xmlns:v.Zm,"xmlns:html":v.yf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.lj.appendChild(this.Aa))};c.sf=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Aa.style.display="block";v.j.qk(this.Aa,"translate3d("+a+"px, "+b+"px, 0px)")};c.Ml=function(){return v.j.yc(this.Aa)};
c.ij=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Aa.childNodes[0],d=this.Aa.childNodes[1];if(!(b&&d&&v.j.Qr(b,"blocklyBlockCanvas")&&v.j.Qr(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Vd?v.j.Wg(b,this.Vd):a.insertBefore(b,a.firstChild);v.j.Wg(d,b);this.Aa.style.display="none";if(this.Aa.childNodes.length)throw Error("Drag surface was not cleared.");v.j.qk(this.Aa,"");
this.Vd=null};
// Copyright 2015 Google Inc.  Apache License 2.0
function Wf(a){this.o=a}c=Wf.prototype;c.Dg=32;c.Vi=110;c.Tm=20;c.Yi=20;c.B=null;c.Lb=0;c.rf=0;c.la=function(){this.B=v.j.D("g",{"class":"blocklyZoom"},null);var a=String(Math.random()).substring(2);Xf(this,a);Yf(this,a);Zf(this,a);return this.B};c.S=function(a){this.Fg=this.Tm+a;return this.Fg+this.Vi};c.C=function(){this.B&&(v.j.removeNode(this.B),this.B=null);this.o=null};
c.position=function(){if(this.Fg){var a=this.o.qb();a&&(this.o.v?(this.Lb=this.Yi+G,a.Fa==v.Oe&&(this.Lb+=a.zl,this.o.ia&&(this.Lb+=a.lb))):(this.Lb=a.Da+a.lb-this.Dg-this.Yi-G,a.Fa==v.Hd&&(this.Lb-=a.zl)),this.rf=a.hb+a.wb-this.Vi-this.Fg,a.Fa==v.Cg&&(this.rf-=a.Fr),this.B.setAttribute("transform","translate("+this.Lb+","+this.rf+")"))}};
function Xf(a,b){var d=a.o;a=v.j.D("svg",{id:"svg"+b},a.B);var e=v.j.D("clipPath",{id:"blocklyZoomoutClipPath"+b},a);v.j.D("rect",{width:32,height:32,y:77},e);b=v.j.D("image",{width:v.rc.width,height:v.rc.height,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a);b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.Ud+v.rc.url);v.U(b,"mousedown",null,function(a){kf(d);$f(d,-1);v.Touch.Ve();a.stopPropagation();a.preventDefault()})}
function Yf(a,b){var d=a.o;a=v.j.D("svg",{id:"svg"+b},a.B);var e=v.j.D("clipPath",{id:"blocklyZoominClipPath"+b},a);v.j.D("rect",{width:32,height:32,y:43},e);b=v.j.D("image",{width:v.rc.width,height:v.rc.height,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a);b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.Ud+v.rc.url);v.U(b,"mousedown",null,function(a){kf(d);$f(d,1);v.Touch.Ve();a.stopPropagation();a.preventDefault()})}
function Zf(a,b){var d=a.o;a=v.j.D("svg",{id:"svg"+b},a.B);var e=v.j.D("clipPath",{id:"blocklyZoomresetClipPath"+b},a);v.j.D("rect",{width:32,height:32},e);b=v.j.D("image",{width:v.rc.width,height:v.rc.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a);b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.Ud+v.rc.url);v.U(b,"mousedown",null,function(a){kf(d);d.setScale(d.options.Pb.xt);ag(d);bg(d);setTimeout(function(){v.j.Ab(d.Oa,"blocklyCanvasTransitioning");v.j.Ab(d.md,
"blocklyCanvasTransitioning")},500);v.Touch.Ve();a.stopPropagation();a.preventDefault()})};
// Copyright 2014 Google Inc.  Apache License 2.0
function cg(a,b,d){cg.u.constructor.call(this,a);this.qb=a.qb||dg;this.lg=a.lg||eg;var e=[];e[v.$a]=new ue;e[v.Sh]=new ue;e[v.Wa]=new ue;e[v.Ag]=new ue;this.tn=e;b&&(this.xb=b);d&&(this.Gh=d);this.Nm=this.Gh&&v.j.Tf();this.Nj=[];this.ce=new Sf(a.zb);this.Bd=this.options.Mr?new sf(a.Mr,a.Lr):null;v.G&&v.G.Gf&&fg(this,v.nq,v.G.Gf);v.ud&&v.ud.Gf&&fg(this,v.Zu,v.ud.Gf);v.sa&&v.sa.Gf&&fg(this,v.lq,v.sa.Gf)}r(cg,Bd);c=cg.prototype;c.Bm=null;c.T=!0;c.Wf=!0;c.Qd=!1;c.ri=!1;c.jp=!0;c.scrollX=0;c.scrollY=0;
c.zr=null;c.scale=1;c.dc=null;c.jb=null;c.Hb=null;c.xb=null;c.Gh=null;c.Nm=!1;c.Yl=!1;c.po=null;c.ns=null;c.xl={};c.Lm={};c.Pq=null;c.zh=null;c.$r=null;c.Rj=!0;function Gf(a){if(a.Rj){var b=H(a).getScreenCTM();b&&(a.$r=b.inverse(),a.Rj=!1)}return a.$r}c.$=function(){return this.Wf};function ze(a,b){var d=0,e=0,f=1;if(v.j.containsNode(a.Oa,b)||v.j.containsNode(a.md,b))f=a.scale;do{var h=v.j.yc(b);if(b==a.Oa||b==a.md)f=1;d+=h.x*f;e+=h.y*f;b=b.parentNode}while(b&&b!=H(a));return new A(d,e)}
c.la=function(a){this.B=v.j.D("g",{"class":"blocklyWorkspace"},null);a&&(this.ld=v.j.D("rect",{height:"100%",width:"100%","class":a},this.B),"blocklyMainBackground"==a&&this.Bd&&(this.ld.style.fill="url(#"+this.Bd.ki.id+")"));this.Oa=v.j.D("g",{"class":"blocklyBlockCanvas"},this.B);this.md=v.j.D("g",{"class":"blocklyBubbleCanvas"},this.B);this.Qd||(v.U(this.B,"mousedown",this,this.$f,!1,!0),this.options.Pb&&this.options.Pb.wy&&v.U(this.B,"wheel",this,this.Mx));this.options.Pr&&(this.ia=new gg(this));
this.Bd&&this.Bd.update(this.scale);hg(this);return this.B};
c.C=function(){this.T=!1;this.Hb&&this.Hb.cancel();cg.u.C.call(this);this.B&&(v.j.removeNode(this.B),this.B=null);this.md=this.Oa=null;this.ia&&(this.ia.C(),this.ia=null);this.I&&(this.I.C(),this.I=null);this.dc&&(this.dc.C(),this.dc=null);this.jb&&(this.jb.C(),this.jb=null);this.Hh&&(this.Hh.C(),this.Hh=null);this.ce&&(this.ce.C(),this.ce=null);this.Bd&&(this.Bd.C(),this.Bd=null);this.Lm&&(this.Lm=null);this.xl&&(this.xl=null);if(!this.options.zb){var a=H(this).parentNode;a&&v.j.removeNode(a)}this.Bm&&
(v.Pa(this.Bm),this.Bm=null)};c.jf=function(a,b){return new I(this,a,b)};function ig(a){a.dc=new Mf(a);var b=a.dc.la();a.B.insertBefore(b,a.Oa)}function jg(a){a.Hh=new Wf(a);var b=a.Hh.la();a.B.appendChild(b)}function kg(a,b){var d={Lg:a.options.Lg,zb:a,v:a.v,Qc:a.options.Qc,qe:a.qe,Fa:a.options.Fa};a.I=null;a.I=a.qe?new lg(d):new Nf(d);a.I.Vh=!1;return a.I.la(b)}function Ld(a){a.jp&&a.T&&(a.jb&&a.jb.resize(),a.Rj=!0)}
c.resize=function(){this.ia&&this.ia.position();this.I&&this.I.position();this.dc&&this.dc.position();this.Hh&&this.Hh.position();this.jb&&this.jb.resize();this.Rj=!0;hg(this)};function hf(a){var b=Ac(document);pc(a.ns,b)||(a.ns=b,a.Rj=!0,hg(a))}function H(a){if(a.yq)return a.yq;for(var b=a.B;b;){if("svg"==b.tagName)return a.yq=b;b=b.parentNode}return null}
c.translate=function(a,b){if(this.Nm&&this.Yl)this.Gh.sf(a,b);else{var d="translate("+a+","+b+") scale("+this.scale+")";this.Oa.setAttribute("transform",d);this.md.setAttribute("transform",d)}if(this.xb){d=this.xb;var e=this.scale;d.fg=e;d.zd.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}};
function lf(a){if(a.Nm){a.Yl=!1;var b=a.Gh.Ml();a.Gh.ij(a.B);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Oa.setAttribute("transform",b);a.md.setAttribute("transform",b)}}
function bf(a){if(a.Nm&&!a.Yl){a.Yl=!0;var b=a.Oa.previousSibling,d=parseInt(H(a).getAttribute("width"),10),e=parseInt(H(a).getAttribute("height"),10),f=v.j.yc(a.Oa),h=a.Gh,k=a.Oa,l=a.md,m=a.scale;if(h.Aa.childNodes.length)throw Error("Already dragging a block.");h.Vd=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.Aa.setAttribute("width",d);h.Aa.setAttribute("height",e);h.Aa.appendChild(k);h.Aa.appendChild(l);h.Aa.style.display=
"block";a.Gh.sf(f.x,f.y)}}c.fd=function(){var a=this.qb();return a?a.Da/this.scale:0};c.ta=function(a){this.jb&&this.jb.oh(a);(this.I||this.ia&&this.ia.I)&&(this.I?this.I:this.ia?this.ia.I:null).oh(a);H(this).style.display=a?"block":"none";this.ia&&(this.ia.pc.style.display=a?"block":"none");a?(this.na(),this.ia&&this.ia.position()):v.Tb(!0);this.Wf=a};c.na=function(){for(var a=qd(this,!1),b=a.length-1;0<=b;b--)a[b].na(!1)};
function mg(a){var b=v.jj;if(a.T&&!(b.getElementsByTagName("block").length>=Qd(a)))if(a.Hb&&a.Hb.cancel(),"comment"==b.tagName.toLowerCase()){v.m.disable();try{var d=Dd(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.v&&(e=-e),d.moveBy(e+50,f+50))}finally{v.m.enable()}d.select()}else{v.m.disable();try{var h=v.w.$h(b,a),k=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(k)&&!isNaN(l)){a.v&&(k=-k);do{b=!1;var m=qd(a,!1);
d=0;for(var p;p=m[d];d++){var x=p.wa();if(1>=Math.abs(k-x.x)&&1>=Math.abs(l-x.y)){b=!0;break}}if(!b){var u=h.me(!1);d=0;for(var q;q=u[d];d++)if(q.closest(v.Jc,new A(k,l)).connection){b=!0;break}}b&&(k=a.v?k-v.Jc:k+v.Jc,l+=2*v.Jc)}while(b);h.moveBy(k,l)}}finally{v.m.enable()}v.m.isEnabled()&&!h.Za&&v.m.Z(new v.m.Pk(h));h.select()}}function ng(a){if((a=a.Qd?a.zh:a)&&!a.Hb&&a.ia&&a.ia.I){a=a.ia;var b=a.Ed.Gc;b&&b.ee&&a.I.show(b.ee)}}c.mh=function(a,b){cg.u.mh.call(this,a,b);ng(this)};
c.$e=function(a){cg.u.$e.call(this,a);ng(this)};c.$c=function(a,b,d){a=cg.u.$c.call(this,a,b,d);ng(this);return a};function hg(a){a.mr=a.dc&&a.B.parentNode?a.dc.di():null;a.lr=a.I?a.I.di():a.ia?a.ia.di():null}function Pe(a,b){b=new A(b.clientX,b.clientY);return a.mr&&a.mr.contains(b)?v.Rm:a.lr&&a.lr.contains(b)?v.eq:v.cq}c.$f=function(a){var b=this.ne(a);b&&of(b,a,this)};c.Hm=function(a,b){a=v.j.bk(a,H(this),Gf(this));a.x/=this.scale;a.y/=this.scale;this.zr=rc(b,a)};
function ee(a,b){b=v.j.bk(b,H(a),Gf(a));b.x/=a.scale;b.y/=a.scale;return sc(a.zr,b)}c.ob=function(){return null!=this.Hb&&this.Hb.ob()};c.Mx=function(a){this.Hb&&this.Hb.cancel();var b=-a.deltaY/50,d=v.j.bk(a,H(this),Gf(this));this.zoom(d.x,d.y,b);a.preventDefault()};
function Id(a){var b=zd(a,!1);a=yd(a,!1);b=b.concat(a);if(!b.length)return{x:0,y:0,width:0,height:0};a=b[0].Un();for(var d=1;d<b.length;d++){var e=b[d].Un();e.nd.x<a.nd.x&&(a.nd.x=e.nd.x);e.Id.x>a.Id.x&&(a.Id.x=e.Id.x);e.nd.y<a.nd.y&&(a.nd.y=e.nd.y);e.Id.y>a.Id.y&&(a.Id.y=e.Id.y)}return{x:a.nd.x,y:a.nd.y,width:a.Id.x-a.nd.x,height:a.Id.y-a.nd.y}}
c.Cv=function(){this.Ub(!1);v.m.R(!0);for(var a=zd(this,!0),b=0,d=0,e;e=a[d];d++)if(e.Rd()){var f=e.wa();e.moveBy(-f.x,b-f.y);og(e);b=e.wa().y+e.Kb().height+25}v.m.R(!1);this.Ub(!0)};
c.Li=function(a){function b(a){if(a.mc())q=q.concat(Pc(a,!1));else{a=a.If(!1);for(var d=0;d<a.length;d++)b(a[d])}}function d(){v.m.R(h);var a=q.shift();a&&(a.s?(a.C(!1,!0),setTimeout(d,10)):d());v.m.R(!1)}if(!this.options.readOnly&&!this.Qd){var e=[],f=zd(this,!0),h=v.j.le(),k=this,l={};l.text=v.g.UNDO;l.enabled=0<this.Bh.length;l.Xa=this.Op.bind(this,!1);e.push(l);l={};l.text=v.g.REDO;l.enabled=0<this.kk.length;l.Xa=this.Op.bind(this,!0);e.push(l);this.jb&&(l={},l.text=v.g.CLEAN_UP,l.enabled=1<f.length,
l.Xa=this.Cv.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,p=0;p<f.length;p++)for(var x=f[p];x;)x.isCollapsed()?l=!0:m=!0,x=Qc(x);var u=function(a){for(var b=0,d=0;d<f.length;d++)for(var e=f[d];e;)setTimeout(e.hg.bind(e,a),b),e=Qc(e),b+=10};m={enabled:m};m.text=v.g.COLLAPSE_ALL;m.Xa=function(){u(!0)};e.push(m);l={enabled:l};l.text=v.g.EXPAND_ALL;l.Xa=function(){u(!1)};e.push(l)}var q=[];for(p=0;p<f.length;p++)b(f[p]);l={text:1==q.length?v.g.DELETE_BLOCK:v.g.DELETE_X_BLOCKS.replace("%1",
String(q.length)),enabled:0<q.length,Xa:function(){k.Hb&&k.Hb.cancel();2>q.length?d():v.confirm(v.g.DELETE_ALL_BLOCKS.replace("%1",q.length),function(a){a&&d()})}};e.push(l);this.Pq&&this.Pq(e);v.ha.show(a,e,this.v)}};
c.Ft=function(a){if(a=vf(a)){if(!this.options.te)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.ia)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.te=a;this.ia.um(a);pg(this.ia)}else{if(!this.I)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.te=a;this.I.show(a.childNodes)}}else if(this.options.te)throw Error("Can't nullify an existing toolbox.");};
function kf(a){if(a.options.zb)kf(a.options.zb);else{v.Xj=a;document.activeElement&&document.activeElement.blur();try{H(a).focus()}catch(b){try{H(a).parentNode.setActive()}catch(d){H(a).parentNode.focus()}}}}
c.zoom=function(a,b,d){var e=this.options.Pb.Wx,f=this.qb(),h=H(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(this.Oa.getCTM().inverse());a=h.x;b=h.y;h=this.Oa;e=Math.pow(e,d);d=this.scale*e;d>this.options.Pb.$j?e=this.options.Pb.$j/this.scale:d<this.options.Pb.ak&&(e=this.options.Pb.ak/this.scale);this.scale!=d&&(this.jb&&(a=h.getCTM().translate(a*(1-e),b*(1-e)).scale(e),this.scrollX=a.e-f.lb,this.scrollY=a.f-f.wb),this.setScale(d))};
function $f(a,b){var d=a.qb();a.zoom(d.Da/2,d.hb/2,b)}function ag(a){v.j.ab(a.Oa,"blocklyCanvasTransitioning");v.j.ab(a.md,"blocklyCanvasTransitioning")}function bg(a){if(a.jb){var b=a.qb(),d=(b.Mc-b.Da)/2;a.I&&(d-=a.I.pa/2);a.jb.set(d,(b.tc-b.hb)/2)}else console.warn("Tried to scroll a non-scrollable workspace.")}
c.setScale=function(a){this.options.Pb.$j&&a>this.options.Pb.$j?a=this.options.Pb.$j:this.options.Pb.ak&&a<this.options.Pb.ak&&(a=this.options.Pb.ak);this.scale=a;this.Bd&&this.Bd.update(this.scale);this.jb?this.jb.resize():this.translate(this.scrollX,this.scrollY);v.Tb(!1);this.I&&this.I.fp()};function qg(a){var b=0,d=0;a&&(b=a.fd(),d=a.ii());return{width:b,height:d}}
function rg(a){var b=Id(a),d=a.scale;a=b.width*d;var e=b.height*d,f=b.x*d;b=b.y*d;return{left:f,top:b,right:f+a,bottom:b+e,width:a,height:e}}
function dg(){var a=qg(this.ia),b=qg(this.I),d=v.At(H(this));if(this.ia)if(this.Fa==v.Bf||this.Fa==v.Cg)d.height-=a.height;else if(this.Fa==v.Oe||this.Fa==v.Hd)d.width-=a.width;if(this.jb){var e=rg(this);var f=d.width,h=d.height,k=f/2,l=h/2,m=Math.min(e.left-k,e.right-f),p=Math.min(e.top-l,e.bottom-h);e={left:m,top:p,height:Math.max(e.bottom+l,e.top+h)-p,width:Math.max(e.right+k,e.left+f)-m}}else e=rg(this);f=0;this.ia&&this.Fa==v.Oe&&(f=a.width);h=0;this.ia&&this.Fa==v.Bf&&(h=a.height);return{tc:e.height,
Mc:e.width,uc:e.top,Lc:e.left,hb:d.height,Da:d.width,Ke:-this.scrollY,Db:-this.scrollX,wb:h,lb:f,xz:a.width,wz:a.height,zl:b.width,Fr:b.height,Fa:this.Fa}}function eg(a){if(!this.jb)throw Error("Attempt to set top level workspace scroll without scrollbars.");var b=this.qb();"number"==typeof a.x&&(this.scrollX=-b.Mc*a.x-b.Lc);"number"==typeof a.y&&(this.scrollY=-b.tc*a.y-b.uc);a=this.scrollX+b.lb;b=this.scrollY+b.wb;this.translate(a,b);this.Bd&&this.Bd.moveTo(a,b)}
c.Ub=function(a){var b=!this.jp&&a;this.jp=a;b&&Ld(this)};c.clear=function(){this.Ub(!1);cg.u.clear.call(this);this.Ub(!0)};function Rf(a,b,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.xl[b]=d}function sg(a,b){return(a=a.xl[b])?a:null}function fg(a,b,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Lm[b]=d}function tg(a,b){return(a=a.Lm[b])?a:null}
c.ne=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Hb;return d?b&&d.Sg?(console.warn("tried to start the same gesture twice"),d.cancel(),null):d:b?this.Hb=new Hf(a,this):null};cg.prototype.setVisible=cg.prototype.ta;function ug(a){ug.u.constructor.call(this,null);this.ct=a}r(ug,fe);c=ug.prototype;c.Ri=0;c.Lk=0;
c.Ln=function(a){v.j.D("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);v.j.D("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
v.j.D("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};c.mo=function(a){Ad(this.Y)&&fe.prototype.mo.call(this,a)};
c.oj=function(){this.Ak=v.j.D("svg",{x:Wd,y:Wd},null);if(this.ct.length)for(var a=v.w.j.createElement("xml"),b=0,d;d=this.ct[b];b++){var e=v.w.j.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={te:a,zb:this.Y.s,Ud:this.Y.s.options.Ud,v:this.Y.v,Fa:this.Y.v?v.Hd:v.Oe,qe:!1,qb:this.uw.bind(this),lg:null};this.o=new cg(a);this.o.ri=!0;a=kg(this.o,"g");b=this.o.la("blocklyMutatorBackground");b.insertBefore(a,this.o.Oa);this.Ak.appendChild(b);return this.Ak};
c.xf=function(){this.Y.rb||(Ad(this.Y)?this.Ac&&v.j.Ab(this.Ac,"blocklyIconGroupReadonly"):(this.ta(!1),this.Ac&&v.j.ab(this.Ac,"blocklyIconGroupReadonly")));fe.prototype.xf.call(this)};
c.zm=function(){var a=2*Wd,b=this.o.Oa.getBBox();var d=this.Y.v?-b.x:b.width+b.x;b=b.height+3*a;if(this.o.I){var e=this.o.I.ff();b=Math.max(b,e.tc+20)}d+=3*a;if(Math.abs(this.Ri-d)>a||Math.abs(this.Lk-b)>a)this.Ri=d,this.Lk=b,this.bb.gg(d+a,b+a),this.Ak.setAttribute("width",this.Ri),this.Ak.setAttribute("height",this.Lk);this.Y.v&&this.o.Oa.setAttribute("transform","translate("+this.Ri+",0)");this.o.resize()};
c.ta=function(a){if(a!=this.$())if(v.m.Z(new gd(this.Y,"mutatorOpen",!a,a)),a){this.bb=new Td(this.Y.s,this.oj(),this.Y.Dd,this.Ug,null,null);be(this.bb,this.Y.id);if(a=this.o.options.te)this.o.I.S(this.o),this.o.I.show(a.childNodes);this.mf=this.Y.Ze(this.o);a=Pc(this.mf,!1);for(var b=0,d;d=a[b];b++)d.na();this.mf.ph(!1);this.mf.tp(!1);this.o.I?(a=2*this.o.I.va,b=this.o.I.pa+a):b=a=16;this.Y.v&&(b=-b);this.mf.moveBy(b,a);if(this.Y.Cm){var e=this;this.Y.Cm(this.mf);this.Em=function(){e.Y.Cm(e.mf)};
this.Y.s.Kc(this.Em)}this.zm();this.o.Kc(this.xy.bind(this));this.wf()}else this.Ak=null,this.o.C(),this.mf=this.o=null,this.bb.C(),this.bb=null,this.Lk=this.Ri=0,this.Em&&(this.Y.s.cg(this.Em),this.Em=null)};
c.xy=function(){if(!this.o.ob())for(var a=zd(this.o,!1),b=0,d;d=a[b];b++){var e=d.wa(),f=d.Kb();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}if(this.mf.s==this.o){v.m.R(!0);d=this.Y;a=(a=d.Ja())&&v.w.wc(a);b=d.T;d.T=!1;d.Xe(this.mf);d.T=b;d.Bc();b=(b=d.Ja())&&v.w.wc(b);if(a!=b){v.m.Z(new v.m.Ic(d,"mutation",null,a,b));var h=v.m.Rb();setTimeout(function(){v.m.R(h);d.mb();v.m.R(!1)},v.Ok)}d.T&&d.na();this.o.ob()||this.zm();v.m.R(!1)}};c.uw=function(){return{hb:this.Lk,Da:this.Ri,wb:0,lb:0}};
c.C=function(){this.Y.hd=null;fe.prototype.C.call(this)};function vg(a,b,d){if(!a||!a.A.s)return!1;d=E(b,d).connection;var e=D(a);return e&&e!=b||d.xa==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)}function wg(a){var b=null;if(a&&a.options){var d=a.options.zb;a.Qd?d&&d.options&&(b=d.options.zb):d&&(b=d)}return b}g.Blockly||(g.Blockly={});g.Blockly.Mutator||(g.Blockly.Mutator={});g.Blockly.Mutator.reconnect=vg;v.O={};v.O.Pm={};v.O.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(v.O.Pm[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');v.O.Pm[a]=b};v.O.wm=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');v.O.register(a,function(){xg(this,b)})};
v.O.lk=function(a,b,d,e){var f='Error when registering mutator "'+a+'": ';v.O.Eq(f,b.eb,"domToMutation");v.O.Eq(f,b.Ja,"mutationToDom");var h=v.O.Gq(b,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');v.O.register(a,function(){h&&this.vk(new ug(e));xg(this,b);d&&d.apply(this)})};
v.O.apply=function(a,b,d){var e=v.O.Pm[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)v.O.Av(a,b);else var f=v.O.Yn(b);e.apply(b);if(d)v.O.yv('Error after applying mutator "'+a+'": ',b);else if(!v.O.ox(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
v.O.Eq=function(a,b,d){if(!b)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof b)throw Error(a+'" required property "'+d+'" must be a function');};v.O.Av=function(a,b){if(v.O.Yn(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
v.O.Gq=function(a,b){var d=void 0!==a.Xe,e=void 0!==a.Ze;if(d&&e){if("function"!=typeof a.Xe)throw Error(b+"compose must be a function.");if("function"!=typeof a.Ze)throw Error(b+"decompose must be a function.");return!0}if(d||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
v.O.yv=function(a,b){if("function"!=typeof b.eb)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Ja)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');v.O.Gq(b,a)};v.O.Yn=function(a){var b=[];void 0!==a.eb&&b.push(a.eb);void 0!==a.Ja&&b.push(a.Ja);void 0!==a.Xe&&b.push(a.Xe);void 0!==a.Ze&&b.push(a.Ze);return b};v.O.ox=function(a,b){b=v.O.Yn(b);if(b.length!=a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!=b[d])return!1;return!0};
v.O.Zk=function(a,b){var d=[];"object"==typeof document&&v.j.mt(function(){for(var a in b)v.j.Fq(b[a])});return function(){this.type&&-1===d.indexOf(this.type)&&(v.O.zv(this,a,b),d.push(this.type));this.Sa(function(){var e=B(this,a),f=b[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=v.j.ac(f);return f}.bind(this))}};
v.O.zv=function(a,b,d){var e=C(a,b);if("function"!=typeof e.$g){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+b+" of block type "+a.type)}}};v.O.$k=function(a){"object"==typeof document&&v.j.mt(function(){v.j.Fq(a)});return function(){this.Sa(function(){var b=C(this,"VAR");return v.j.ac(a).replace("%1",b?b.yb():"")}.bind(this))}};
v.O.kw=function(){this.oy=this.Vc;this.Sa(function(){var a=this.getParent();return a&&yg(a)&&a.Vc||this.oy}.bind(this))};v.O.register("parent_tooltip_when_inline",v.O.kw);function zg(a,b){var d=wc(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function Ag(a,b){return zg(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Oc(){var a=document,b=a.body;a=a.documentElement;return new A(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function Bg(a){try{var b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}y&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function Cg(a){var b=wc(a),d=new A(0,0);var e=b?wc(b):document;e=!y||9<=Number(zb)||"CSS1Compat"==uc(e).ie.compatMode?e.documentElement:e.body;if(a==e)return d;a=Bg(a);b=Ac(uc(b).ie);d.x=a.left+b.x;d.y=a.top+b.y;return d}
function Dg(a){"number"==typeof a&&(a+="px");return a}function Eg(a){var b=Fg;if("none"!=Ag(a,"display"))return b(a);var d=a.style,e=d.display,f=d.visibility,h=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";a=b(a);d.display=e;d.position=h;d.visibility=f;return a}function Fg(a){var b=a.offsetWidth,d=a.offsetHeight,e=z&&!b&&!d;return(void 0===b||e)&&a.getBoundingClientRect?(a=Bg(a),new tc(a.right-a.left,a.bottom-a.top)):new tc(b,d)}
function Gg(a,b){a.style.display=b?"":"none"}var Hg=nb?"MozUserSelect":z||mb?"WebkitUserSelect":null;function Ig(a,b,d){d=d?null:a.getElementsByTagName("*");if(Hg){if(b=b?"none":"",a.style&&(a.style[Hg]=b),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[Hg]=b)}}else if(y||lb)if(b=b?"on":"",a.setAttribute("unselectable",b),d)for(a=0;e=d[a];a++)e.setAttribute("unselectable",b)}var Jg={thin:2,medium:4,thick:6};
function Kg(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[b+"Width"]:null;if(d in Jg)a=Jg[d];else if(/^\d+px?$/.test(d))a=parseInt(d,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+d}return a};function Lg(a,b){this.tb=new tc(0,25);this.setValue(a);this.Dh=b}var Mg={};function Ng(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.oa)throw Error('Field "'+b+'" must have a fromJson function');Mg[a]=b}var Og=null,Pg=0;c=Lg.prototype;c.name=void 0;c.ws=50;c.qa="";c.A=null;c.Ua=!0;c.Dh=null;c.wg=!0;c.zp=function(a){if(this.A)throw Error("Field already bound to a block.");this.A=a};
c.S=function(){this.Ra||(this.Ra=v.j.D("g",{},null),this.Ua||(this.Ra.style.display="none"),this.wd=v.j.D("rect",{rx:4,ry:4,x:-5,y:0,height:16},this.Ra),this.za=v.j.D("text",{"class":"blocklyText",y:this.tb.height-12.5},this.Ra),this.xf(),this.A.ma().appendChild(this.Ra),this.lm=v.U(this.Ra,"mousedown",this,this.$f),this.ye())};c.Vg=function(){};c.C=function(){this.lm&&(v.Pa(this.lm),this.lm=null);this.A=null;this.Ra&&(v.j.removeNode(this.Ra),this.Ra=null);this.Dh=this.wd=this.za=null};
c.xf=function(){var a=this.Ra;this.wg&&a&&(Ad(this.A)?(v.j.ab(a,"blocklyEditableText"),v.j.Ab(a,"blocklyNonEditableText"),this.Ra.style.cursor=this.Rk):(v.j.ab(a,"blocklyNonEditableText"),v.j.Ab(a,"blocklyEditableText"),this.Ra.style.cursor=""))};c.$=function(){return this.Ua};c.ta=function(a){if(this.Ua!=a){this.Ua=a;var b=this.ma();b&&(b.style.display=a?"block":"none",this.ye())}};function Qg(a,b){a.Dh=b}c.pn=function(a){return a};
function vd(a,b){var d=a.pn(b);if(null===d)return null;void 0!==d&&(b=d);if(d=a.Dh){a=d.call(a,b);if(null===a)return null;void 0!==a&&(b=a)}return b}c.ma=function(){return this.Ra};c.ye=function(){this.Ua?(this.za.textContent=Rg(this),this.Kk()):this.tb.width=0};c.Kk=function(){var a=Sg(this.za);this.wd&&this.wd.setAttribute("width",a+10);this.tb.width=a};
function Sg(a){var b=a.textContent+"\n"+a.className.baseVal,d;if(Og&&(d=Og[b]))return d;try{d=y||mb?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}Og&&(Og[b]=d);return d}function Cd(){Pg++;Og||(Og={})}function Hd(){Pg--;Pg||(Og=null)}c.Ej=function(){this.tb.width||this.ye();return this.tb};function Tg(a){var b=a.wd.getBBox(),d=b.height*a.A.s.scale;b=b.width*a.A.s.scale;a=Cg(a.wd);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+b}}
function Rg(a){var b=a.qa;if(!b)return"\u00a0";b.length>a.ws&&(b=b.substring(0,a.ws-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.A.v&&(b+="\u200f");return b}c.yb=function(){return this.qa};c.sb=function(a){null!==a&&(a=String(a),a!==this.qa&&(this.qa=a,this.xj()))};c.xj=function(){this.tb.width=0;this.A&&this.A.T&&(this.A.na(),this.A.mb())};c.getValue=function(){return this.yb()};
c.setValue=function(a){if(null!==a){var b=this.getValue();b!=a&&(this.A&&v.m.isEnabled()&&v.m.Z(new v.m.Ic(this.A,"field",this.name,b,a)),this.sb(a))}};c.$f=function(a){if(this.A&&this.A.s&&(a=this.A.s.ne(a))){if(a.Sg)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.wh||(a.wh=this)}};c.Sa=function(){};c.kh=function(){return!1};function Ug(a,b){this.tb=new tc(0,17.5);this.Jq=b;this.setValue(a);this.Ah=""}r(Ug,Lg);Ug.oa=function(a){var b=v.j.ac(a.text);return new Ug(b,a["class"])};c=Ug.prototype;c.wg=!1;c.S=function(){this.za||(this.za=v.j.D("text",{"class":"blocklyText",y:this.tb.height-5},null),this.Jq&&v.j.ab(this.za,this.Jq),this.Ua||(this.za.style.display="none"),this.A.ma().appendChild(this.za),this.za.Vc=this.Ah?this.Ah:this.A,v.F.Eg(this.za),this.ye())};c.C=function(){this.za&&(v.j.removeNode(this.za),this.za=null)};
c.ma=function(){return this.za};c.Sa=function(a){this.Ah=a;this.za&&(this.za.Vc=a)};Ng("field_label",Ug);function Vg(a,b,d,e){if(a!=v.Le&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.A=d;this.connection=e;this.Ma=[]}c=Vg.prototype;c.align=v.Si;c.Ua=!0;function K(a,b,d){Wg(a,a.Ma.length,b,d);return a}
function Wg(a,b,d,e){if(0>b||b>a.Ma.length)throw Error("index "+b+" out of bounds.");if(!d&&!e)return b;"string"==typeof d&&(d=new Ug(d));d.zp(a.A);a.A.T&&d.S();d.name=e;d.Zo&&(b=Wg(a,b,d.Zo));a.Ma.splice(b,0,d);++b;d.Lp&&(b=Wg(a,b,d.Lp));a.A.T&&(a.A.na(),a.A.mb());return b}c.$=function(){return this.Ua};
c.ta=function(a){var b=[];if(this.Ua==a)return b;for(var d=(this.Ua=a)?"block":"none",e=0,f;f=this.Ma[e];e++)f.ta(a);if(this.connection){if(a)b=Ie(this.connection);else if(e=this.connection,Je(e,!0),e.xa)for(e=Pc(D(e),!1),f=0;f<e.length;f++){for(var h=e[f],k=h.me(!0),l=0;l<k.length;l++)Je(k[l],!0);h=Ne(h);for(l=0;l<h.length;l++)h[l].ta(!1)}if(e=D(this.connection))e.ma().style.display=d,a||(e.T=!1)}return b};
c.Ha=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ha(a);return this};function Xg(a,b){a.align=b;a.A.T&&a.A.na();return a}c.S=function(){if(this.A.s.T)for(var a=0;a<this.Ma.length;a++)this.Ma[a].S()};c.C=function(){for(var a=0,b;b=this.Ma[a];a++)b.C();this.connection&&this.connection.C();this.A=null};function je(a){je.u.constructor.call(this,a);ge(this);this.qa={}}r(je,fe);c=je.prototype;c.Nq=!1;c.Ln=function(a){v.j.D("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);v.j.D("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);v.j.D("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
c.ta=function(a){if(a!=this.$())if(v.m.Z(new gd(this.Y,"warningOpen",!a,a)),a){var b=this.yb();a=v.j.D("text",{"class":"blocklyText blocklyBubbleText",y:Wd},null);b=b.split("\n");for(var d=0;d<b.length;d++)v.j.D("tspan",{dy:"1em",x:Wd},a).appendChild(document.createTextNode(b[d]));this.bb=new Td(this.Y.s,a,this.Y.Dd,this.Ug,null,null);be(this.bb,this.Y.id);if(this.Y.v){b=a.getBBox().width;d=0;for(var e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+Wd)}this.wf();a=
this.bb.Pg();this.bb.gg(a.width,a.height)}else this.bb.C(),this.bb=null};c.sb=function(a,b){this.qa[b]!=a&&(a?this.qa[b]=a:delete this.qa[b],this.$()&&(this.ta(!1),this.ta(!0)))};c.yb=function(){var a=[],b;for(b in this.qa)a.push(this.qa[b]);return a.join("\n")};c.C=function(){this.Y.ec=null;fe.prototype.C.call(this)};function Pd(a,b,d){if("undefined"!==typeof Yg.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=d&&!ld(a,d)?d:v.j.le();a.kn[this.id]=this;this.X=this.M=this.P=null;this.V=[];this.Sf=void 0;this.disabled=!1;this.Vc="";this.contextMenu=!0;this.ve=null;this.Te=[];this.Br=this.ck=this.rj=!0;this.fe=this.Za=!1;this.Ya=null;this.qd=new A(0,0);this.s=a;this.rb=a.Qd;this.v=a.v;this.$l=!1;if(b){this.type=b;d=v.L[b];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+
b);for(var e in d)this[e]=d[e]}a.Ni.push(this);a.uf[this.type]||(a.uf[this.type]=[]);a.uf[this.type].push(this);"function"==typeof this.S&&this.S();this.Vw=this.Sf;if(v.m.isEnabled()){(a=v.m.Rb())||v.m.R(!0);try{v.m.Z(new v.m.Pk(this))}finally{a||v.m.R(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.ek&&this.s.cg(this.ek);if(this.onchange=a)this.ek=a.bind(this),this.s.Kc(this.ek)}}c=Pd.prototype;c.data=null;
c.ge="#000000";
c.C=function(a){if(this.s){this.ek&&this.s.cg(this.ek);xd(this,a);v.m.isEnabled()&&v.m.Z(new v.m.Ot(this));v.m.disable();try{if(this.s){Od(this.s,this);var b=this.s;b.uf[this.type].splice(b.uf[this.type].indexOf(this),1);b.uf[this.type].length||delete b.uf[this.type];delete this.s.kn[this.id];this.s=null}v.selected==this&&(v.selected=null);for(var d=this.Te.length-1;0<=d;d--)this.Te[d].C(!1);d=0;for(var e;e=this.V[d];d++)e.C();this.V.length=0;var f=this.me(!0);for(d=0;d<f.length;d++){var h=f[d];h.isConnected()&&
h.disconnect();f[d].C()}}finally{v.m.enable()}}};c.Vg=function(){for(var a=0,b;b=this.V[a];a++)for(var d=0,e;e=b.Ma[d];d++)e.Vg&&e.Vg()};
function xd(a,b){if(a.P){var d=null;a.P.isConnected()&&(d=a.P.xa,a.P.disconnect());if(d&&b){a:{b=null;for(var e=0;e<a.V.length;e++){var f=a.V[e].connection;if(f&&f.type==v.$a){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&(a=a.xa,me(a,d)&&(a.disconnect(),d.connect(a)))}}else a.X&&(d=null,a.X.isConnected()&&(d=a.X.xa,a.X.disconnect()),e=Qc(a),b&&e&&(a=a.M.xa,a.disconnect(),d&&me(d,a)&&d.connect(a)))}
c.me=function(){var a=[];this.P&&a.push(this.P);this.X&&a.push(this.X);this.M&&a.push(this.M);for(var b=0,d;d=this.V[b];b++)d.connection&&a.push(d.connection);return a};c.mb=function(){console.warn("Not expected to reach this bumpNeighbours_ function. The BlockSvg function for bumpNeighbours_ was expected to be called instead.")};c.getParent=function(){return this.ve};function Zg(a){do{var b=a;a=a.getParent();if(!a)return null}while(Qc(a)==b);return a}function Qc(a){return a.M&&D(a.M)}
function Ce(a){var b=a;do a=b,b=a.ve;while(b);return a}c.If=function(a){if(!a)return this.Te;a=[];for(var b=0,d;d=this.V[b];b++)d.connection&&(d=D(d.connection))&&a.push(d);(b=Qc(this))&&a.push(b);return a};c.qh=function(a){if(a!=this.ve){if(this.ve){v.j.fj(this.ve.Te,this);if(this.X&&this.X.isConnected())throw Error("Still connected to previous block.");if(this.P&&this.P.isConnected())throw Error("Still connected to parent block.");this.ve=null}else Od(this.s,this);(this.ve=a)?a.Te.push(this):this.s.Ni.push(this)}};
function Pc(a,b){var d=[a];a=a.If(b);for(var e,f=0;e=a[f];f++)d.push.apply(d,Pc(e,b));return d}c.mc=function(){return this.rj&&!this.Za&&!(this.s&&this.s.options.readOnly)};c.tp=function(a){this.rj=a};c.Rd=function(){return this.ck&&!this.Za&&!(this.s&&this.s.options.readOnly)};c.ph=function(a){this.ck=a};c.yp=function(a){this.Za=a};function Ad(a){return a.Br&&!(a.s&&a.s.options.readOnly)}c.up=function(a){this.Br=a;a=0;for(var b;b=this.V[a];a++)for(var d=0,e;e=b.Ma[d];d++)e.xf()};
function Jd(a,b){if(!b&&a.isCollapsed()){if(a.P&&Je(a.P,b),a.X&&Je(a.X,b),a.M){Je(a.M,b);var d=D(a.M);d&&Jd(d,b)}}else{a=a.me(!0);for(var e=0;d=a[e];e++)Je(d,b),qe(d)&&(d=D(d))&&Jd(d,b)}}c.Sa=function(a){this.Vc=a};c.pb=function(a){var b="string"==typeof a?v.j.ac(a):a,d=Number(b);if(!isNaN(d)&&0<=d&&360>=d)this.ge=v.Xr(d);else if("string"==typeof b&&/^#[0-9a-fA-F]{6}$/.test(b))this.ge=b;else throw d='Invalid colour: "'+b+'"',a!=b&&(d+=' (from "'+a+'")'),d;};
function C(a,b){for(var d=0,e;e=a.V[d];d++)for(var f=0,h;h=e.Ma[f];f++)if(h.name===b)return h;return null}c.ao=function(){for(var a=[],b=0,d;d=this.V[b];b++)for(var e=0,f;f=d.Ma[e];e++)f.kh()&&a.push(f.getValue());return a};c.gf=function(){for(var a=[],b=0,d;d=this.V[b];b++)for(var e=0,f;f=d.Ma[e];e++)f.kh()&&(f=this.s.Md(f.getValue()))&&a.push(f);return a};c.Mm=function(a){for(var b=0,d;d=this.V[b];b++)for(var e=0,f;f=d.Ma[e];e++)f.kh()&&a.ga()==f.getValue()&&f.sb(a.name)};
c.pk=function(a,b){for(var d=0,e;e=this.V[d];d++)for(var f=0,h;h=e.Ma[f];f++)h.kh()&&a==h.getValue()&&h.setValue(b)};function B(a,b){return(a=C(a,b))?a.getValue():null}function $g(a,b,d){a=C(a,d);if(!a)throw Error('Field "'+d+'" not found.');a.setValue(b)}
c.Ce=function(a,b){if(a){void 0===b&&(b=null);if(!this.X){if(this.P)throw Error("Remove output connection prior to adding previous connection.");this.X=this.Yj(v.Ag)}this.X.Ha(b)}else if(this.X){if(this.X.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.X.C();this.X=null}};
c.Ae=function(a,b){if(a)void 0===b&&(b=null),this.M||(this.M=this.Yj(v.Wa)),this.M.Ha(b);else if(this.M){if(this.M.isConnected())throw Error("Must disconnect next statement before removing connection.");this.M.C();this.M=null}};
c.Be=function(a,b){if(a){void 0===b&&(b=null);if(!this.P){if(this.X)throw Error("Remove previous connection prior to adding output connection.");this.P=this.Yj(v.Sh)}this.P.Ha(b)}else if(this.P){if(this.P.isConnected())throw Error("Must disconnect output value before removing connection.");this.P.C();this.P=null}};c.kg=function(a){this.Sf!=a&&(v.m.Z(new v.m.Ic(this,"inline",null,this.Sf,a)),this.Sf=a)};
function yg(a){if(void 0!=a.Sf)return a.Sf;for(var b=1;b<a.V.length;b++)if(a.V[b-1].type==v.Le&&a.V[b].type==v.Le)return!1;for(b=1;b<a.V.length;b++)if(a.V[b-1].type==v.$a&&a.V[b].type==v.Le)return!0;return!1}c.Sc=function(a){this.disabled!=a&&(v.m.Z(new v.m.Ic(this,"disabled",null,this.disabled,a)),this.disabled=a)};function ah(a){for(a=Zg(a);a;){if(a.disabled)return!0;a=Zg(a)}return!1}c.isCollapsed=function(){return this.fe};
c.hg=function(a){this.fe!=a&&(v.m.Z(new v.m.Ic(this,"collapsed",null,this.fe,a)),this.fe=a)};c.toString=function(a,b){var d=[],e=b||"?";if(this.fe)d.push(E(this,"_TEMP_COLLAPSED_INPUT").Ma[0].qa);else for(var f=0,h;h=this.V[f];f++){for(var k=0,l;l=h.Ma[k];k++)l instanceof bh&&!l.getValue()?d.push(e):d.push(l.yb());h.connection&&((h=D(h.connection))?d.push(h.toString(void 0,b)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function L(a,b){return a.Pe(v.$a,b)}function M(a,b){return a.Pe(v.Le,b||"")}
function ch(a,b){var d=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");if("colour"in b)if(void 0===b.colour)console.warn(d+"Undefined color value.");else{var e=b.colour;try{a.pb(e)}catch(t){console.warn(d+"Illegal color value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,h=b["args"+e]||[],k=b["lastDummyAlign"+e],l=v.j.ly(b["message"+e]),m=[],p=0,x=[],u=0;u<l.length;u++){var q=l[u];if("number"==typeof q){if(0>=
q||q>h.length)throw Error('Block "'+f.type+'": Message index %'+q+" out of range.");if(m[q])throw Error('Block "'+f.type+'": Message index %'+q+" duplicated.");m[q]=!0;p++;x.push(h[q-1])}else(q=q.trim())&&x.push(q)}if(p!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+h.length+" arg(s).");x.length&&("string"==typeof x[x.length-1]||v.j.startsWith(x[x.length-1].type,"field_"))&&(u={type:"input_dummy"},k&&(u.align=k),x.push(u));k={LEFT:v.Si,RIGHT:v.Qb,CENTRE:v.Mk};h=[];for(u=
0;u<x.length;u++)if(m=x[u],"string"==typeof m)h.push([m,void 0]);else{l=q=null;do if(p=!1,"string"==typeof m)q=new Ug(m);else switch(m.type){case "input_value":l=L(f,m.name);break;case "input_statement":l=f.Pe(v.Wa,m.name);break;case "input_dummy":l=M(f,m.name);break;default:q=(q=Mg[m.type])?q.oa(m):null,q||(m.alt?(m=m.alt,p=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(p);if(q)h.push([q,
m.name]);else if(l){m.check&&l.Ha(m.check);m.align&&Xg(l,k[m.align]);for(m=0;m<h.length;m++)K(l,h[m][0],h[m][1]);h.length=0}}e++}void 0!==b.inputsInline&&a.kg(b.inputsInline);void 0!==b.output&&a.Be(!0,b.output);void 0!==b.previousStatement&&a.Ce(!0,b.previousStatement);void 0!==b.nextStatement&&a.Ae(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=v.j.ac(e),a.Sa(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=v.j.ac(e),a.kc=e);
"string"==typeof b.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&v.O.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=b.extensions,d=0;d<b.length;++d)v.O.apply(b[d],a,!1)}function xg(a,b){var d=[],e;for(e in b)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));for(var f in b)a[f]=b[f]}
c.Pe=function(a,b){var d=null;if(a==v.$a||a==v.Wa)d=this.Yj(a);a=new Vg(a,b,this,d);this.V.push(a);return a};function dh(a,b,d){if(b!=d){for(var e=-1,f=d?-1:a.V.length,h=0,k;k=a.V[h];h++)if(k.name==b){if(e=h,-1!=f)break}else if(d&&k.name==d&&(f=h,-1!=e))break;if(-1==e)throw Error('Named input "'+b+'" not found.');if(-1==f)throw Error('Reference input "'+d+'" not found.');a.Fo(e,f)}}
c.Fo=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.V.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.V.length)throw RangeError("Reference input "+b+" out of bounds.");var d=this.V[a];this.V.splice(a,1);a<b&&b--;this.V.splice(b,0,d)};
c.Bb=function(a,b){for(var d=0,e;e=this.V[d];d++)if(e.name==a){e.connection&&e.connection.isConnected()&&(e.connection.De=null,a=D(e.connection),a.Za?a.C():xd(a));e.C();this.V.splice(d,1);return}if(!b)throw Error("Input not found: "+a);};function E(a,b){for(var d=0,e;e=a.V[d];d++)if(e.name==b)return e;return null}function eh(a,b){return(a=E(a,b))&&a.connection&&D(a.connection)}c.Aj=function(){return this.Ya||""};
c.nh=function(a){this.Ya!=a&&(v.m.Z(new v.m.Ic(this,"comment",null,this.Ya,a||"")),this.Ya=a)};c.Yd=function(){};c.vk=function(){};c.wa=function(){return this.qd};c.moveBy=function(a,b){if(this.ve)throw Error("Block has parent.");var d=new v.m.Ti(this);this.qd.translate(a,b);d.lf();v.m.Z(d)};c.Yj=function(a){return new ke(this,a)};function te(a){var b=a.type?'"'+a.type+'" block':"Block";a.id&&(b+=' (id="'+a.id+'")');return b};v.j.Pi={};v.j.Pi.Ej=function(a){a=a.K();var b=Eg(a);b.height=a.scrollHeight;return b};v.j.Pi.tq=function(a,b,d){b.left+=d.width;b.right+=d.width;a.left+=d.width;a.right+=d.width};function fh(){0!=gh&&(hh[ta(this)]=this);this.af=this.af;this.kf=this.kf}var gh=0,hh={};fh.prototype.af=!1;fh.prototype.C=function(){if(!this.af&&(this.af=!0,this.Ib(),0!=gh)){var a=ta(this);if(0!=gh&&this.kf&&0<this.kf.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete hh[a]}};function ih(a,b){a.af?b():(a.kf||(a.kf=[]),a.kf.push(b))}fh.prototype.Ib=function(){if(this.kf)for(;this.kf.length;)this.kf.shift()()};
function jh(a){a&&"function"==typeof a.C&&a.C()};function kh(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ih=!1;this.kt=!0}kh.prototype.stopPropagation=function(){this.ih=!0};kh.prototype.preventDefault=function(){this.defaultPrevented=!0;this.kt=!1};var lh={Mh:Vc?"pointerdown":Wc?"MSPointerDown":"mousedown",Nh:Vc?"pointerup":Wc?"MSPointerUp":"mouseup",Lh:Vc?"pointercancel":Wc?"MSPointerCancel":"mousecancel",yu:Vc?"pointermove":Wc?"MSPointerMove":"mousemove",Au:Vc?"pointerover":Wc?"MSPointerOver":"mouseover",zu:Vc?"pointerout":Wc?"MSPointerOut":"mouseout",wu:Vc?"pointerenter":Wc?"MSPointerEnter":"mouseenter",xu:Vc?"pointerleave":Wc?"MSPointerLeave":"mouseleave"},mh={Mh:"mousedown",Nh:"mouseup",Lh:"mousecancel",yu:"mousemove",Au:"mouseover",zu:"mouseout",
wu:"mouseenter",xu:"mouseleave"};function nh(a,b){kh.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Vo=!1;this.pointerId=0;this.pointerType="";this.je=null;a&&this.S(a,b)}r(nh,kh);var oh=[1,4,2],ph={2:"touch",3:"pen",4:"mouse"};
nh.prototype.S=function(a,b){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(nb){a:{try{ib(b.nodeName);var f=!0;break a}catch(h){}f=!1}f||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=z||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=z||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Vo=pb?a.metaKey:
a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=n(a.pointerType)?a.pointerType:ph[a.pointerType]||"";this.state=a.state;this.je=a;a.defaultPrevented&&this.preventDefault()};function qh(a){return Rc?0==a.je.button:"click"==a.type?!0:!!(a.je.button&oh[0])}nh.prototype.stopPropagation=function(){nh.u.stopPropagation.call(this);this.je.stopPropagation?this.je.stopPropagation():this.je.cancelBubble=!0};
nh.prototype.preventDefault=function(){nh.u.preventDefault.call(this);var a=this.je;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Tc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var rh="closure_listenable_"+(1E6*Math.random()|0);function sh(a){return!(!a||!a[rh])}var th=0;function uh(a,b,d,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!e;this.Sl=f;this.key=++th;this.Hi=this.al=!1}function vh(a){a.Hi=!0;a.listener=null;a.proxy=null;a.src=null;a.Sl=null};function wh(a){this.src=a;this.Dc={};this.Hk=0}wh.prototype.add=function(a,b,d,e,f){var h=a.toString();a=this.Dc[h];a||(a=this.Dc[h]=[],this.Hk++);var k=xh(a,b,e,f);-1<k?(b=a[k],d||(b.al=!1)):(b=new uh(b,this.src,h,!!e,f),b.al=d,a.push(b));return b};wh.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.Dc))return!1;var f=this.Dc[a];b=xh(f,b,d,e);return-1<b?(vh(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.Dc[a],this.Hk--),!0):!1};
function yh(a,b){var d=b.type;d in a.Dc&&Ha(a.Dc[d],b)&&(vh(b),0==a.Dc[d].length&&(delete a.Dc[d],a.Hk--))}wh.prototype.removeAll=function(a){a=a&&a.toString();var b=0,d;for(d in this.Dc)if(!a||d==a){for(var e=this.Dc[d],f=0;f<e.length;f++)++b,vh(e[f]);delete this.Dc[d];this.Hk--}return b};wh.prototype.Cj=function(a,b,d,e){a=this.Dc[a.toString()];var f=-1;a&&(f=xh(a,b,d,e));return-1<f?a[f]:null};
function xh(a,b,d,e){for(var f=0;f<a.length;++f){var h=a[f];if(!h.Hi&&h.listener==b&&h.capture==!!d&&h.Sl==e)return f}return-1};var zh="closure_lm_"+(1E6*Math.random()|0),Ah={},Bh=0;function Ch(a,b,d,e,f){if(e&&e.once)return Dh(a,b,d,e,f);if(pa(b)){for(var h=0;h<b.length;h++)Ch(a,b[h],d,e,f);return null}d=Eh(d);return sh(a)?a.Ba(b,d,sa(e)?!!e.capture:!!e,f):Fh(a,b,d,!1,e,f)}
function Fh(a,b,d,e,f,h){if(!b)throw Error("Invalid event type");var k=sa(f)?!!f.capture:!!f,l=Gh(a);l||(a[zh]=l=new wh(a));d=l.add(b,d,e,k,h);if(d.proxy)return d;e=Hh();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)Xc||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(Ih(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");Bh++;return d}
function Hh(){var a=Jh,b=Sc?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b}function Dh(a,b,d,e,f){if(pa(b)){for(var h=0;h<b.length;h++)Dh(a,b[h],d,e,f);return null}d=Eh(d);return sh(a)?a.rs(b,d,sa(e)?!!e.capture:!!e,f):Fh(a,b,d,!0,e,f)}function Kh(a,b,d,e,f){if(pa(b))for(var h=0;h<b.length;h++)Kh(a,b[h],d,e,f);else e=sa(e)?!!e.capture:!!e,d=Eh(d),sh(a)?a.od(b,d,e,f):a&&(a=Gh(a))&&(b=a.Cj(b,d,e,f))&&Lh(b)}
function Lh(a){if(!ka(a)&&a&&!a.Hi){var b=a.src;if(sh(b))yh(b.df,a);else{var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent?b.detachEvent(Ih(d),e):b.addListener&&b.removeListener&&b.removeListener(e);Bh--;(d=Gh(b))?(yh(d,a),0==d.Hk&&(d.src=null,b[zh]=null)):vh(a)}}}function Ih(a){return a in Ah?Ah[a]:Ah[a]="on"+a}
function Mh(a,b,d,e){var f=!0;if(a=Gh(a))if(b=a.Dc[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==d&&!h.Hi&&(h=Nh(h,e),f=f&&!1!==h)}return f}function Nh(a,b){var d=a.listener,e=a.Sl||a.src;a.al&&Lh(a);return d.call(e,b)}
function Jh(a,b){if(a.Hi)return!0;if(!Sc){if(!b)a:{b=["window","event"];for(var d=g,e=0;e<b.length;e++)if(d=d[b[e]],null==d){b=null;break a}b=d}e=b;b=new nh(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.ih&&0<=f;f--){b.currentTarget=e[f];var h=Mh(e[f],a,!0,b);d=d&&h}for(f=0;!b.ih&&f<e.length;f++)b.currentTarget=
e[f],h=Mh(e[f],a,!1,b),d=d&&h}return d}return Nh(a,new nh(b,this))}function Gh(a){a=a[zh];return a instanceof wh?a:null}var Oh="__closure_events_fn_"+(1E9*Math.random()>>>0);function Eh(a){if(ra(a))return a;a[Oh]||(a[Oh]=function(b){return a.handleEvent(b)});return a[Oh]};function Ph(a){fh.call(this);this.oi=a;this.ui={}}r(Ph,fh);var Qh=[];c=Ph.prototype;c.Ba=function(a,b,d,e){pa(b)||(b&&(Qh[0]=b.toString()),b=Qh);for(var f=0;f<b.length;f++){var h=Ch(a,b[f],d||this.handleEvent,e||!1,this.oi||this);if(!h)break;this.ui[h.key]=h}return this};c.rs=function(a,b,d,e){return Rh(this,a,b,d,e)};function Rh(a,b,d,e,f,h){if(pa(d))for(var k=0;k<d.length;k++)Rh(a,b,d[k],e,f,h);else{b=Dh(b,d,e||a.handleEvent,f,h||a.oi||a);if(!b)return a;a.ui[b.key]=b}return a}
c.od=function(a,b,d,e,f){if(pa(b))for(var h=0;h<b.length;h++)this.od(a,b[h],d,e,f);else d=d||this.handleEvent,e=sa(e)?!!e.capture:!!e,f=f||this.oi||this,d=Eh(d),e=!!e,b=sh(a)?a.Cj(b,d,e,f):a?(a=Gh(a))?a.Cj(b,d,e,f):null:null,b&&(Lh(b),delete this.ui[b.key]);return this};c.removeAll=function(){db(this.ui,function(a,b){this.ui.hasOwnProperty(b)&&Lh(a)},this);this.ui={}};c.Ib=function(){Ph.u.Ib.call(this);this.removeAll()};
c.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Sh(){fh.call(this);this.df=new wh(this);this.ev=this;this.So=null}r(Sh,fh);Sh.prototype[rh]=!0;c=Sh.prototype;c.Kl=function(){return this.So};c.wp=function(a){this.So=a};c.addEventListener=function(a,b,d,e){Ch(this,a,b,d,e)};c.removeEventListener=function(a,b,d,e){Kh(this,a,b,d,e)};
c.dispatchEvent=function(a){var b,d=this.Kl();if(d)for(b=[];d;d=d.Kl())b.push(d);d=this.ev;var e=a.type||a;if(n(a))a=new kh(a,d);else if(a instanceof kh)a.target=a.target||d;else{var f=a;a=new kh(e,d);gb(a,f)}f=!0;if(b)for(var h=b.length-1;!a.ih&&0<=h;h--){var k=a.currentTarget=b[h];f=Th(k,e,!0,a)&&f}a.ih||(k=a.currentTarget=d,f=Th(k,e,!0,a)&&f,a.ih||(f=Th(k,e,!1,a)&&f));if(b)for(h=0;!a.ih&&h<b.length;h++)k=a.currentTarget=b[h],f=Th(k,e,!1,a)&&f;return f};
c.Ib=function(){Sh.u.Ib.call(this);this.removeAllListeners();this.So=null};c.Ba=function(a,b,d,e){return this.df.add(String(a),b,!1,d,e)};c.rs=function(a,b,d,e){return this.df.add(String(a),b,!0,d,e)};c.od=function(a,b,d,e){return this.df.remove(String(a),b,d,e)};c.removeAllListeners=function(a){return this.df?this.df.removeAll(a):0};
function Th(a,b,d,e){b=a.df.Dc[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.Hi&&k.capture==d){var l=k.listener,m=k.Sl||k.src;k.al&&yh(a.df,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.kt}c.Cj=function(a,b,d,e){return this.df.Cj(String(a),b,d,e)};function Uh(){}na(Uh);Uh.prototype.tx=0;Uh.prototype.Rw="";function Vh(a){Sh.call(this);this.ul=a||uc();this.Ii=Wh;this.pi=null;this.Ga=!1;this.ea=null;this.Lf=void 0;this.Ef=this.hc=this.we=this.Eo=null;this.Ei=this.vy=!1}r(Vh,Sh);Vh.prototype.Qw=Uh.Kf();var Wh=null;
function Xh(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}c=Vh.prototype;c.ga=function(){var a;(a=this.pi)||(a=this.Qw,a=this.pi=a.Rw+":"+(a.tx++).toString(36));return a};c.K=function(){return this.ea};
function Yh(a){a.Lf||(a.Lf=new Ph(a));return a.Lf}c.qh=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.we&&this.pi&&Zh(this.we,this.pi)&&this.we!=a)throw Error("Unable to set parent component");this.we=a;Vh.u.wp.call(this,a)};c.getParent=function(){return this.we};c.wp=function(a){if(this.we&&this.we!=a)throw Error("Method not supported");Vh.u.wp.call(this,a)};c.Ld=function(){return this.ul};c.la=function(){this.ea=this.ul.createElement("DIV")};c.na=function(a){this.ye(a)};
c.ye=function(a,b){if(this.Ga)throw Error("Component already rendered");this.ea||this.la();a?a.insertBefore(this.ea,b||null):this.ul.ie.body.appendChild(this.ea);this.we&&!this.we.Ga||this.Yb()};c.Yb=function(){this.Ga=!0;$h(this,function(a){!a.Ga&&a.K()&&a.Yb()})};c.Ad=function(){$h(this,function(a){a.Ga&&a.Ad()});this.Lf&&this.Lf.removeAll();this.Ga=!1};
c.Ib=function(){this.Ga&&this.Ad();this.Lf&&(this.Lf.C(),delete this.Lf);$h(this,function(a){a.C()});!this.vy&&this.ea&&Fc(this.ea);this.we=this.Eo=this.ea=this.Ef=this.hc=null;Vh.u.Ib.call(this)};c.Vk=function(a,b){this.Th(a,ai(this),b)};
c.Th=function(a,b,d){if(a.Ga&&(d||!this.Ga))throw Error("Component already rendered");if(0>b||b>ai(this))throw Error("Child component index out of bounds");this.Ef&&this.hc||(this.Ef={},this.hc=[]);if(a.getParent()==this){var e=a.ga();this.Ef[e]=a;Ha(this.hc,a)}else{e=this.Ef;var f=a.ga();if(null!==e&&f in e)throw Error('The object already contains the key "'+f+'"');e[f]=a}a.qh(this);Ka(this.hc,b,0,a);a.Ga&&this.Ga&&a.getParent()==this?(d=this.dd(),b=d.childNodes[b]||null,b!=a.K()&&d.insertBefore(a.K(),
b)):d?(this.ea||this.la(),b=N(this,b+1),a.ye(this.dd(),b?b.ea:null)):this.Ga&&!a.Ga&&a.ea&&a.ea.parentNode&&1==a.ea.parentNode.nodeType&&a.Yb()};c.dd=function(){return this.ea};function bi(a){null==a.Ii&&(a.Ii="rtl"==Ag(a.Ga?a.ea:a.ul.ie.body,"direction"));return a.Ii}c.nf=function(a){if(this.Ga)throw Error("Component already rendered");this.Ii=a};function ci(a){return!!a.hc&&0!=a.hc.length}function ai(a){return a.hc?a.hc.length:0}
function Zh(a,b){a.Ef&&b?(a=a.Ef,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function N(a,b){return a.hc?a.hc[b]||null:null}function $h(a,b,d){a.hc&&Ca(a.hc,b,d)}function di(a,b){return a.hc&&b?Ba(a.hc,b):-1}c.removeChild=function(a,b){if(a){var d=n(a)?a:a.ga();a=Zh(this,d);if(d&&a){var e=this.Ef;d in e&&delete e[d];Ha(this.hc,a);b&&(a.Ad(),a.ea&&Fc(a.ea));a.qh(null)}}if(!a)throw Error("Child is not in parent component");return a};
c.gt=function(a){for(var b=[];ci(this);)b.push(this.removeChild(N(this,0),a));return b};var ei;hb("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function fi(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function gi(a,b,d){pa(d)&&(d=d.join(" "));var e="aria-"+b;""===d||void 0==d?(ei||(ei={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=ei,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)};function hi(a,b,d,e,f,h){if(z&&!yb("525"))return!0;if(pb&&f)return ii(a);if(f&&!e)return!1;if(!nb){ka(b)&&(b=ji(b));var k=17==b||18==b||pb&&91==b;if((!d||pb)&&k||pb&&16==b&&(e||h))return!1}if((z||mb)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(y&&e&&b==a)return!1;switch(a){case 13:return nb?h||f?!1:!(d&&e):!0;case 27:return!(z||mb||nb)}return nb&&(e||f||h)?!1:ii(a)}
function ii(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(z||mb)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;default:return!1}}function ji(a){if(nb)a=ki(a);else if(pb&&z)switch(a){case 93:a=91}return a}
function ki(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function li(a,b){Sh.call(this);a&&mi(this,a,b)}r(li,Sh);c=li.prototype;c.ea=null;c.em=null;c.to=null;c.fm=null;c.Pc=-1;c.se=-1;c.fn=!1;
var ni={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},oi={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},pi=!z||yb("525"),qi=pb&&nb;c=li.prototype;
c.Ew=function(a){if(z||mb)if(17==this.Pc&&!a.ctrlKey||18==this.Pc&&!a.altKey||pb&&91==this.Pc&&!a.metaKey)this.se=this.Pc=-1;-1==this.Pc&&(a.ctrlKey&&17!=a.keyCode?this.Pc=17:a.altKey&&18!=a.keyCode?this.Pc=18:a.metaKey&&91!=a.keyCode&&(this.Pc=91));pi&&!hi(a.keyCode,this.Pc,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.se=ji(a.keyCode),qi&&(this.fn=a.altKey))};c.Fw=function(a){this.se=this.Pc=-1;this.fn=a.altKey};
c.handleEvent=function(a){var b=a.je,d=b.altKey;if(y&&"keypress"==a.type){var e=this.se;var f=13!=e&&27!=e?b.keyCode:0}else(z||mb)&&"keypress"==a.type?(e=this.se,f=0<=b.charCode&&63232>b.charCode&&ii(e)?b.charCode:0):lb&&!z?(e=this.se,f=ii(e)?b.keyCode:0):("keypress"==a.type?(qi&&(d=this.fn),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.se,f=b.charCode):(e=b.keyCode||this.se,f=b.charCode||0)):(e=b.keyCode||this.se,f=b.charCode||0),pb&&63==f&&224==e&&(e=191));var h=e=ji(e);e?63232<=
e&&e in ni?h=ni[e]:25==e&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in oi&&(h=oi[b.keyIdentifier]);nb&&pi&&"keypress"==a.type&&!hi(h,this.Pc,a.shiftKey,a.ctrlKey,d,a.metaKey)||(a=h==this.Pc,this.Pc=h,b=new ri(h,f,a,b),b.altKey=d,this.dispatchEvent(b))};c.K=function(){return this.ea};function mi(a,b,d){a.fm&&a.detach();a.ea=b;a.em=Ch(a.ea,"keypress",a,d);a.to=Ch(a.ea,"keydown",a.Ew,d,a);a.fm=Ch(a.ea,"keyup",a.Fw,d,a)}
c.detach=function(){this.em&&(Lh(this.em),Lh(this.to),Lh(this.fm),this.fm=this.to=this.em=null);this.ea=null;this.se=this.Pc=-1};c.Ib=function(){li.u.Ib.call(this);this.detach()};function ri(a,b,d,e){nh.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=d}r(ri,nh);function si(a){if(a.classList)return a.classList;a=a.className;return n(a)&&a.match(/\S+/g)||[]}function ti(a,b){return a.classList?a.classList.contains(b):Ga(si(a),b)}function ui(a,b){a.classList?a.classList.add(b):ti(a,b)||(a.className+=0<a.className.length?" "+b:b)}function vi(a,b){if(a.classList)Ca(b,function(b){ui(a,b)});else{var d={};Ca(si(a),function(a){d[a]=!0});Ca(b,function(a){d[a]=!0});a.className="";for(var e in d)a.className+=0<a.className.length?" "+e:e}}
function wi(a,b){a.classList?a.classList.remove(b):ti(a,b)&&(a.className=Da(si(a),function(a){return a!=b}).join(" "))}function xi(a,b){a.classList?Ca(b,function(b){wi(a,b)}):a.className=Da(si(a),function(a){return!Ga(b,a)}).join(" ")};function yi(a,b){if(!a)throw Error("Invalid class name "+a);if(!ra(b))throw Error("Invalid decorator function "+b);}var zi={};function Ai(a){this.vq=a}na(Ai);c=Ai.prototype;c.Al=function(){return this.vq};function Bi(a,b){a&&(a.tabIndex=b?0:-1)}c.la=function(a){return a.Ld().la("DIV",this.Dl(a).join(" "))};c.dd=function(a){return a};c.Qj=function(a){a=a.K();Ig(a,!0,nb);y&&(a.hideFocus=!0);var b=this.Al();b&&fi(a,b)};c.Sb=function(a){return a.K()};c.ic=function(){return"goog-container"};c.Dl=function(a){var b=this.ic(),d=[b,a.gh==Ci?b+"-horizontal":b+"-vertical"];a.isEnabled()||d.push(b+"-disabled");return d};function Di(){}var Ei;na(Di);var Fi={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};c=Di.prototype;c.Al=function(){};c.la=function(a){return a.Ld().la("DIV",this.Dl(a).join(" "),a.Jf())};c.dd=function(a){return a};c.tj=function(a,b,d){if(a=a.K?a.K():a){var e=[b];y&&!yb("7")&&(e=Gi(si(a),b),e.push(b));(d?vi:xi)(a,e)}};c.Qj=function(a){bi(a)&&this.nf(a.K(),!0);a.isEnabled()&&this.jg(a,a.$())};
function Hi(a,b,d){if(a=d||a.Al())d=b.getAttribute("role")||null,a!=d&&fi(b,a)}function Ii(a,b,d){var e=b.uq;null!=e&&a.qp(d,e);b.$()||gi(d,"hidden",!b.$());b.isEnabled()||Ji(d,1,!b.isEnabled());b.Cb&8&&Ji(d,8,b.bm());b.Cb&16&&Ji(d,16,!!(b.Ta&16));b.Cb&64&&Ji(d,64,b.ti())}c.qp=function(a,b){gi(a,"label",b)};c.pp=function(a,b){Ig(a,!b,!y&&!lb)};c.nf=function(a,b){this.tj(a,this.ic()+"-rtl",b)};c.Uf=function(a){var b;return a.Cb&32&&(b=a.Sb())?Kc(b)&&Lc(b):!1};
c.jg=function(a,b){var d;if(a.Cb&32&&(d=a.Sb())){if(!b&&a.Ta&32){try{d.blur()}catch(e){}a.Ta&32&&a.Hj(null)}(Kc(d)&&Lc(d))!=b&&(a=d,b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}};c.ta=function(a,b){Gg(a,b);a&&gi(a,"hidden",!b)};c.Xd=function(a,b,d){var e=a.K();if(e){var f=this.Cl(b);f&&this.tj(a,f,d);Ji(e,b,d)}};
function Ji(a,b,d){Ei||(Ei={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=Ei[b];var e=a.getAttribute("role")||null;e&&(e=Fi[e]||b,b="checked"==b||"selected"==b?e:b);b&&gi(a,b,d)}c.ze=function(a,b){var d=this.dd(a);d&&(Ec(d),b&&(n(b)?Hc(d,b):(a=function(a){if(a){var b=wc(d);d.appendChild(n(a)?b.createTextNode(a):a)}},pa(b)?Ca(b,a):!qa(b)||"nodeType"in b?a(b):Ca(Ja(b),a))))};c.Sb=function(a){return a.K()};c.ic=function(){return"goog-control"};
c.Dl=function(a){var b=this.ic(),d=[b],e=this.ic();e!=b&&d.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.Cl(f));b&=~f}d.push.apply(d,e);(a=a.ke)&&d.push.apply(d,a);y&&!yb("7")&&d.push.apply(d,Gi(d));return d};function Gi(a,b){var d=[];b&&(a=Ia(a,[b]));Ca([],function(e){!Fa(e,za(Ga,a))||b&&!Ga(e,b)||d.push(e.join("_"))});return d}
c.Cl=function(a){if(!this.Hq){var b=this.ic();b.replace(/\xa0|\s/g," ");this.Hq={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.Hq[a]};function Ki(a,b,d){Vh.call(this,d);if(!b){b=this.constructor;for(var e;b;){e=ta(b);if(e=zi[e])break;b=b.u?b.u.constructor:null}b=e?ra(e.Kf)?e.Kf():new e:null}this.Ca=b;this.Nc=void 0!==a?a:null;this.uq=null}r(Ki,Vh);c=Ki.prototype;c.Nc=null;c.Ta=0;c.Cb=39;c.mv=255;c.yk=0;c.Ua=!0;c.ke=null;c.Ij=!0;c.dn=!1;c.Px=null;c.Sb=function(){return this.Ca.Sb(this)};c.Hl=function(){return this.nc||(this.nc=new li)};
c.tj=function(a,b){b?a&&(this.ke?Ga(this.ke,a)||this.ke.push(a):this.ke=[a],this.Ca.tj(this,a,!0)):a&&this.ke&&Ha(this.ke,a)&&(0==this.ke.length&&(this.ke=null),this.Ca.tj(this,a,!1))};c.la=function(){var a=this.Ca.la(this);this.ea=a;Hi(this.Ca,a,this.Ll());this.dn||this.Ca.pp(a,!1);this.$()||this.Ca.ta(a,!1)};c.Ll=function(){return this.Px};c.qp=function(a){this.uq=a;var b=this.K();b&&this.Ca.qp(b,a)};c.dd=function(){return this.Ca.dd(this.K())};
c.Yb=function(){Ki.u.Yb.call(this);Ii(this.Ca,this,this.ea);this.Ca.Qj(this);if(this.Cb&-2&&(this.Ij&&Li(this,!0),this.Cb&32)){var a=this.Sb();if(a){var b=this.Hl();mi(b,a);Yh(this).Ba(b,"key",this.Nd).Ba(a,"focus",this.Ql).Ba(a,"blur",this.Hj)}}};
function Li(a,b){var d=a.Ei?lh:mh,e=Yh(a),f=a.K();b?(e.Ba(f,d.Mh,a.mi).Ba(f,[d.Nh,d.Lh],a.ni).Ba(f,"mouseover",a.ho).Ba(f,"mouseout",a.fo),a.Ei&&e.Ba(f,"gotpointercapture",a.vm),a.li!=ma&&e.Ba(f,"contextmenu",a.li),y&&(yb(9)||e.Ba(f,"dblclick",a.Or),a.Pj||(a.Pj=new Mi(a),ih(a,za(jh,a.Pj))))):(e.od(f,d.Mh,a.mi).od(f,[d.Nh,d.Lh],a.ni).od(f,"mouseover",a.ho).od(f,"mouseout",a.fo),a.Ei&&e.od(f,"gotpointercapture",a.vm),a.li!=ma&&e.od(f,"contextmenu",a.li),y&&(yb(9)||e.od(f,"dblclick",a.Or),jh(a.Pj),a.Pj=
null))}c.Ad=function(){Ki.u.Ad.call(this);this.nc&&this.nc.detach();this.$()&&this.isEnabled()&&this.Ca.jg(this,!1)};c.Ib=function(){Ki.u.Ib.call(this);this.nc&&(this.nc.C(),delete this.nc);delete this.Ca;this.Pj=this.ke=this.Nc=null};c.Jf=function(){return this.Nc};c.ze=function(a){this.Ca.ze(this.K(),a);this.Nc=a};
c.Vn=function(){var a=this.Jf();if(!a)return"";if(!n(a))if(pa(a))a=Ea(a,Mc).join("");else{if(Db&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Nc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Db||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return Ma(a)};c.nf=function(a){Ki.u.nf.call(this,a);var b=this.K();b&&this.Ca.nf(b,a)};c.pp=function(a){this.dn=a;var b=this.K();b&&this.Ca.pp(b,a)};c.$=function(){return this.Ua};
c.ta=function(a,b){return b||this.Ua!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.K())&&this.Ca.ta(b,a),this.isEnabled()&&this.Ca.jg(this,a),this.Ua=a,!0):!1};c.isEnabled=function(){return!(this.Ta&1)};c.tk=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Ni(this,1,!a)||(a||(this.setActive(!1),this.Tc(!1)),this.$()&&this.Ca.jg(this,a),this.Xd(1,!a,!0))};c.Tc=function(a){Ni(this,2,a)&&this.Xd(2,a)};c.setActive=function(a){Ni(this,4,a)&&this.Xd(4,a)};
c.bm=function(){return!!(this.Ta&8)};function Oi(a,b){Ni(a,16,b)&&a.Xd(16,b)}c.ti=function(){return!!(this.Ta&64)};function Pi(a,b){Ni(a,64,b)&&a.Xd(64,b)}c.getState=function(){return this.Ta};c.Xd=function(a,b,d){d||1!=a?this.Cb&a&&b!=!!(this.Ta&a)&&(this.Ca.Xd(this,a,b),this.Ta=b?this.Ta|a:this.Ta&~a):this.tk(!b)};c.jd=function(a,b){if(this.Ga&&this.Ta&a&&!b)throw Error("Component already rendered");!b&&this.Ta&a&&this.Xd(a,!1);this.Cb=b?this.Cb|a:this.Cb&~a};
function Qi(a,b){return!!(a.mv&b)&&!!(a.Cb&b)}function Ni(a,b,d){return!!(a.Cb&b)&&!!(a.Ta&b)!=d&&(!(a.yk&b)||a.dispatchEvent(Xh(b,d)))&&!a.af}c.ho=function(a){!Ri(a,this.K())&&this.dispatchEvent("enter")&&this.isEnabled()&&Qi(this,2)&&this.Tc(!0)};c.fo=function(a){!Ri(a,this.K())&&this.dispatchEvent("leave")&&(Qi(this,4)&&this.setActive(!1),Qi(this,2)&&this.Tc(!1))};c.vm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};c.li=ma;
function Ri(a,b){return!!a.relatedTarget&&Gc(b,a.relatedTarget)}c.mi=function(a){this.isEnabled()&&(Qi(this,2)&&this.Tc(!0),!qh(a)||z&&pb&&a.ctrlKey||(Qi(this,4)&&this.setActive(!0),this.Ca&&this.Ca.Uf(this)&&this.Sb().focus()));this.dn||!qh(a)||z&&pb&&a.ctrlKey||a.preventDefault()};c.ni=function(a){this.isEnabled()&&(Qi(this,2)&&this.Tc(!0),this.Ta&4&&Si(this,a)&&Qi(this,4)&&this.setActive(!1))};c.Or=function(a){this.isEnabled()&&Si(this,a)};
function Si(a,b){Qi(a,16)&&Oi(a,!(a.Ta&16));Qi(a,8)&&Ni(a,8,!0)&&a.Xd(8,!0);Qi(a,64)&&Pi(a,!a.ti());var d=new kh("action",a);b&&(d.altKey=b.altKey,d.ctrlKey=b.ctrlKey,d.metaKey=b.metaKey,d.shiftKey=b.shiftKey,d.Vo=b.Vo);return a.dispatchEvent(d)}c.Ql=function(){Qi(this,32)&&Ni(this,32,!0)&&this.Xd(32,!0)};c.Hj=function(){Qi(this,4)&&this.setActive(!1);Qi(this,32)&&Ni(this,32,!1)&&this.Xd(32,!1)};
c.Nd=function(a){return this.$()&&this.isEnabled()&&this.Qg(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};c.Qg=function(a){return 13==a.keyCode&&Si(this,a)};if(!ra(Ki))throw Error("Invalid component class "+Ki);if(!ra(Di))throw Error("Invalid renderer class "+Di);var Ti=ta(Ki);zi[Ti]=Di;yi("goog-control",function(){return new Ki(null)});
function Mi(a){fh.call(this);this.jl=a;this.dl=!1;this.oi=new Ph(this);ih(this,za(jh,this.oi));a=this.jl.ea;this.oi.Ba(a,"mousedown",this.Gw).Ba(a,"mouseup",this.Hw).Ba(a,"click",this.zw)}r(Mi,fh);var Ui=!y||9<=Number(zb);Mi.prototype.Gw=function(){this.dl=!1};Mi.prototype.Hw=function(){this.dl=!0};
function Vi(a,b){if(!Ui)return a.button=0,a.type=b,a;var d=document.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d}Mi.prototype.zw=function(a){if(this.dl)this.dl=!1;else{var b=a.je,d=b.button,e=b.type,f=Vi(b,"mousedown");this.jl.mi(new nh(f,a.currentTarget));f=Vi(b,"mouseup");this.jl.ni(new nh(f,a.currentTarget));Ui||(b.button=d,b.type=e)}};
Mi.prototype.Ib=function(){this.jl=null;Mi.u.Ib.call(this)};function Wi(a,b,d){Vh.call(this,d);this.Ca=b||Ai.Kf();this.gh=a||Xi}r(Wi,Vh);var Ci="horizontal",Xi="vertical";c=Wi.prototype;c.uo=null;c.nc=null;c.Ca=null;c.gh=null;c.Ua=!0;c.Og=!0;c.Rn=!0;c.ib=-1;c.Mb=null;c.zi=!1;c.iv=!1;c.Ox=!0;c.Ue=null;c.Sb=function(){return this.uo||this.Ca.Sb(this)};c.Hl=function(){return this.nc||(this.nc=new li(this.Sb()))};c.la=function(){this.ea=this.Ca.la(this)};c.dd=function(){return this.Ca.dd(this.K())};
c.Yb=function(){Wi.u.Yb.call(this);$h(this,function(a){a.Ga&&Yi(this,a)},this);var a=this.K();this.Ca.Qj(this);this.ta(this.Ua,!0);var b=this.Ei?lh:mh;Yh(this).Ba(this,"enter",this.co).Ba(this,"highlight",this.Dw).Ba(this,"unhighlight",this.Lw).Ba(this,"open",this.Iw).Ba(this,"close",this.Aw).Ba(a,b.Mh,this.mi).Ba(wc(a),[b.Nh,b.Lh],this.Bw).Ba(a,[b.Mh,b.Nh,b.Lh,"mouseover","mouseout","contextmenu"],this.yw);this.Ei&&Yh(this).Ba(a,"gotpointercapture",this.vm);this.Uf()&&Zi(this,!0)};
c.vm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Zi(a,b){var d=Yh(a),e=a.Sb();b?d.Ba(e,"focus",a.Ql).Ba(e,"blur",a.Hj).Ba(a.Hl(),"key",a.Nd):d.od(e,"focus",a.Ql).od(e,"blur",a.Hj).od(a.Hl(),"key",a.Nd)}c.Ad=function(){this.Ki(-1);this.Mb&&Pi(this.Mb,!1);this.zi=!1;Wi.u.Ad.call(this)};c.Ib=function(){Wi.u.Ib.call(this);this.nc&&(this.nc.C(),this.nc=null);this.Ca=this.Mb=this.Ue=this.uo=null};c.co=function(){return!0};
c.Dw=function(a){var b=di(this,a.target);if(-1<b&&b!=this.ib){var d=N(this,this.ib);d&&d.Tc(!1);this.ib=b;d=N(this,this.ib);this.zi&&d.setActive(!0);this.Ox&&this.Mb&&d!=this.Mb&&(d.Cb&64?Pi(d,!0):Pi(this.Mb,!1))}b=this.K();null!=a.target.K()&&gi(b,"activedescendant",a.target.K().id)};c.Lw=function(a){a.target==N(this,this.ib)&&(this.ib=-1);this.K().removeAttribute("aria-activedescendant")};c.Iw=function(a){(a=a.target)&&a!=this.Mb&&a.getParent()==this&&(this.Mb&&Pi(this.Mb,!1),this.Mb=a)};
c.Aw=function(a){a.target==this.Mb&&(this.Mb=null);var b=this.K(),d=a.target.K();b&&a.target.Ta&2&&d&&(a="",d&&(a=d.id),gi(b,"activedescendant",a))};c.mi=function(a){this.Og&&(this.zi=!0);var b=this.Sb();b&&Kc(b)&&Lc(b)?b.focus():a.preventDefault()};c.Bw=function(){this.zi=!1};
c.yw=function(a){var b=this.Ei?lh:mh;a:{var d=a.target;if(this.Ue)for(var e=this.K();d&&d!==e;){var f=d.id;if(f in this.Ue){d=this.Ue[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case b.Mh:d.mi(a);break;case b.Nh:case b.Lh:d.ni(a);break;case "mouseover":d.ho(a);break;case "mouseout":d.fo(a);break;case "contextmenu":d.li(a)}};c.Ql=function(){};c.Hj=function(){this.Ki(-1);this.zi=!1;this.Mb&&Pi(this.Mb,!1)};
c.Nd=function(a){return this.isEnabled()&&this.$()&&(0!=ai(this)||this.uo)&&this.Qg(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
c.Qg=function(a){var b=N(this,this.ib);if(b&&"function"==typeof b.Nd&&b.Nd(a)||this.Mb&&this.Mb!=b&&"function"==typeof this.Mb.Nd&&this.Mb.Nd(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Uf())this.Sb().blur();else return!1;break;case 36:$i(this);break;case 35:aj(this);break;case 38:if(this.gh==Xi)bj(this);else return!1;break;case 37:if(this.gh==Ci)bi(this)?cj(this):bj(this);else return!1;break;case 40:if(this.gh==Xi)cj(this);else return!1;break;
case 39:if(this.gh==Ci)bi(this)?bj(this):cj(this);else return!1;break;default:return!1}return!0};function Yi(a,b){var d=b.K();d=d.id||(d.id=b.ga());a.Ue||(a.Ue={});a.Ue[d]=b}c.Vk=function(a,b){Wi.u.Vk.call(this,a,b)};
c.Th=function(a,b,d){a.yk|=2;a.yk|=64;!this.Uf()&&this.iv||a.jd(32,!1);a.Ga&&0!=a.Ij&&Li(a,!1);a.Ij=!1;var e=a.getParent()==this?di(this,a):-1;Wi.u.Th.call(this,a,b,d);a.Ga&&this.Ga&&Yi(this,a);a=e;-1==a&&(a=ai(this));a==this.ib?this.ib=Math.min(ai(this)-1,b):a>this.ib&&b<=this.ib?this.ib++:a<this.ib&&b>this.ib&&this.ib--};
c.removeChild=function(a,b){if(a=n(a)?Zh(this,a):a){var d=di(this,a);-1!=d&&(d==this.ib?(a.Tc(!1),this.ib=-1):d<this.ib&&this.ib--);var e=a.K();e&&e.id&&this.Ue&&(d=this.Ue,e=e.id,e in d&&delete d[e])}b=a=Wi.u.removeChild.call(this,a,b);b.Ga&&1!=b.Ij&&Li(b,!0);b.Ij=!0;return a};c.setOrientation=function(a){if(this.K())throw Error("Component already rendered");this.gh=a};c.$=function(){return this.Ua};
c.ta=function(a,b){if(b||this.Ua!=a&&this.dispatchEvent(a?"show":"hide")){this.Ua=a;var d=this.K();d&&(Gg(d,a),this.Uf()&&Bi(this.Sb(),this.Og&&this.Ua),b||this.dispatchEvent(this.Ua?"aftershow":"afterhide"));return!0}return!1};c.isEnabled=function(){return this.Og};
c.tk=function(a){this.Og!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Og=!0,$h(this,function(a){a.Jt?delete a.Jt:a.tk(!0)})):($h(this,function(a){a.isEnabled()?a.tk(!1):a.Jt=!0}),this.zi=this.Og=!1),this.Uf()&&Bi(this.Sb(),a&&this.Ua))};c.Uf=function(){return this.Rn};c.jg=function(a){a!=this.Rn&&this.Ga&&Zi(this,a);this.Rn=a;this.Og&&this.Ua&&Bi(this.Sb(),a)};c.Ki=function(a){(a=N(this,a))?a.Tc(!0):-1<this.ib&&N(this,this.ib).Tc(!1)};c.Tc=function(a){this.Ki(di(this,a))};
function $i(a){dj(a,function(a,d){return(a+1)%d},ai(a)-1)}function aj(a){dj(a,function(a,d){a--;return 0>a?d-1:a},0)}function cj(a){dj(a,function(a,d){return(a+1)%d},a.ib)}function bj(a){dj(a,function(a,d){a--;return 0>a?d-1:a},a.ib)}function dj(a,b,d){d=0>d?di(a,a.Mb):d;var e=ai(a);d=b.call(a,d,e);for(var f=0;f<=e;){var h=N(a,d);if(h&&a.Cq(h)){a.Ki(d);break}f++;d=b.call(a,d,e)}}c.Cq=function(a){return a.$()&&a.isEnabled()&&!!(a.Cb&2)};function ej(){}r(ej,Di);na(ej);ej.prototype.ic=function(){return"goog-menuheader"};function fj(a,b,d){Ki.call(this,a,d||ej.Kf(),b);this.jd(1,!1);this.jd(2,!1);this.jd(4,!1);this.jd(32,!1);this.Ta=1}r(fj,Ki);yi("goog-menuheader",function(){return new fj(null)});function hj(){this.Iq=[]}r(hj,Di);na(hj);function ij(a,b){var d=a.Iq[b];if(!d){switch(b){case 0:d=a.ic()+"-highlight";break;case 1:d=a.ic()+"-checkbox";break;case 2:d=a.ic()+"-content"}a.Iq[b]=d}return d}c=hj.prototype;c.Al=function(){return"menuitem"};c.la=function(a){var b=a.Ld().la("DIV",this.Dl(a).join(" "),jj(this,a.Jf(),a.Ld()));kj(this,a,b,!!(a.Cb&8)||!!(a.Cb&16));return b};c.dd=function(a){return a&&a.firstChild};
c.ze=function(a,b){var d=this.dd(a),e=lj(this,a)?d.firstChild:null;hj.u.ze.call(this,a,b);e&&!lj(this,a)&&d.insertBefore(e,d.firstChild||null)};function jj(a,b,d){a=ij(a,2);return d.la("DIV",a,b)}c.qt=function(a,b,d){a&&b&&kj(this,a,b,d)};c.sp=function(a,b,d){a&&b&&kj(this,a,b,d)};function lj(a,b){return(b=a.dd(b))?(b=b.firstChild,a=ij(a,1),!!b&&sa(b)&&1==b.nodeType&&ti(b,a)):!1}
function kj(a,b,d,e){Hi(a,d,b.Ll());Ii(a,b,d);e!=lj(a,d)&&(e?ui(d,"goog-option"):wi(d,"goog-option"),d=a.dd(d),e?(a=ij(a,1),d.insertBefore(b.Ld().la("DIV",a),d.firstChild||null)):d.removeChild(d.firstChild))}c.Cl=function(a){switch(a){case 2:return ij(this,0);case 16:case 8:return"goog-option-selected";default:return hj.u.Cl.call(this,a)}};c.ic=function(){return"goog-menuitem"};function mj(a,b,d,e){Ki.call(this,a,e||hj.Kf(),d);this.setValue(b)}r(mj,Ki);c=mj.prototype;c.getValue=function(){var a=this.Eo;return null!=a?a:this.Vn()};c.setValue=function(a){this.Eo=a};c.jd=function(a,b){mj.u.jd.call(this,a,b);switch(a){case 8:this.Ta&16&&!b&&Oi(this,!1);(a=this.K())&&this.Ca.qt(this,a,b);break;case 16:(a=this.K())&&this.Ca.sp(this,a,b)}};c.qt=function(a){this.jd(8,a)};c.sp=function(a){this.jd(16,a)};
c.Vn=function(){var a=this.Jf();return pa(a)?(a=Ea(a,function(a){return sa(a)&&1==a.nodeType&&(ti(a,"goog-menuitem-accel")||ti(a,"goog-menuitem-mnemonic-separator"))?"":Mc(a)}).join(""),Ma(a)):mj.u.Vn.call(this)};c.ni=function(a){var b=this.getParent();if(b){var d=b.Ts;b.Ts=null;if(d&&ka(a.clientX)&&pc(d,new A(a.clientX,a.clientY)))return}mj.u.ni.call(this,a)};c.Qg=function(a){return a.keyCode==this.ys&&Si(this,a)?!0:mj.u.Qg.call(this,a)};c.ww=function(){return this.ys};yi("goog-menuitem",function(){return new mj(null)});
mj.prototype.Ll=function(){return this.Cb&16?"menuitemcheckbox":this.Cb&8?"menuitemradio":mj.u.Ll.call(this)};mj.prototype.getParent=function(){return Ki.prototype.getParent.call(this)};mj.prototype.Kl=function(){return Ki.prototype.Kl.call(this)};function nj(){}r(nj,Di);na(nj);nj.prototype.la=function(a){return a.Ld().la("DIV",this.ic())};nj.prototype.ze=function(){};nj.prototype.ic=function(){return"goog-menuseparator"};function oj(a,b){Ki.call(this,null,a||nj.Kf(),b);this.jd(1,!1);this.jd(2,!1);this.jd(4,!1);this.jd(32,!1);this.Ta=1}r(oj,Ki);oj.prototype.Yb=function(){oj.u.Yb.call(this);var a=this.K();fi(a,"separator")};yi("goog-menuseparator",function(){return new oj});function pj(a){this.vq=a||"menu"}r(pj,Ai);na(pj);pj.prototype.ic=function(){return"goog-menu"};pj.prototype.Qj=function(a){pj.u.Qj.call(this,a);a=a.K();gi(a,"haspopup","true")};yi("goog-menuseparator",function(){return new oj});function qj(a,b){Wi.call(this,Xi,b||pj.Kf(),a);this.jg(!1)}r(qj,Wi);c=qj.prototype;c.Xk=!0;c.jv=!1;c.ic=function(){return this.Ca.ic()};c.removeItem=function(a){(a=this.removeChild(a,!0))&&a.C()};c.setPosition=function(a,b){var d=this.$();d||Gg(this.K(),!0);var e=this.K(),f=a;a=Cg(e);f instanceof A&&(b=f.y,f=f.x);var h=e.offsetLeft+(f-a.x);h instanceof A?(f=h.x,b=h.y):(f=h,b=e.offsetTop+(Number(b)-a.y));e.style.left=Dg(f);e.style.top=Dg(b);d||Gg(this.K(),!1)};
c.Kr=function(){return this.$()?Cg(this.K()):null};c.ta=function(a,b,d){(b=qj.u.ta.call(this,a,b))&&a&&this.Ga&&this.Xk&&this.Sb().focus();this.Ts=a&&d&&ka(d.clientX)?new A(d.clientX,d.clientY):null;return b};c.co=function(a){this.Xk&&this.Sb().focus();return qj.u.co.call(this,a)};c.Cq=function(a){return(this.jv||a.isEnabled())&&a.$()&&!!(a.Cb&2)};c.Qg=function(a){var b=qj.u.Qg.call(this,a);b||$h(this,function(d){!b&&d.ww&&d.ys==a.keyCode&&(this.isEnabled()&&this.Tc(d),b=d.Nd(a))},this);return b};
c.Ki=function(a){qj.u.Ki.call(this,a);if(a=N(this,a)){var b=a.K();a=this.K()||Bc(document);var d=a||Bc(document);var e=Cg(b),f=Cg(d);if(!y||9<=Number(zb)){k=zg(d,"borderLeftWidth");var h=zg(d,"borderRightWidth");l=zg(d,"borderTopWidth");m=zg(d,"borderBottomWidth");h=new Kf(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=Kg(d,"borderLeft");h=Kg(d,"borderRight");var l=Kg(d,"borderTop"),m=Kg(d,"borderBottom");h=new Kf(l,h,m,k)}d==Bc(document)?(k=e.x-d.scrollLeft,e=e.y-d.scrollTop,
!y||10<=Number(zb)||(k+=h.left,e+=h.top)):(k=e.x-f.x-h.left,e=e.y-f.y-h.top);b=Fg(b);f=d.clientHeight-b.height;h=d.scrollLeft;l=d.scrollTop;h+=Math.min(k,Math.max(k-(d.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));d=new A(h,l);a.scrollLeft=d.x;a.scrollTop=d.y}};v.ha={};v.ha.kl=null;v.ha.Dr=null;v.ha.show=function(a,b,d){v.J.show(v.ha,d,null);if(b.length){var e=v.ha.um(b,d);Ch(e,"action",v.ha.Na);v.ha.Rc(e,a,d);setTimeout(function(){e.K().focus()},1);v.ha.kl=null}else v.ha.Na()};v.ha.um=function(a,b){var d=new qj;d.nf(b);for(var e=0,f;f=a[e];e++){var h=new mj(f.text);h.nf(b);d.Vk(h,!0);h.tk(f.enabled);f.enabled&&(Ch(h,"action",f.Xa),h.li=function(){this.dispatchEvent("action")})}return d};
v.ha.Rc=function(a,b,d){var e=v.j.bo();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};v.ha.pj(a);var f=v.j.Pi.Ej(a);d&&v.j.Pi.tq(e,b,f);v.J.Xo(e,b,f,d);a.K().focus()};v.ha.pj=function(a){a.na(v.J.ka);var b=a.K();v.j.ab(b,"blocklyContextMenu");v.U(b,"contextmenu",null,v.j.ux);a.Xk=!0;a.jg(!0)};v.ha.Na=function(){v.J.Mj(v.ha);v.ha.kl=null;v.ha.Dr&&v.Pa(v.ha.Dr)};
v.ha.bl=function(a,b){return function(){v.m.disable();try{var d=v.w.$h(b,a.s),e=a.wa();e.x=a.v?e.x-v.Jc:e.x+v.Jc;e.y+=2*v.Jc;d.moveBy(e.x,e.y)}finally{v.m.enable()}v.m.isEnabled()&&!d.Za&&v.m.Z(new v.m.Pk(d));d.select()}};v.ha.pv=function(a){var b=Pc(a,!1).length,d=Qc(a);d&&(b-=Pc(d,!1).length);return{text:1==b?v.g.DELETE_BLOCK:v.g.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,Xa:function(){v.m.R(!0);a.C(!0,!0);v.m.R(!1)}}};
v.ha.rv=function(a){return{enabled:!("function"==typeof a.kc?!a.kc():!a.kc),text:v.g.HELP,Xa:function(){var b="function"==typeof a.kc?a.kc():a.kc;b&&window.open(b)}}};v.ha.qv=function(a){var b=Sd(a.s)?Rd(a.s,v.j.Tn(a,!0)):!0;return{text:v.g.DUPLICATE_BLOCK,enabled:b,Xa:function(){v.Ar(a)}}};v.ha.ov=function(a){var b={enabled:!y};a.Ya?(b.text=v.g.REMOVE_COMMENT,b.Xa=function(){a.nh(null)}):(b.text=v.g.ADD_COMMENT,b.Xa=function(){a.nh("")});return b};
v.ha.Fv=function(a){return{text:v.g.$y,enabled:!0,Xa:function(){v.m.R(!0);a.C(!0,!0);v.m.R(!1)}}};v.ha.Gv=function(a){return{text:v.g.Ky,enabled:!0,Xa:function(){v.Ar(a)}}};
v.ha.yz=function(a,b){var d={enabled:!y};d.text=v.g.Ay;d.Xa=function(){var d=new Ue(a,v.g.bz,100,100);if(!a.po)for(var f=a.B;f;){if(-1!=(" "+(f.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.po=f;break}f=f.parentNode}f=a.po.getBoundingClientRect();f=new A(b.clientX-f.left,b.clientY-f.top);var h=v.j.Gl(a.Oa);f=rc(f,h).scale(1/a.scale);d.moveBy(f.x,f.y);a.T&&(d.Bc(),d.na(!1),d.select())};return d};var rj=/#(.)(.)(.)/;function sj(a){var b=a[0],d=a[1];a=a[2];b=Number(b);d=Number(d);a=Number(a);if(b!=(b&255)||d!=(d&255)||a!=(a&255))throw Error('"('+b+","+d+","+a+'") is not a valid RGB color');d=b<<16|d<<8|a;return 16>b?"#"+(16777216|d).toString(16).substr(1):"#"+d.toString(16)}var tj=/^#(?:[0-9a-f]{3}){1,2}$/i;function uj(a,b,d){d=Math.min(Math.max(d,0),1);return[Math.round(b[0]+d*(a[0]-b[0])),Math.round(b[1]+d*(a[1]-b[1])),Math.round(b[2]+d*(a[2]-b[2]))]};function I(a,b,d){this.B=v.j.D("g",{},null);this.B.tf="";this.Bk=v.j.D("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.B);this.Dd=v.j.D("path",{"class":"blocklyPath"},this.B);this.ng=v.j.D("path",{"class":"blocklyPathLight"},this.B);this.Dd.Vc=this;this.T=!1;this.Je=v.j.Tf()&&!!a.xb;v.F.Eg(this.Dd);I.u.constructor.call(this,a,b,d);this.B.dataset&&(this.B.dataset.id=this.id)}r(I,Pd);c=I.prototype;c.height=0;c.width=0;c.Wc=null;
c.Bc=function(){if(!this.s.T)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.V[a];a++)b.S();b=Ne(this);for(a=0;a<b.length;a++)ge(b[a]);this.wf();Ve(this);this.s.options.readOnly||this.Nn||v.U(this.ma(),"mousedown",this,this.$f);this.Nn=!0;this.ma().parentNode||this.s.Oa.appendChild(this.ma())};
c.select=function(){if(this.Za&&this.getParent())this.getParent().select();else if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.m.disable();try{v.selected.Ch()}finally{v.m.enable()}}a=new gd(null,"selected",a,this.id);a.Hc=this.s.id;v.m.Z(a);v.selected=this;this.Uh()}};c.Ch=function(){if(v.selected==this){var a=new gd(null,"selected",this.id,null);a.Hc=this.s.id;v.m.Z(a);v.selected=null;this.lh()}};c.hd=null;c.Ya=null;c.ec=null;
function Ne(a){var b=[];a.hd&&b.push(a.hd);a.Ya&&b.push(a.Ya);a.ec&&b.push(a.ec);return b}c.qh=function(a){var b=this.ve;if(a!=b){Cd();I.u.qh.call(this,a);Hd();var d=this.ma();if(!this.s.ro&&d){var e=this.wa();a?(a.ma().appendChild(d),a=this.wa(),Ge(this,a.x-e.x,a.y-e.y)):b&&(this.s.Oa.appendChild(d),this.translate(e.x,e.y))}}};
c.wa=function(){var a=0,b=0,d=this.Je?this.s.xb.Rb():null,e=this.ma();if(e){do{var f=v.j.yc(e);a+=f.x;b+=f.y;this.Je&&this.s.xb.zd.firstChild==e&&(f=this.s.xb.Ml(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.s.Oa&&e!=d)}return new A(a,b)};c.moveBy=function(a,b){if(this.ve)throw Error("Block has parent.");var d=v.m.isEnabled();if(d)var e=new v.m.Ti(this);var f=this.wa();this.translate(f.x+a,f.y+b);Ge(this,a,b);d&&(e.lf(),v.m.Z(e));Ld(this.s)};
c.translate=function(a,b){this.ma().setAttribute("transform","translate("+a+","+b+")")};c.nm=function(){if(this.Je){var a=this.wa();v.j.removeAttribute(this.ma(),"transform");this.s.xb.sf(a.x,a.y);Xe(this.s.xb,this.ma())}};c.Bs=function(a){this.Je&&(this.translate(a.x,a.y),this.s.xb.ij(this.s.Oa))};c.mm=function(a){this.Je?this.s.xb.sf(a.x,a.y):(this.B.tf="translate("+a.x+","+a.y+")",this.B.setAttribute("transform",this.B.tf+this.B.uh))};
function og(a){if(a.s&&!a.s.ob()&&!a.getParent()&&!a.rb){var b=a.s.Bd;if(b&&b.Zx){var d=b.Fp,e=d/2,f=a.wa();b=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;b=Math.round(b);d=Math.round(d);0==b&&0==d||a.moveBy(b,d)}}}c.Un=function(){var a=this.wa(),b=this.P?F:0,d=this.Kb();if(this.v){var e=new A(a.x-(d.width-b),a.y);a=new A(a.x+b,a.y+d.height)}else e=new A(a.x-b,a.y),a=new A(a.x+d.width-b,a.y+d.height);return{nd:e,Id:a}};
c.hg=function(a){if(this.fe!=a){for(var b=[],d=0,e;e=this.V[d];d++)b.push.apply(b,e.ta(!a));if(a){e=Ne(this);for(d=0;d<e.length;d++)e[d].ta(!1);d=this.toString(v.Pt);K(M(this,"_TEMP_COLLAPSED_INPUT"),d).S();e=Pc(this,!0);if(d=Qc(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.ec){this.Yd(v.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");break}}else this.Bb("_TEMP_COLLAPSED_INPUT"),this.ec&&(this.ec.sb("","TEMP_COLLAPSED_WARNING_"),Object.keys(this.ec.qa).length||
this.Yd(null));I.u.hg.call(this,a);b.length||(b[0]=this);if(this.T)for(d=0;f=b[d];d++)f.na()}};function vj(a,b,d){for(var e=[],f=0,h;h=a.V[f];f++){for(var k=0,l;l=h.Ma[k];k++)l instanceof wj&&e.push(l);h.connection&&(h=D(h.connection))&&e.push(h)}b=e.indexOf(b);-1==b&&(b=d?-1:e.length);(e=e[d?b+1:b-1])?e instanceof Lg?e.Ee():vj(e,null,d):(e=a.getParent())&&vj(e,a,d)}
c.$f=function(a){var b=this.s&&this.s.ne(a);if(b){if(b.Sg)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");qf(b,this);b.Sd=a}};
c.Li=function(a){if(!this.s.options.readOnly&&this.contextMenu){var b=this,d=[];if(this.mc()&&this.Rd()&&!b.rb){d.push(v.ha.qv(b));Ad(this)&&!this.fe&&this.s.options.kj&&d.push(v.ha.ov(b));if(!this.fe)for(var e=1;e<this.V.length;e++)if(this.V[e-1].type!=v.Wa&&this.V[e].type!=v.Wa){e={enabled:!0};var f=yg(this);e.text=f?v.g.EXTERNAL_INPUTS:v.g.INLINE_INPUTS;e.Xa=function(){b.kg(!f)};d.push(e);break}this.s.options.collapse&&(this.fe?(e={enabled:!0},e.text=v.g.EXPAND_BLOCK,e.Xa=function(){b.hg(!1)},
d.push(e)):(e={enabled:!0},e.text=v.g.COLLAPSE_BLOCK,e.Xa=function(){b.hg(!0)},d.push(e)));this.s.options.disable&&(e={text:this.disabled?v.g.ENABLE_BLOCK:v.g.DISABLE_BLOCK,enabled:!ah(this),Xa:function(){var a=v.m.Rb();a||v.m.R(!0);b.Sc(!b.disabled);a||v.m.R(!1)}},d.push(e));d.push(v.ha.pv(b))}d.push(v.ha.rv(b));this.Ye&&this.Ye(d);v.ha.show(a,d,this.v);v.ha.kl=this}};
function Ge(a,b,d){if(a.T){for(var e=a.me(!1),f=0;f<e.length;f++)e[f].moveBy(b,d);e=Ne(a);for(f=0;f<e.length;f++)he(e[f]);for(f=0;f<a.Te.length;f++)Ge(a.Te[f],b,d)}}c.ig=function(a){if(a){var b=this.ma();b.tf="";b.uh="";v.sj=v.sj.concat(this.me(!0));v.j.ab(this.B,"blocklyDragging")}else v.sj=[],v.j.Ab(this.B,"blocklyDragging");for(b=0;b<this.Te.length;b++)this.Te[b].ig(a)};c.ph=function(a){I.u.ph.call(this,a);Ve(this)};c.up=function(a){I.u.up.call(this,a);a=Ne(this);for(var b=0;b<a.length;b++)a[b].xf()};
c.yp=function(a){I.u.yp.call(this,a);this.wf()};c.ma=function(){return this.B};
c.C=function(a,b){if(this.s){v.F.Na();Cd();var d=this.s;if(v.selected==this){this.Ch();var e=this.s;e.Hb&&e.Hb.cancel()}v.ha.kl==this&&v.ha.Na();b&&this.T&&(xd(this,a),v.Ka.ew(this));this.T=!1;if(this.Wc){for(var f in this.Wc)clearTimeout(this.Wc[f]);this.Wc=null}v.m.disable();try{var h=Ne(this);for(b=0;b<h.length;b++)h[b].C()}finally{v.m.enable()}I.u.C.call(this,a);v.j.removeNode(this.B);Ld(d);this.Bk=this.ng=this.Dd=this.B=null;Hd()}};
c.wf=function(){if(!this.disabled){var a=this.ge;var b=a;if(!tj.test(b))throw Error("'"+b+"' is not a valid hex color");4==b.length&&(b=b.replace(rj,"#$1$1$2$2$3$3"));b=b.toLowerCase();b=parseInt(b.substr(1),16);var d=[b>>16,b>>8&255,b&255];this.Za?(d=uj([255,255,255],d,.6),a=sj(d),this.ng.style.display="none",this.Bk.setAttribute("fill",a)):(this.ng.style.display="",b=sj(uj([255,255,255],d,.3)),d=sj(uj([0,0,0],d,.2)),this.ng.setAttribute("stroke",b),this.Bk.setAttribute("fill",d));this.Dd.setAttribute("fill",
a);a=Ne(this);for(b=0;b<a.length;b++)a[b].wf();for(a=0;b=this.V[a];a++){d=0;for(var e;e=b.Ma[d];d++)e.xj()}}};function Kd(a){a.disabled||ah(a)?v.j.ab(a.B,"blocklyDisabled")&&a.Dd.setAttribute("fill","url(#"+a.s.options.Lg+")"):v.j.Ab(a.B,"blocklyDisabled")&&a.wf();a=a.If(!1);for(var b=0,d;d=a[b];b++)Kd(d)}c.Aj=function(){return this.Ya?this.Ya.yb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};
c.nh=function(a){var b=!1;"string"==typeof a?(this.Ya||(this.Ya=new ie(this),b=!0),this.Ya.sb(a)):this.Ya&&(this.Ya.C(),b=!0);b&&this.T&&(this.na(),this.mb())};
c.Yd=function(a,b){this.Wc||(this.Wc=Object.create(null));var d=b||"";if(d)this.Wc[d]&&(clearTimeout(this.Wc[d]),delete this.Wc[d]);else for(var e in this.Wc)clearTimeout(this.Wc[e]),delete this.Wc[e];if(this.s.ob()){var f=this;this.Wc[d]=setTimeout(function(){f.s&&(delete f.Wc[d],f.Yd(a,d))},100)}else{this.rb&&(a=null);b=Zg(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=Zg(b);e&&e.Yd(v.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");b=!1;"string"==typeof a?(this.ec||(this.ec=new je(this),b=
!0),this.ec.sb(a,d)):this.ec&&!d?(this.ec.C(),b=!0):this.ec&&(b=this.ec.yb(),this.ec.sb("",d),(e=this.ec.yb())||this.ec.C(),b=b!=e);b&&this.T&&(this.na(),this.mb())}};c.vk=function(a){this.hd&&this.hd!==a&&this.hd.C();a&&(a.Y=this,this.hd=a,ge(a))};c.Sc=function(a){this.disabled!=a&&(I.u.Sc.call(this,a),this.T&&Kd(this))};c.Tc=function(a){this.T&&(a?(this.Dd.setAttribute("filter","url(#"+this.s.options.Cr+")"),this.ng.style.display="none"):(v.j.removeAttribute(this.Dd,"filter"),delete this.ng.style.display))};
c.Uh=function(){v.j.ab(this.B,"blocklySelected")};c.lh=function(){v.j.Ab(this.B,"blocklySelected")};c.rk=function(a){a?v.j.ab(this.B,"blocklyDraggingDelete"):v.j.Ab(this.B,"blocklyDraggingDelete")};c.pb=function(a){I.u.pb.call(this,a);this.T&&this.wf()};function Se(a){do{var b=a.ma();b.parentNode.appendChild(b);a=a.getParent()}while(a)}c.Ce=function(a,b){I.u.Ce.call(this,a,b);this.T&&(this.na(),this.mb())};c.Ae=function(a,b){I.u.Ae.call(this,a,b);this.T&&(this.na(),this.mb())};
c.Be=function(a,b){I.u.Be.call(this,a,b);this.T&&(this.na(),this.mb())};c.kg=function(a){I.u.kg.call(this,a);this.T&&(this.na(),this.mb())};c.Bb=function(a,b){I.u.Bb.call(this,a,b);this.T&&(this.na(),this.mb())};c.Fo=function(a,b){I.u.Fo.call(this,a,b);this.T&&(this.na(),this.mb())};c.Pe=function(a,b){a=I.u.Pe.call(this,a,b);this.T&&(this.na(),this.mb());return a};
c.me=function(a){var b=[];if(a||this.T)if(this.P&&b.push(this.P),this.X&&b.push(this.X),this.M&&b.push(this.M),a||!this.fe){a=0;for(var d;d=this.V[a];a++)d.connection&&b.push(d.connection)}return b};c.Yj=function(a){return new Ae(this,a)};c.mb=function(){if(this.s&&!this.s.ob()){var a=Ce(this);if(!a.rb)for(var b=this.me(!1),d=0,e;e=b[d];d++){e.isConnected()&&qe(e)&&D(e).mb();for(var f=e.Es(v.Jc),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||Ce(k.A)!=a&&(qe(e)?ne(k,e):ne(e,k))}}};
function Te(a){var b=v.m.Rb();setTimeout(function(){v.m.R(b);og(a);v.m.R(!1)},v.Ok/2);setTimeout(function(){v.m.R(b);a.mb();v.m.R(!1)},v.Ok)};function xj(){this.He=[];this.Od=[];this.Yr=[];this.Vr=[]}var F=8,yj=7.5*(1-Math.SQRT1_2)+.5,zj=8.5*(1-Math.SQRT1_2)-.5,He="v 5 c 0,10 -"+F+",-8 -"+F+",7.5 s "+F+",-2.5 "+F+",7.5",Aj="v 6.5 m -"+.97*F+",3 q -"+.05*F+",10 "+.3*F+",9.5 m "+.67*F+",-1.9 v 1.4",Bj="m "+yj+","+yj,Cj="a 8,8 0 0,0 "+(-zj-.5)+","+(8-zj),Dj="a 8.5,8.5 0 0,0 "+(8-zj)+","+(zj+.5);
I.prototype.Kb=function(){var a=this.height,b=this.width,d=Qc(this);d?(d=d.Kb(),a+=d.height-4,b=Math.max(b,d.width)):this.M||this.P||(a+=2);return{height:a,width:b}};
I.prototype.na=function(a){Cd();this.T=!0;var b=10;this.v&&(b=-b);for(var d=Ne(this),e=0;e<d.length;e++){var f=d[e];if(f.Nq&&f.Y.isCollapsed()||f.Y.$l)f.Ac.setAttribute("display","none");else{f.Ac.setAttribute("display","block");var h=f.Wm;f.Y.v&&(b-=h);f.Ac.setAttribute("transform","translate("+b+",5)");he(f);b=f.Y.v?b-10:b+(h+10)}}var k=b+=this.v?10:-10,l=this.V;d=[];d.Fc=k+20;if(this.X||this.M)d.Fc=Math.max(d.Fc,40);f=e=0;for(var m=h=!1,p=!1,x=void 0,u=yg(this)&&!this.isCollapsed(),q=0,t;t=l[q];q++)if(t.$()){if(u&&
x&&x!=v.Wa&&t.type!=v.Wa)var w=d[d.length-1];else x=t.type,w=[],w.type=u&&t.type!=v.Wa?-1:t.type,w.height=0,d.push(w);w.push(t);t.dg=25;t.$b=u&&t.type==v.$a?F+12.5:0;if(t.connection&&t.connection.isConnected()){var J=D(t.connection).Kb();t.dg=Math.max(t.dg,J.height);t.$b=Math.max(t.$b,J.width)}u||q!=l.length-1?!u&&t.type==v.$a&&l[q+1]&&l[q+1].type==v.Wa&&t.dg--:t.dg--;w.height=Math.max(w.height,t.dg);t.Kd=0;1==d.length&&(t.Kd+=this.v?-k:k);J=!1;for(var O=0,Z;Z=t.Ma[O];O++){0!=O&&(t.Kd+=10);var fb=
Z.Ej();Z.$b=fb.width;Z.ym=J&&Z.wg?10:0;t.Kd+=Z.$b+Z.ym;w.height=Math.max(w.height,fb.height);J=Z.wg}-1!=w.type&&(w.type==v.Wa?(m=!0,f=Math.max(f,t.Kd)):(w.type==v.$a?h=!0:w.type==v.Le&&(p=!0),e=Math.max(e,t.Kd)))}for(k=0;w=d[k];k++)if(w.Ct=!1,-1==w.type)for(l=0;t=w[l];l++)if(t.type==v.$a){w.height+=10;w.Ct=!0;break}d.Im=20+f;m&&(d.Fc=Math.max(d.Fc,d.Im+30));h?d.Fc=Math.max(d.Fc,e+20+F):p&&(d.Fc=Math.max(d.Fc,e+20));d.Ow=h;d.oz=m;d.nz=p;e=b;this.wt=!1;this.height=0;this.P?this.Gp=this.Gm=!0:(this.Gp=
this.Gm=!1,this.X&&(b=D(this.X))&&Qc(b)==this&&(this.Gm=!0),Qc(this)&&(this.Gp=!0));b=new xj;f=d.Fc;h=b.He;m=b.Od;this.Gm?(h.push("m 0,0"),m.push("m 0.5,0.5"),this.wt&&(h.push("c 30,-15 70,-15 100,0"),m.push(this.v?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(h.push("m 0,8"),m.push(this.v?Bj:"m 0.5,7.5"),h.push("A 8,8 0 0,1 8,0"),m.push("A 7.5,7.5 0 0,1 8,0.5"));this.X&&(h.push("H",15),m.push("H",15),h.push("l 6,4 3,0 6,-4"),m.push("l 6,4 3,0 6,-4"),Ee(this.X,
this.v?-30:30,0));h.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};h={x:0,y:0};for(m=0;p=d[m];m++){f.x=10;0==m&&(f.x+=this.v?-e:e);b.Od.push("M",d.Fc-.5+","+(f.y+.5));if(this.isCollapsed())k=p,t=b.He,w=b.Od,Ej(this,k[0].Ma,f.x,f.y),t.push("l 8,0 0,4 8,4 -16,8 8,4"),w.push("h 8"),k=k.height-20,t.push("v",k),this.v&&(w.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),w.push("v",k-.7)),this.width+=15;else if(-1==p.type){w=p;k=f;l=h;x=d.Fc;u=b.Yr;q=b.Vr;J=b.He;O=b.Od;for(Z=0;t=w[Z];Z++){fb=k.x;var gj=
k.y;w.Ct&&(gj+=5);k.x=Ej(this,t.Ma,fb,gj);t.type!=v.Le&&(k.x+=t.$b+10);t.type==v.$a&&(u.push("M",k.x-10+","+(k.y+5)),u.push("h",F-2-t.$b),u.push(He),u.push("v",t.dg+1-20),u.push("h",t.$b+2-F),u.push("z"),this.v?(q.push("M",k.x-10-2.5+F-t.$b+","+(k.y+5+.5)),q.push(Aj),q.push("v",t.dg-20+2.5),q.push("h",t.$b-F+2)):(q.push("M",k.x-10+.5+","+(k.y+5+.5)),q.push("v",t.dg+1),q.push("h",F-2-t.$b),q.push("M",k.x-t.$b-10+.9+","+(k.y+5+20-.7)),q.push("l",.46*F+",-2.1")),l.x=this.v?-k.x-F+10+t.$b+1:k.x+F-10-
t.$b-1,l.y=k.y+5+1,Ee(t.connection,l.x,l.y))}k.x=Math.max(k.x,x);this.width=Math.max(this.width,k.x);J.push("H",k.x);O.push("H",k.x-.5);J.push("v",w.height);this.v&&O.push("v",w.height-1)}else p.type==v.$a?(q=p,t=f,w=h,k=d.Fc,l=b.He,x=b.Od,u=q[0],J=t.x,O=t.y,u.align!=v.Si&&(Z=k-u.Kd-F-20,u.align==v.Qb?J+=Z:u.align==v.Mk&&(J+=Z/2)),Ej(this,u.Ma,J,O),l.push(He),q=q.height-20,l.push("v",q),this.v?(x.push(Aj),x.push("v",q+.5)):(x.push("M",k-5+","+(t.y+20-.7)),x.push("l",.46*F+",-2.1")),w.x=this.v?-k-
1:k+1,Ee(u.connection,w.x,t.y),u.connection.isConnected()&&(this.width=Math.max(this.width,k+D(u.connection).Kb().width-F+1))):p.type==v.Le?(t=p,w=b.He,k=b.Od,l=t[0],x=f.x,u=f.y,l.align!=v.Si&&(q=d.Fc-l.Kd-20,d.Ow&&(q-=F),l.align==v.Qb?x+=q:l.align==v.Mk&&(x+=q/2)),Ej(this,l.Ma,x,u),w.push("v",t.height),this.v&&k.push("v",t.height-1)):p.type==v.Wa&&(t=p,w=f,k=h,l=d,x=m,u=b.He,q=b.Od,J=t[0],0==x&&(u.push("v",10),this.v&&q.push("v",9),w.y+=10),O=w.x,Z=w.y,J.align!=v.Si&&(fb=l.Im-J.Kd-20,J.align==v.Qb?
O+=fb:J.align==v.Mk&&(O+=fb/2)),Ej(this,J.Ma,O,Z),w.x=l.Im+30,u.push("H",w.x),u.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),u.push("v",t.height-16),u.push("a 8,8 0 0,0 8,8"),u.push("H",l.Fc),this.v?(q.push("M",w.x-30+zj+","+(w.y+zj)),q.push(Cj),q.push("v",t.height-16),q.push("a 8.5,8.5 0 0,0 8.5,8.5")):(q.push("M",w.x-30+zj+","+(w.y+t.height-zj)),q.push(Dj)),q.push("H",l.Fc-.5),k.x=this.v?-w.x:w.x+1,Ee(J.connection,k.x,w.y+1),J.connection.isConnected()&&(this.width=Math.max(this.width,l.Im+D(J.connection).Kb().width)),
x==l.length-1||l[x+1].type==v.Wa)&&(u.push("v",10),this.v&&q.push("v",9),w.y+=10);f.y+=p.height}d.length||(f.y=25,b.He.push("V",f.y),this.v&&b.Od.push("V",f.y-1));d=f.y;e=b.He;f=b.Od;this.height+=d+1;this.M&&(e.push("H",30+(this.v?.5:-.5)+" l -6,4 -3,0 -6,-4"),Ee(this.M,this.v?-30:30,d+1),this.height+=4);this.Gp?(e.push("H 0"),this.v||f.push("M","0.5,"+(d-.5))):(e.push("H",8),e.push("a","8,8 0 0,1 -8,-8"),this.v||(f.push("M",yj+","+(d-yj)),f.push("A","7.5,7.5 0 0,1 0.5,"+(d-8))));d=b.He;e=b.Od;this.P?
(Ee(this.P,0,0),d.push("V",20),d.push("c 0,-10 -"+F+",8 -"+F+",-7.5 s "+F+",2.5 "+F+",-7.5"),this.v?(e.push("M",-.25*F+",8.4"),e.push("l",-.45*F+",-2.1")):(e.push("V",18.5),e.push("m",-.92*F+",-0.5 q "+-.19*F+",-5.5 0,-11"),e.push("m",.92*F+",1 V 0.5 H 1")),this.width+=F):this.v||(this.Gm?e.push("V",.5):e.push("V",8));d.push("z");d=b.He.join(" ")+"\n"+b.Yr.join(" ");this.Dd.setAttribute("d",d);this.Bk.setAttribute("d",d);d=b.Od.join(" ")+"\n"+b.Vr.join(" ");this.ng.setAttribute("d",d);this.v&&(this.Dd.setAttribute("transform",
"scale(-1 1)"),this.ng.setAttribute("transform","scale(-1 1)"),this.Bk.setAttribute("transform","translate(1,1) scale(-1 1)"));d=this.wa();this.X&&De(this.X,d);this.P&&De(this.P,d);for(b=0;b<this.V.length;b++)if(e=this.V[b].connection)De(e,d),e.isConnected()&&Fe(e);this.M&&(De(this.M,d),this.M.isConnected()&&Fe(this.M));!1!==a&&((a=this.getParent())?a.na(!0):Ld(this.s));Hd()};
function Ej(a,b,d,e){e+=5;a.v&&(d=-d);for(var f=0,h;h=b[f];f++){var k=h.ma();k&&(a.v?(d-=h.ym+h.$b,k.setAttribute("transform","translate("+d+","+e+")"),h.$b&&(d-=10)):(k.setAttribute("transform","translate("+(d+h.ym)+","+e+")"),h.$b&&(d+=h.ym+h.$b+10)),a.$l&&k.setAttribute("display","none"))}return a.v?-d:d};v.g={};function wj(a,b){wj.u.constructor.call(this,a,b)}r(wj,Lg);wj.oa=function(a){var b=v.j.ac(a.text);b=new wj(b,a["class"]);"boolean"===typeof a.spellcheck&&(b.Fm=a.spellcheck);return b};var Fj=null;c=wj.prototype;c.Rk="text";c.Fm=!0;c.C=function(){v.J.Mj(this);wj.u.C.call(this)};c.setValue=function(a){if(null!==a){if(this.A){var b=vd(this,a);null!==b&&(a=b)}Lg.prototype.setValue.call(this,a)}};
c.sb=function(a){null!==a&&(a=String(a),a!==this.qa&&(this.A&&v.m.isEnabled()&&v.m.Z(new v.m.Ic(this.A,"field",this.name,this.qa,a)),Lg.prototype.sb.call(this,a)))};
c.Ee=function(a){this.o=this.A.s;a=a||!1;if(!a&&(ob||qb||sb))Gj(this);else{v.J.show(this,this.A.v,Hj(this));var b=v.J.ka,d=document.createElement("input");d.className="blocklyHtmlInput";d.setAttribute("spellcheck",this.Fm);var e=11*this.o.scale+"pt";b.style.fontSize=e;d.style.fontSize=e;Fj=d;b.appendChild(d);d.value=d.defaultValue=this.qa;d.Is=null;Ij(this);this.Am();a||(d.focus(),d.select());d.Ax=v.U(d,"keydown",this,this.zx);d.Dx=v.U(d,"keyup",this,this.Ms);d.Cx=v.U(d,"keypress",this,this.Ms);d.Ss=
this.Am.bind(this);this.o.Kc(d.Ss)}};function Gj(a){v.prompt(v.g.CHANGE_VALUE_TITLE,a.qa,function(b){a.A&&(b=vd(a,b));a.setValue(b)})}c.zx=function(a){var b=Fj;13==a.keyCode?v.J.Na():27==a.keyCode?(b.value=b.defaultValue,v.J.Na()):9==a.keyCode&&(v.J.Na(),vj(this.A,this,!a.shiftKey),a.preventDefault())};c.Ms=function(){var a=Fj,b=a.value;b!==a.Is?(a.Is=b,v.m.R(!0),this.setValue(b),v.m.R(!1),Ij(this)):z&&this.A.na();this.Am();v.yh(this.A.s)};
function Ij(a){var b=!0;if(!Fj)throw Error("htmlInput not defined");var d=Fj;a.A&&(b=vd(a,d.value));null===b?v.j.ab(d,"blocklyInvalidInput"):v.j.Ab(d,"blocklyInvalidInput")}c.Am=function(){var a=v.J.ka,b=Tg(this);a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new A(this.A.v?b.right-a.offsetWidth:b.left,b.top);b.y+=1;nb&&v.J.ka.style.top&&(--b.x,--b.y);z&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
function Hj(a){return function(){var b=Fj,d=Fj,e=d.value;a.A&&(e=vd(a,e),null===e?e=d.defaultValue:a.Mo&&a.Mo(e));a.sb(e);a.A.T&&a.A.na();v.Pa(b.Ax);v.Pa(b.Dx);v.Pa(b.Cx);a.o.cg(b.Ss);Fj=null;v.m.R(!1);b=v.J.ka.style;b.width="auto";b.height="auto";b.fontSize=""}}Ng("field_input",wj);function Jj(a,b){this.Mp=v.j.D("tspan",{},null);this.Mp.appendChild(document.createTextNode("\u00b0"));a=a&&!isNaN(a)?String(a):"0";Jj.u.constructor.call(this,a,b)}r(Jj,wj);Jj.oa=function(a){return new Jj(a.angle)};c=Jj.prototype;c.ye=function(){this.Ua?(this.za.textContent=Rg(this),this.A.v?this.za.insertBefore(this.Mp,this.za.firstChild):this.za.appendChild(this.Mp),this.Kk()):this.tb.width=0};
c.Zh=function(){var a=this;return function(){Jj.u.Zh.call(a)();a.zj=null;a.Lq&&v.Pa(a.Lq);a.Cs&&v.Pa(a.Cs);a.Ds&&v.Pa(a.Ds)}};
c.Ee=function(){Jj.u.Ee.call(this,ob||qb||sb);var a=v.J.ka;if(a.firstChild){a=v.j.D("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},a);var b=v.j.D("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.zj=v.j.D("path",{"class":"blocklyAngleGauge"},a);this.qs=v.j.D("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)v.j.D("line",{x1:99,y1:50,
x2:99-(0==d%45?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+d+",50,50)"},a);a.style.marginLeft="-34px";this.Lq=v.Vb(a,"click",this,v.J.Na);this.Cs=v.Vb(b,"mousemove",this,this.Rs);this.Ds=v.Vb(this.zj,"mousemove",this,this.Rs);Kj(this)}};
c.Rs=function(a){var b=this.zj.ownerSVGElement.getBoundingClientRect(),d=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/d);isNaN(b)||(b=v.j.ky(b),0>d?b+=180:0<a&&(b+=360),b=15*Math.round((b-0)/15),b=vd(this,b),Fj.value=b,this.setValue(b),Ij(this),this.Am())};c.sb=function(a){Jj.u.sb.call(this,a);this.za&&(Kj(this),this.tb.width=0)};
function Kj(a){if(a.zj){var b=Number(a.yb())+0;b=v.j.Dk(b);var d=["M ",50,",",50],e=50,f=50;if(!isNaN(b)){var h=v.j.Dk(0),k=49*Math.cos(h),l=-49*Math.sin(h);e+=49*Math.cos(b);f-=49*Math.sin(b);d.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",e,",",f," z")}a.zj.setAttribute("d",d.join(""));a.qs.setAttribute("x2",e);a.qs.setAttribute("y2",f)}}
c.pn=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);360<a&&(a-=360);return String(a)};Ng("field_angle",Jj);function Lj(a,b){Lj.u.constructor.call(this,"",b);this.setValue(a)}r(Lj,Lg);Lj.oa=function(a){return new Lj(a.checked?"TRUE":"FALSE")};c=Lj.prototype;c.Rk="default";c.S=function(){this.Ra||(Lj.u.S.call(this),this.cl=v.j.D("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.Ra),this.cl.appendChild(document.createTextNode("\u2713")),this.cl.style.display=this.Ta?"block":"none")};c.getValue=function(){return String(this.Ta).toUpperCase()};
c.setValue=function(a){a="string"==typeof a?"TRUE"==a.toUpperCase():!!a;this.Ta!==a&&(this.A&&v.m.isEnabled()&&v.m.Z(new v.m.Ic(this.A,"field",this.name,this.Ta,a)),this.Ta=a,this.cl&&(this.cl.style.display=a?"block":"none"))};c.Ee=function(){var a=!this.Ta;this.A&&(a=vd(this,a));null!==a&&this.setValue(String(a).toUpperCase())};Ng("field_checkbox",Lj);function Mj(a,b){Mj.u.constructor.call(this,a,b);this.sb("\u00a0\u00a0\u00a0")}var Nj;r(Mj,Lg);Mj.oa=function(a){return new Mj(a.colour)};c=Mj.prototype;c.Ev=null;c.jy=null;c.Oq=0;c.S=function(){Mj.u.S.call(this);this.wd.style.fillOpacity=1;this.setValue(this.getValue())};c.Rk="default";c.C=function(){v.J.Mj(this);Mj.u.C.call(this)};c.getValue=function(){return this.ge};
c.setValue=function(a){this.A&&v.m.isEnabled()&&this.ge!=a&&v.m.Z(new v.m.Ic(this.A,"field",this.name,this.ge,a));this.ge=a;this.wd&&(this.wd.style.fill=a)};c.yb=function(){var a=this.ge,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};
var Oj="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Pj=
[],Qj=7;Mj.prototype.setColumns=function(a){this.Oq=a;return this};Mj.prototype.Ee=function(){v.J.show(this,this.A.v,Rj);var a=v.j.bo(),b=Tg(this),d=this.pj();v.J.ka.appendChild(d);var e=Eg(d);v.J.Xo(a,b,e,this.A.v);Nj=v.Vb(d,"mouseup",this,this.dk)};Mj.prototype.dk=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;v.J.Na();this.A&&(a=vd(this,a));null!==a&&this.setValue(a)};
Mj.prototype.pj=function(){var a=this.Oq||Qj,b=this.Ev||Oj,d=this.jy||Pj,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var h,k=0;k<b.length;k++){0==k%a&&(h=document.createElement("tr"),f.appendChild(h));var l=document.createElement("td");h.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=d[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}return f};
function Rj(){Nj&&v.Pa(Nj);v.m.R(!1)}Ng("field_colour",Mj);function bh(a,b){"function"!=typeof a&&Sj(a);this.$g=a;this.Lp=this.Zo=null;a=this.$g;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=v.j.ac(f):(null!=f.alt&&(a[e][0].alt=v.j.ac(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=v.j.Ap(f);e=v.j.Hv(f,h);d=v.j.Iv(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Zo=f[0].substring(0,e-1));d&&(this.Lp=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(e,
k.length-d);f[h]=[k,l]}this.$g=f}}}a=this.getOptions()[0];bh.u.constructor.call(this,a[1],b)}r(bh,Lg);bh.oa=function(a){return new bh(a.options)};var Tj=qb?"\u25bc":"\u25be";c=bh.prototype;c.Rk="default";c.kb="";c.lc=null;c.re=null;c.S=function(){this.Ra||(this.Cf=v.j.D("tspan",{},null),this.Cf.appendChild(document.createTextNode(this.A.v?Tj+" ":" "+Tj)),bh.u.S.call(this))};
c.Ee=function(){v.J.show(this,this.A.v,null);var a=new qj;a.nf(this.A.v);for(var b=this.getOptions(),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new mj(e);e.nf(this.A.v);e.setValue(f);e.sp(!0);a.Vk(e,!0);Oi(e,f==this.kb)}Uj(this,a);b=v.j.bo();d=Tg(this);this.A.v?d.right+=25:d.left-=25;this.pj(a);f=v.j.Pi.Ej(a);e=.45*document.documentElement.clientHeight;f.height>e&&(f.height=e);this.A.v&&v.j.Pi.tq(b,d,f);v.J.Xo(b,
d,f,this.A.v);a.K().focus()};function Uj(a,b){Ch(b,"action",function(b){(b=b.target)&&a.Ns(b);v.J.Mj(a);v.m.R(!1)})}c.pj=function(a){a.na(v.J.ka);v.j.ab(a.K(),"blocklyDropdownMenu");a.Xk=!0;a.jg(!0)};c.Ns=function(a){a=a.getValue();this.A&&(a=vd(this,a));null!==a&&this.setValue(a)};c.getOptions=function(){if("function"==typeof this.$g){var a=this.$g.call(this);Sj(a);return a}return this.$g};c.getValue=function(){return this.kb};
c.setValue=function(a){if(null!==a&&a!==this.kb){this.A&&v.m.isEnabled()&&v.m.Z(new v.m.Ic(this.A,"field",this.name,this.kb,a));this.kb=a;for(var b=this.getOptions(),d=0;d<b.length;d++)if(b[d][1]==a){a=b[d][0];"object"==typeof a?(this.re=a,this.qa=a.alt):(this.re=null,this.qa=a);this.xj();return}this.qa=a;this.xj()}};
c.ye=function(){if(this.Ua){this.A&&this.Cf&&(this.Cf.style.fill=this.A.ge);for(var a;a=this.za.firstChild;)this.za.removeChild(a);this.lc&&(v.j.removeNode(this.lc),this.lc=null);this.re?(this.lc=v.j.D("image",{y:5,height:this.re.height+"px",width:this.re.width+"px"},this.Ra),this.lc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.re.src),this.za.appendChild(this.Cf),a=Sg(this.Cf),this.tb.height=Number(this.re.height)+19,this.tb.width=Number(this.re.width)+a,this.A.v?(this.lc.setAttribute("x",
a),this.za.setAttribute("x",-1)):(this.za.setAttribute("text-anchor","end"),this.za.setAttribute("x",this.tb.width+1))):(a=document.createTextNode(Rg(this)),this.za.appendChild(a),this.A.v?this.za.insertBefore(this.Cf,this.za.firstChild):this.za.appendChild(this.Cf),this.za.setAttribute("text-anchor","start"),this.za.setAttribute("x",0),this.tb.height=25,this.tb.width=Sg(this.za));this.wd.setAttribute("height",this.tb.height-9);this.wd.setAttribute("width",this.tb.width+10)}else this.tb.width=0};
c.Kk=function(){if(this.re&&(y||mb)){var a=Sg(this.Cf);a=Number(this.re.width)+a+10;this.wd&&this.wd.setAttribute("width",a);this.tb.width=a}else Lg.prototype.Kk.call(this)};c.C=function(){v.J.Mj(this);bh.u.C.call(this)};
function Sj(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");}Ng("field_dropdown",bh);function Vj(a,b,d,e,f){this.A=null;this.Ia=Number(d);this.pa=Number(b);this.tb=new tc(this.pa,this.Ia+10);this.Ah="";this.setValue(a);this.sb(e);"function"==typeof f&&(this.fl=f)}r(Vj,Lg);Vj.oa=function(a){var b=v.j.ac(a.src),d=Number(v.j.ac(a.width)),e=Number(v.j.ac(a.height));a=v.j.ac(a.alt);return new Vj(b,d,e,a)};c=Vj.prototype;c.wg=!1;
c.S=function(){this.Ra||(this.Ra=v.j.D("g",{},null),this.Ua||(this.Ra.style.display="none"),this.lc=v.j.D("image",{height:this.Ia+"px",width:this.pa+"px"},this.Ra),this.setValue(this.tt),this.sb(this.qa),this.A.ma().appendChild(this.Ra),this.Ah?this.lc.Vc=this.Ah:this.Sa(this.A),v.F.Eg(this.lc),this.fl&&(this.lm=v.U(this.Ra,"mousedown",this,this.fl)))};c.C=function(){this.Ra&&(v.j.removeNode(this.Ra),this.Ra=null);this.lc=null};c.Sa=function(a){this.Ah=a;this.lc&&(this.lc.Vc=a)};c.getValue=function(){return this.tt};
c.setValue=function(a){null!==a&&(this.tt=a,this.lc&&this.lc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""))};c.sb=function(a){null!==a&&(this.qa=a,this.lc&&this.lc.setAttribute("alt",a||""))};c.ye=function(){};c.xj=function(){};c.Kk=function(){};c.Ee=function(){this.fl&&this.fl(this)};Ng("field_image",Vj);function Wj(a,b,d,e,f){a=a&&!isNaN(a)?String(a):"0";Wj.u.constructor.call(this,a,f);a=parseFloat(e);this.Yo=isNaN(a)?0:a;b=parseFloat(b);this.lx=isNaN(b)?-Infinity:b;d=parseFloat(d);this.kx=isNaN(d)?Infinity:d;this.setValue(vd(this,this.getValue()))}r(Wj,wj);Wj.oa=function(a){return new Wj(a.value,a.min,a.max,a.precision)};
Wj.prototype.pn=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;this.Yo&&isFinite(a)&&(a=Math.round(a/this.Yo)*this.Yo);a=Math.min(Math.max(a,this.lx),this.kx);return String(a)};Ng("field_number",Wj);function Xj(a,b,d,e){this.$g=Yj;this.tb=new tc(0,25);this.Dh=b;this.Wv=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){b=!1;for(e=0;e<d.length;e++)d[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.Vv=a;this.ty=d;this.kb=null}r(Xj,bh);Xj.oa=function(a){var b=v.j.ac(a.variable);return new Xj(b,null,a.variableTypes,a.defaultType)};
c=Xj.prototype;c.S=function(){this.Ra||(Xj.u.S.call(this),this.Vg())};c.Vg=function(){if(!this.Zd){this.o=this.A.s;var a=v.G.Jl(this.o,null,this.Wv,this.Vv);v.m.disable();try{this.setValue(a.ga())}finally{v.m.enable()}}};c.C=function(){Xj.u.C.call(this);this.ua=this.o=null};c.zp=function(a){if(a.Za)throw Error("Variable fields are not allowed to exist on shadow blocks.");Xj.u.zp.call(this,a)};c.getValue=function(){return this.Zd?this.Zd.ga():null};c.yb=function(){return this.Zd?this.Zd.name:""};
c.jc=function(){return this.Zd};c.setValue=function(a){var b=v.G.jc(this.A.s,a);if(!b)throw Error("Variable id doesn't point to a real variable!  ID was "+a);var d=b.type,e;a:if(e=Zj(this)){for(var f=0;f<e.length;f++)if(d==e[f]){e=!0;break a}e=!1}else e=!0;if(!e)throw Error("Variable type doesn't match this field!  Type was "+d);this.A&&v.m.isEnabled()&&(d=this.Zd?this.Zd.ga():null,v.m.Z(new v.m.Ic(this.A,"field",this.name,d,a)));this.Zd=b;this.kb=a;this.sb(b.name)};
function Zj(a){var b=a.ty;if(null===b&&a.A)return a.A.s.Zn();b=b||[""];if(0==b.length)throw a=a.yb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Yj(){if(!this.Zd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.yb(),b=null;this.A&&(b=this.A.s);var d=[];if(b)for(var e=Zj(this),f=0;f<e.length;f++)d=d.concat(b.Gj(e[f]));d.sort(Qf);b=[];for(f=0;f<d.length;f++)b[f]=[d[f].name,d[f].ga()];b.push([v.g.RENAME_VARIABLE,v.mq]);v.g.DELETE_VARIABLE&&b.push([v.g.DELETE_VARIABLE.replace("%1",a),v.fq]);return b}
c.Ns=function(a){a=a.getValue();if(this.A&&this.A.s){var b=this.A.s;if(a==v.mq){v.G.xm(b,this.Zd);return}if(a==v.fq){b.$e(this.Zd.ga());return}}this.setValue(a)};c.kh=function(){return!0};Ng("field_variable",Xj);function Yg(a){this.sx=a;this.bu=new RegExp(this.Qa,"g")}c=Yg.prototype;c.Jh=null;c.Af=null;c.qc="  ";c.aq=60;c.bj=[];function ak(a){var b=bk;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=v.ji());var d=[];a.S(b);b=zd(b,!0);for(var e=0,f;f=b[e];e++){var h=ck(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.P&&(h=a.np(h)),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}
function dk(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}function ek(a){var b=[];a=Pc(a,!0);for(var d=0;d<a.length;d++){var e=a[d].Aj();e&&b.push(e)}b.length&&b.push("");return b.join("\n")}
function ck(a,b){if(!b)return"";if(b.disabled)return ck(a,Qc(b));var d=a[b.type];if("function"!=typeof d)throw Error('Language "'+a.sx+'" does not know how to generate  code for block type "'+b.type+'".');d=d.call(b,b);if(Array.isArray(d)){if(!b.P)throw TypeError("Expecting string from statement block: "+b.type);return[a.Ji(b,d[0],void 0),d[1]]}if("string"==typeof d){var e=b.id.replace(/\$/g,"$$$$");a.Af&&(d=a.Af.replace(/%1/g,"'"+e+"'")+d);return a.Ji(b,d,void 0)}if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function P(a,b,d,e){if(isNaN(e))throw TypeError("Expecting valid order from block: "+b.type);var f=eh(b,d);if(!f)return"";d=ck(a,f);if(""===d)return"";if(!Array.isArray(d))throw TypeError("Expecting tuple from value block: "+f.type);b=d[0];d=d[1];if(isNaN(d))throw TypeError("Expecting valid order from value block: "+f.type);if(!b)return"";f=!1;var h=Math.floor(e),k=Math.floor(d);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<a.bj.length;h++)if(a.bj[h][0]==e&&a.bj[h][1]==d){f=!1;break}f&&(b="("+b+")");
return b}function fk(a,b,d){b=eh(b,d);d=ck(a,b);if("string"!=typeof d)throw TypeError("Expecting code from statement block: "+(b&&b.type));d&&(d=dk(d,a.qc));return d}function gk(a,b,d){d=d.replace(/\$/g,"$$$$");a.Jh&&(b=a.Jh.replace(/%1/g,"'"+d+"'")+b);a.Af&&(b+=dk(a.Af.replace(/%1/g,"'"+d+"'"),a.qc));return b}c.Uk="";function hk(a,b){a.Uk+=b+","}c.Qa="{leCUI8hutHZI4480Dc}";
function Q(a,b,d){if(!a.La[b]){var e=ik(a.aa,b,v.sa.ra);a.yj[b]=e;d=d.join("\n").replace(a.bu,e);for(var f;f!=d;)f=d,d=d.replace(/^(( {2})*) {2}/gm,"$1\x00");d=d.replace(/\0/g,a.qc);a.La[b]=d}return a.yj[b]}c.S=function(){};c.Ji=function(a,b){return b};c.finish=function(a){return a};c.np=function(a){return a};function jk(a){this.Gt="";this.jt=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.jt[a[b]]=!0}this.reset()}jk.prototype.reset=function(){this.yd=Object.create(null);this.kr=Object.create(null);this.ua=null};
jk.prototype.getName=function(a,b){if(b==v.G.ra){var d=a;this.ua?d=(d=this.ua.Md(d))?d.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),d=null);d&&(a=d)}d=a.toLowerCase()+"_"+b;var e=b==v.G.ra||"DEVELOPER_VARIABLE"==b?this.Gt:"";if(d in this.yd)return e+this.yd[d];a=ik(this,a,b);this.yd[d]=
a.substr(e.length);return a};function ik(a,b,d){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b="unnamed";for(var e="";a.kr[b+e]||b+e in a.jt;)e=e?e+1:2;b+=e;a.kr[b]=!0;return(d==v.G.ra||"DEVELOPER_VARIABLE"==d?a.Gt:"")+b}function td(a,b){return a.toLowerCase()==b.toLowerCase()};v.sa={};v.sa.ra=v.lq;v.sa.hv=function(a){a=qd(a,!1);for(var b=[],d=[],e=0;e<a.length;e++)if(a[e].oe){var f=a[e].oe();f&&(f[2]?b.push(f):d.push(f))}d.sort(v.sa.Zs);b.sort(v.sa.Zs);return[d,b]};v.sa.Zs=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};v.sa.nw=function(a,b){if(b.rb)return a;for(;!v.sa.Ww(a,b.s,b);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};v.sa.Ww=function(a,b,d){return!v.sa.Yw(a,b,d)};
v.sa.Yw=function(a,b,d){b=qd(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=d&&b[e].oe){var f=b[e].oe();if(td(f[0],a))return!0}return!1};v.sa.ht=function(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b=v.sa.nw(a,this.A),d=this.qa;if(d!=a&&d!=b){a=qd(this.A.s,!1);for(var e=0;e<a.length;e++)a[e].nk&&a[e].nk(d,b)}return b};
v.sa.Gf=function(a){function b(a,b){for(var e=0;e<a.length;e++){var f=a[e][0],h=a[e][1],k=v.w.j.createElement("block");k.setAttribute("type",b);k.setAttribute("gap",16);var u=v.w.j.createElement("mutation");u.setAttribute("name",f);k.appendChild(u);for(f=0;f<h.length;f++){var q=v.w.j.createElement("arg");q.setAttribute("name",h[f]);u.appendChild(q)}d.push(k)}}var d=[];if(v.L.procedures_defnoreturn){var e=v.w.j.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=v.w.j.createElement("field");f.setAttribute("name","NAME");f.appendChild(v.w.j.createTextNode(v.g.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}v.L.procedures_defreturn&&(e=v.w.j.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=v.w.j.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(v.w.j.createTextNode(v.g.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));v.L.procedures_ifreturn&&(e=v.w.j.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=v.sa.hv(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return d};v.sa.sw=function(a,b){var d=[];b=qd(b,!1);for(var e=0;e<b.length;e++)if(b[e].ed){var f=b[e].ed();f&&td(f,a)&&d.push(b[e])}return d};
v.sa.Go=function(a){var b=v.m.Zb,d=a.oe()[0],e=a.Ja(!0);a=v.sa.sw(d,a.s);d=0;for(var f;f=a[d];d++){var h=f.Ja();h=h&&v.w.wc(h);f.eb(e);var k=f.Ja();k=k&&v.w.wc(k);h!=k&&(v.m.Zb=!1,v.m.Z(new v.m.Ic(f,"mutation",null,h,k)),v.m.Zb=b)}};v.sa.Bj=function(a,b){b=zd(b,!1);for(var d=0;d<b.length;d++)if(b[d].oe){var e=b[d].oe();if(e&&td(e[0],a))return b[d]}return null};function kk(a,b,d,e){this.o=a;this.ya=b;this.qa=d.getAttribute("text");this.Rc=new A(0,0);this.Zg=e;this.on=null;a=d.getAttribute("callbackKey");this.Zg&&a?console.warn("Labels should not have callbacks. Label text: "+this.qa):this.Zg||a&&sg(b,a)?this.on=sg(b,a):console.warn("Buttons should have callbacks. Button text: "+this.qa);this.Vq=d.getAttribute("web-class")||null}c=kk.prototype;c.width=0;c.height=0;c.fh=null;
c.la=function(){var a=this.Zg?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.Vq&&(a+=" "+this.Vq);this.B=v.j.D("g",{"class":a},this.o.Oa);if(!this.Zg)var b=v.j.D("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.B);a=v.j.D("rect",{"class":this.Zg?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.B);var d=v.j.D("text",{"class":this.Zg?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.B);d.textContent=v.j.ac(this.qa);this.width=
Sg(d);this.height=20;this.Zg||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-5);lk(this);this.fh=v.U(this.B,"mouseup",this,this.Lx);return this.B};c.show=function(){lk(this);this.B.setAttribute("display","block")};function lk(a){a.B.setAttribute("transform","translate("+a.Rc.x+","+a.Rc.y+")")}
c.moveTo=function(a,b){this.Rc.x=a;this.Rc.y=b;lk(this)};c.Kr=function(){return this.Rc};c.C=function(){this.fh&&v.Pa(this.fh);this.B&&(v.j.removeNode(this.B),this.B=null);this.ya=this.o=null};c.Lx=function(a){(a=this.ya.ne(a))&&a.cancel();this.on&&this.on(this)};function mk(a){a.qb=this.ff.bind(this);a.lg=this.Dm.bind(this);this.o=new cg(a);this.o.Qd=!0;this.v=!!a.v;this.qf=a.Fa;this.Mn=[];this.jm=[];this.hj=[];this.Ec=[];this.Uo=[]}c=mk.prototype;c.Vh=!0;c.Wf=!1;c.Hg=!0;c.va=8;c.sd=mk.prototype.va;c.eu=3*mk.prototype.sd;c.fu=3*mk.prototype.sd;c.Bg=2;c.pa=0;c.Ia=0;c.yr=70;c.la=function(a){this.B=v.j.D(a,{"class":"blocklyFlyout",style:"display: none"},null);this.ld=v.j.D("path",{"class":"blocklyFlyoutBackground"},this.B);this.B.appendChild(this.o.la());return this.B};
c.S=function(a){this.ya=a;this.o.zh=a;this.bc=new xf(this.o,this.Pd,!1,"blocklyFlyoutScrollbar");this.Na();Array.prototype.push.apply(this.Mn,v.U(this.B,"wheel",this,this.Kt));this.Vh||(this.wl=this.On.bind(this),this.ya.Kc(this.wl));Array.prototype.push.apply(this.Mn,v.U(this.ld,"mousedown",this,this.$f));this.o.ne=this.ya.ne.bind(this.ya);this.o.ua=this.ya.ua;a=this.o;a.Fi=new pd(a)};
c.C=function(){this.Na();v.Pa(this.Mn);this.wl&&(this.ya.cg(this.wl),this.wl=null);this.bc&&(this.bc.C(),this.bc=null);this.o&&(this.o.zh=null,this.o.C(),this.o=null);this.B&&(v.j.removeNode(this.B),this.B=null);this.ya=this.ld=null};c.fd=function(){return this.pa};c.ii=function(){return this.Ia};c.Ol=function(){return this.o};c.$=function(){return this.Wf};c.ta=function(a){var b=a!=this.$();this.Wf=a;b&&this.Ik()};c.oh=function(a){var b=a!=this.Hg;this.Hg=a;b&&this.Ik()};
c.Ik=function(){var a=this.Hg?this.$():!1;this.B.style.display=a?"block":"none";this.bc.oh(a)};function nk(a,b,d,e,f){a.B.setAttribute("width",b);a.B.setAttribute("height",d);"svg"==a.B.tagName?v.j.qk(a.B,"translate("+e+"px,"+f+"px)"):a.B.setAttribute("transform","translate("+e+","+f+")");a.bc&&(a.bc.Qo=new A(e,f),a.bc.resize())}c.Na=function(){if(this.$()){this.ta(!1);for(var a=0,b;b=this.Ec[a];a++)v.Pa(b);this.Ec.length=0;this.ag&&(this.o.cg(this.ag),this.ag=null)}};
c.show=function(a){this.o.Ub(!1);this.Na();ok(this);if("string"==typeof a){a=tg(this.o.zh,a);if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.o.zh);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.ta(!0);for(var b=[],d=[],e=this.Uo.length=0,f;f=a[e];e++)if(f.tagName){var h=f.tagName.toUpperCase(),k=this.Pd?this.eu:this.fu;if("BLOCK"==h)h=v.w.$h(f,this.o),h.disabled&&this.Uo.push(h),
b.push({type:"block",block:h}),f=parseInt(f.getAttribute("gap"),10),d.push(isNaN(f)?k:f);else if("SEP"==f.tagName.toUpperCase())f=parseInt(f.getAttribute("gap"),10),!isNaN(f)&&0<d.length?d[d.length-1]=f:d.push(k);else if("BUTTON"==h||"LABEL"==h)f=new kk(this.o,this.ya,f,"LABEL"==h),b.push({type:"button",button:f}),d.push(k)}this.os(b,d);this.Ec.push(v.U(this.ld,"mouseover",this,function(){for(var a=zd(this.o,!1),b=0,d;d=a[b];b++)d.lh()}));this.Pd?this.Ia=0:this.pa=0;this.o.Ub(!0);this.fp();this.On();
this.position();this.ag=this.fp.bind(this);this.o.Kc(this.ag)};function ok(a){for(var b=zd(a.o,!1),d=0,e;e=b[d];d++)e.s==a.o&&e.C(!1,!1);for(d=0;d<a.jm.length;d++)(b=a.jm[d])&&v.j.removeNode(b);for(d=a.jm.length=0;b=a.hj[d];d++)b.C();a.hj.length=0;a.o.Fi.clear()}
function pk(a,b,d,e){a.Ec.push(v.U(b,"mousedown",null,qk(a,d)));a.Ec.push(v.U(e,"mousedown",null,qk(a,d)));a.Ec.push(v.Vb(b,"mouseover",d,d.Uh));a.Ec.push(v.Vb(b,"mouseout",d,d.lh));a.Ec.push(v.Vb(e,"mouseover",d,d.Uh));a.Ec.push(v.Vb(e,"mouseout",d,d.lh))}function qk(a,b){return function(d){var e=a.ya.ne(d);e&&(qf(e,b),pf(e,d,a))}}c.$f=function(a){var b=this.ya.ne(a);b&&pf(b,a,this)};
function jf(a,b){var d=null;v.m.disable();var e=a.ya.ef();a.ya.Ub(!1);try{var f=a.ya;if(!b.ma())throw Error("oldBlock is not rendered.");var h=v.w.Df(b);f.Ub(!1);var k=v.w.$h(h,f);if(!k.ma())throw Error("block is not rendered.");var l=v.j.Gl(f.Oa),m=v.j.Gl(a.o.Oa),p=b.wa().scale(a.o.scale),x=rc(sc(m,p),l).scale(1/f.scale);k.moveBy(x.x,x.y);d=k;v.Tb()}finally{v.m.enable()}b=v.G.Ir(a.ya,e);if(v.m.isEnabled())for(v.m.R(!0),v.m.Z(new $c(d)),e=0;e<b.length;e++)v.m.Z(new dd(b[e]));a.Vh?a.Na():a.On();return d}
function rk(a,b,d,e){var f=b.la();b.moveTo(d,e);b.show();a.Ec.push(v.U(f,"mousedown",a,a.$f));a.hj.push(b)}function sk(a,b,d,e,f,h){d=v.j.D("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.Vc=b;v.F.Eg(d);a.o.Oa.insertBefore(d,b.ma());b.yl=d;return a.jm[h]=d}function tk(a,b,d){var e=d.Kb();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=d.wt?15:0;f&&d.moveBy(0,f);f=d.P?F:0;d=d.wa();b.setAttribute("y",d.y);b.setAttribute("x",a.v?d.x-e.width+f:d.x-f)}
c.On=function(){for(var a=zd(this.o,!1),b=0,d;d=a[b];b++)-1==this.Uo.indexOf(d)&&d.Sc(!Rd(this.ya,v.j.Tn(d)))};c.fp=function(){this.ag&&this.o.cg(this.ag);this.ft();this.ag&&this.o.Kc(this.ag)};function gf(a){return a.bc?a.bc.$():!1};function lg(a){a.qb=this.ff.bind(this);a.lg=this.Dm.bind(this);lg.u.constructor.call(this,a);this.Pd=!0}r(lg,mk);c=lg.prototype;c.ff=function(){if(!this.$())return null;try{var a=this.o.Oa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.Bg,d=this.Bg;this.qf==v.Cg&&(b=0);var e=this.Ia;this.qf==v.Bf&&(e-=this.Bg);return{hb:e,Da:this.pa-2*this.Bg,tc:(a.height+2*this.sd)*this.o.scale,Mc:(a.width+2*this.sd)*this.o.scale,Ke:-this.o.scrollY,Db:-this.o.scrollX,uc:a.y,Lc:a.x,wb:b,lb:d}};
c.Dm=function(a){var b=this.ff();b&&("number"==typeof a.x&&(this.o.scrollX=-b.Mc*a.x),this.o.translate(this.o.scrollX+b.lb,this.o.scrollY+b.wb))};c.position=function(){if(this.$()){var a=this.ya.qb();if(a){this.pa=a.Da;this.rp(a.Da-2*this.va,this.Ia-this.va);var b=a.lb,d=a.wb;this.qf==v.Cg&&(d+=a.hb-this.Ia);nk(this,this.pa,this.Ia,b,d)}}};
c.rp=function(a,b){var d=this.qf==v.Bf,e=["M 0,"+(d?0:this.va)];d?(e.push("h",a+2*this.va),e.push("v",b),e.push("a",this.va,this.va,0,0,1,-this.va,this.va),e.push("h",-1*a),e.push("a",this.va,this.va,0,0,1,-this.va,-this.va)):(e.push("a",this.va,this.va,0,0,1,this.va,-this.va),e.push("h",a),e.push("a",this.va,this.va,0,0,1,this.va,this.va),e.push("v",b),e.push("h",-a-2*this.va));e.push("z");this.ld.setAttribute("d",e.join(" "))};c.mp=function(){this.bc.set(this.v?Infinity:0)};
c.Kt=function(a){var b=a.deltaX;if(b){nb&&1===a.deltaMode&&(b*=10);var d=this.ff();b=d.Db+b;b=Math.min(b,d.Mc-d.Da);b=Math.max(b,0);this.bc.set(b);v.J.Na()}a.preventDefault();a.stopPropagation()};
c.os=function(a,b){this.o.scale=this.ya.scale;var d=this.sd,e=this.v?d:d+F;this.v&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Pc(h,!1),l=0,m;m=k[l];l++)m.rb=!0;h.na();k=h.ma();l=h.Kb();m=h.P?F:0;m=this.v?e+l.width:e+m;h.moveBy(m,d);m=sk(this,h,m,d,l,f);e+=l.width+b[f];pk(this,k,h,m)}else"button"==h.type&&(rk(this,h.button,e,d),e+=h.button.width+b[f])};c.ds=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.yr;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
c.di=function(){if(!this.B)return null;var a=this.B.getBoundingClientRect(),b=a.top;a=a.height;if(this.qf==v.Bf)return new Lf(-1E9,b-1E9,2E9,1E9+a);if(this.qf==v.Cg)return new Lf(-1E9,b,2E9,1E9+a)};c.ft=function(){this.o.scale=this.ya.scale;for(var a=0,b=zd(this.o,!1),d=0,e;e=b[d];d++)a=Math.max(a,e.Kb().height);a+=1.5*this.sd;a*=this.o.scale;a+=G;if(this.Ia!=a){for(d=0;e=b[d];d++)e.yl&&tk(this,e.yl,e);this.Ia=a;this.ya.resize()}};function Nf(a){a.qb=this.ff.bind(this);a.lg=this.Dm.bind(this);Nf.u.constructor.call(this,a);this.Pd=!1}r(Nf,mk);c=Nf.prototype;c.ff=function(){if(!this.$())return null;try{var a=this.o.Oa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.Bg,d=this.Ia-2*this.Bg,e=this.pa;this.v||(e-=this.Bg);return{hb:d,Da:e,tc:a.height*this.o.scale+2*this.sd,Mc:a.width*this.o.scale+2*this.sd,Ke:-this.o.scrollY+a.y,Db:-this.o.scrollX,uc:a.y,Lc:a.x,wb:b,lb:0}};
c.Dm=function(a){var b=this.ff();b&&("number"==typeof a.y&&(this.o.scrollY=-b.tc*a.y),this.o.translate(this.o.scrollX+b.lb,this.o.scrollY+b.wb))};c.position=function(){if(this.$()){var a=this.ya.qb();if(a){this.Ia=a.hb;this.rp(this.pa-this.va,a.hb-2*this.va);var b=a.wb,d=a.lb;this.qf==v.Hd&&(this.ax=d+=a.Da-this.pa);nk(this,this.pa,this.Ia,d,b)}}};
c.rp=function(a,b){var d=this.qf==v.Hd,e=a+this.va;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.va,this.va,0,0,d?0:1,d?-this.va:this.va,this.va);e.push("v",Math.max(0,b));e.push("a",this.va,this.va,0,0,d?0:1,d?this.va:-this.va,this.va);e.push("h",d?a:-a);e.push("z");this.ld.setAttribute("d",e.join(" "))};c.mp=function(){this.bc.set(0)};
c.Kt=function(a){var b=a.deltaY;if(b){nb&&1===a.deltaMode&&(b*=10);var d=this.ff();b=d.Ke-d.uc+b;b=Math.min(b,d.tc-d.hb);b=Math.max(b,0);this.bc.set(b);v.J.Na()}a.preventDefault();a.stopPropagation()};
c.os=function(a,b){this.o.scale=this.ya.scale;for(var d=this.sd,e=this.v?d:d+F,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Pc(h,!1),l=0,m;m=k[l];l++)m.rb=!0;h.na();k=h.ma();l=h.Kb();h.moveBy(e,d);m=sk(this,h,this.v?e-l.width:e,d,l,f);pk(this,k,h,m);d+=l.height+b[f]}else"button"==h.type&&(rk(this,h.button,e,d),d+=h.button.height+b[f])};c.ds=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.yr;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
c.di=function(){if(!this.B)return null;var a=this.B.getBoundingClientRect(),b=a.left;a=a.width;if(this.qf==v.Oe)return new Lf(b-1E9,-1E9,1E9+a,2E9);if(nb&&this.ya&&this.ya.ri){var d=this.ya.B.getBoundingClientRect().x;10>Math.abs(d-b)&&(b+=this.ax*this.ya.options.zb.scale)}return new Lf(b,-1E9,1E9+a,2E9)};
c.ft=function(){this.o.scale=this.ya.scale;for(var a=0,b=zd(this.o,!1),d=0,e;e=b[d];d++){var f=e.Kb().width;e.P&&(f-=F);a=Math.max(a,f)}for(d=0;e=this.hj[d];d++)a=Math.max(a,e.width);a+=1.5*this.sd+F;a*=this.o.scale;a+=G;if(this.pa!=a){for(d=0;e=b[d];d++)this.v&&(f=e.wa().x,e.moveBy(a/this.o.scale-this.sd-F-f,0)),e.yl&&tk(this,e.yl,e);if(this.v)for(d=0;e=this.hj[d];d++)b=e.Kr().y,e.moveTo(a/this.o.scale-e.width-this.sd-F,b);this.pa=a;this.ya.resize()}};function uk(a){Sh.call(this);this.ea=a;a=y?"focusout":"blur";this.ex=Ch(this.ea,y?"focusin":"focus",this,!y);this.gx=Ch(this.ea,a,this,!y)}r(uk,Sh);uk.prototype.handleEvent=function(a){var b=new nh(a.je);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};uk.prototype.Ib=function(){uk.u.Ib.call(this);Lh(this.ex);Lh(this.gx);delete this.ea};function vk(a,b){null!=a&&this.append.apply(this,arguments)}c=vk.prototype;c.Gb="";c.set=function(a){this.Gb=""+a};c.append=function(a,b,d){this.Gb+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.Gb+=arguments[e];return this};c.clear=function(){this.Gb=""};c.toString=function(){return this.Gb};function wk(a,b,d){Vh.call(this,d);this.cb=b||xk;a instanceof bc||(a=ec(a),a=fc(dc(a).replace(/(\r\n|\r|\n)/g,"<br>"),a.gi()));this.Oj=a;this.uj=this.op=!1;this.ny=null;this.fv=lc;this.Uj=!0;this.ol=-1}r(wk,Vh);var yk={};c=wk.prototype;c.Ib=function(){wk.u.Ib.call(this);this.qg&&(this.qg.removeNode(this),this.qg=null);this.ea=null};
c.Vl=function(){var a=this.K();if(a){var b=zk(this);b&&!b.id&&(b.id=this.ga()+".label");fi(a,"treeitem");gi(a,"selected",!1);gi(a,"level",this.ei());b&&gi(a,"labelledby",b.id);(b=this.Fl())&&fi(b,"presentation");(b=this.El())&&fi(b,"presentation");if(b=Ak(this))if(fi(b,"group"),b.hasChildNodes())for(gi(a,"expanded",!1),a=ai(this),b=1;b<=a;b++){var d=N(this,b-1).K();gi(d,"setsize",a);gi(d,"posinset",b)}}};
c.la=function(){var a=this.Ld();var b=this.Km();var d=a.ie;a=d.createElement("DIV");y?(oc(a,kc(mc,b)),a.removeChild(a.firstChild)):oc(a,b);if(1==a.childNodes.length)b=a.removeChild(a.firstChild);else for(b=d.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);this.ea=b};c.Yb=function(){wk.u.Yb.call(this);yk[this.ga()]=this;this.Vl()};c.Ad=function(){wk.u.Ad.call(this);delete yk[this.ga()]};
c.Th=function(a,b){var d=N(this,b-1),e=N(this,b);wk.u.Th.call(this,a,b);a.Vd=d;a.Td=e;d?d.Td=a:this.Er=a;e?e.Vd=a:this.js=a;(b=this.zc())&&Bk(a,b);Ck(a,this.ei()+1);if(b=this.K())if(this.Qi(),gi(b,"expanded",this.xc()),this.xc()){b=Ak(this);a.K()||a.la();var f=a.K(),h=e&&e.K();b.insertBefore(f,h);this.Ga&&a.Yb();e||(d?d.Qi():(Gg(b,!0),this.Wd(this.xc())))}};c.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Th(a,b?di(this,b):ai(this));return a};
c.removeChild=function(a){var b=this.zc(),d=b?b.Gc:null;if(d==a||a.contains(d))if(b.hasFocus()){this.select();d=this.Nx;if(ra(d))this&&(d=ya(d,this));else if(d&&"function"==typeof d.handleEvent)d=ya(d.handleEvent,d);else throw Error("Invalid listener argument");2147483647<Number(10)||g.setTimeout(d,10)}else this.select();wk.u.removeChild.call(this,a);this.js==a&&(this.js=a.Vd);this.Er==a&&(this.Er=a.Td);a.Vd&&(a.Vd.Td=a.Td);a.Td&&(a.Td.Vd=a.Vd);d=!a.Td;a.qg=null;a.ol=-1;if(b&&(b.removeNode(a),this.Ga)){b=
Ak(this);if(a.Ga){var e=a.K();b.removeChild(e);a.Ad()}d&&(d=N(this,ai(this)-1))&&d.Qi();ci(this)||(b.style.display="none",this.Qi(),this.Fl().className=this.Bl(),(b=this.K())&&b.removeAttribute("aria-expanded"))}return a};c.remove=wk.prototype.removeChild;c.Nx=function(){this.select()};c.ei=function(){var a=this.ol;0>a&&(a=(a=this.getParent())?a.ei()+1:0,Ck(this,a));return a};
function Ck(a,b){if(b!=a.ol){a.ol=b;var d=Dk(a);if(d){var e=Ek(a)+"px";bi(a)?d.style.paddingRight=e:d.style.paddingLeft=e}$h(a,function(a){Ck(a,b+1)})}}c.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};c.If=function(){var a=[];$h(this,function(b){a.push(b)});return a};c.bm=function(){return this.op};c.select=function(){var a=this.zc();a&&a.mg(this)};
function Fk(a,b){if(a.op!=b){a.op=b;Gk(a);var d=a.K();d&&(gi(d,"selected",b),b&&(b=a.zc().K(),gi(b,"activedescendant",a.ga())))}}c.xc=function(){return this.uj};
c.Wd=function(a){var b=a!=this.uj;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.uj=a;var d=this.zc();var e=this.K();if(ci(this)){if(!a&&d&&this.contains(d.Gc)&&this.select(),e){if(d=Ak(this))if(Gg(d,a),gi(e,"expanded",a),a&&this.Ga&&!d.hasChildNodes()){var f=[];$h(this,function(a){f.push(a.Km())});oc(d,kc(f));$h(this,function(a){a.Yb()})}this.Qi()}}else(d=Ak(this))&&Gg(d,!1);e&&(this.Fl().className=this.Bl());b&&this.dispatchEvent(a?"expand":"collapse")}};c.toggle=function(){this.Wd(!this.xc())};
c.expand=function(){this.Wd(!0)};c.collapse=function(){this.Wd(!1)};c.lp=function(){var a=this.getParent();a&&(a.Wd(!0),a.lp())};c.Km=function(){var a=this.zc(),b=!a.wk||a==this.getParent()&&!a.Ep?this.cb.Uq:this.cb.Tq;a=this.xc()&&ci(this);b={"class":b,style:Hk(this)};var d=[];a&&$h(this,function(a){d.push(a.Km())});a=jc("div",b,d);return jc("div",{"class":this.cb.er,id:this.ga()},[Ik(this),a])};function Ek(a){return Math.max(0,(a.ei()-1)*a.cb.oo)}
function Ik(a){var b={};b["padding-"+(bi(a)?"right":"left")]=Ek(a)+"px";b={"class":a.Dj(),style:b};var d=a.Xn(),e=jc("span",{style:{display:"inline-block"},"class":a.Bl()}),f=jc("span",{"class":a.cb.gr,title:a.ny||null},a.Oj);a=kc(f,jc("span",{},a.fv));return jc("div",b,[d,e,a])}c.Dj=function(){return this.cb.zn+(this.bm()?" "+this.cb.jr:"")};c.Xn=function(){return jc("span",{type:"expand",style:{display:"inline-block"},"class":Jk(this)})};
function Jk(a){var b=a.zc(),d=!b.wk||b==a.getParent()&&!b.Ep,e=a.cb,f=new vk;f.append(e.Ig," ",e.Ov," ");if(ci(a)){var h=0;b.Cp&&a.Uj&&(h=a.xc()?2:1);d||(h=a.Td?h+8:h+4);switch(h){case 1:f.append(e.Sv);break;case 2:f.append(e.Rv);break;case 4:f.append(e.Zq);break;case 5:f.append(e.Qv);break;case 6:f.append(e.Pv);break;case 8:f.append(e.$q);break;case 9:f.append(e.Uv);break;case 10:f.append(e.Tv);break;default:f.append(e.Yq)}}else d?f.append(e.Yq):a.Td?f.append(e.$q):f.append(e.Zq);return f.toString()}
function Hk(a){var b=a.xc()&&ci(a);return Ub({"background-position":Kk(a),display:b?null:"none"})}function Kk(a){return(a.Td?(a.ei()-1)*a.cb.oo:"-100")+"px 0"}c.K=function(){var a=wk.u.K.call(this);a||(this.ea=a=this.Ld().K(this.ga()));return a};function Dk(a){return(a=a.K())?a.firstChild:null}c.El=function(){var a=Dk(this);return a?a.firstChild:null};c.Fl=function(){var a=Dk(this);return a?a.childNodes[1]:null};function zk(a){return(a=Dk(a))&&a.lastChild?a.lastChild.previousSibling:null}
function Ak(a){return(a=a.K())?a.lastChild:null}c.sb=function(a){this.Oj=a=ec(a);var b=zk(this);b&&oc(b,a);(a=this.zc())&&Lk(a,this)};c.yb=function(){var a=dc(this.Oj);return-1!=a.indexOf("&")?"document"in g?Wa(a):Ya(a):a};function Gk(a){var b=Dk(a);b&&(b.className=a.Dj())}c.Qi=function(){var a=this.El();a&&(a.className=Jk(this));if(a=Ak(this))a.style.backgroundPosition=Kk(this)};c.Os=function(a){"expand"==a.target.getAttribute("type")&&ci(this)?this.Uj&&this.toggle():(this.select(),Gk(this))};
c.dk=function(a){a.preventDefault()};c.Ls=function(a){"expand"==a.target.getAttribute("type")&&ci(this)||this.Uj&&this.toggle()};
c.No=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;ci(this)&&(this.xc()?N(this,0).select():this.Wd(!0));break;case 37:if(a.altKey)break;if(ci(this)&&this.xc()&&this.Uj)this.Wd(!1);else{var d=this.getParent(),e=this.zc();d&&(e.sh||d!=e)&&d.select()}break;case 40:a:if(ci(this)&&this.xc())d=N(this,0);else{for(d=this;d!=this.zc();){e=d.Td;if(null!=e){d=e;break a}d=d.getParent()}d=null}d&&d.select();break;case 38:d=this.Vd;null!=d?d=Mk(d):(d=this.getParent(),e=this.zc(),d=!e.sh&&d==
e||this==e?null:d);d&&d.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.zc())&&e.Gk.clear());return b};function Mk(a){return a.xc()&&ci(a)?Mk(N(a,ai(a)-1)):a}function Bk(a,b){a.qg!=b&&(a.qg=b,Lk(b,a),$h(a,function(a){Bk(a,b)}))}
var xk={oo:19,ir:"goog-tree-root goog-tree-item",dr:"goog-tree-hide-root",er:"goog-tree-item",Tq:"goog-tree-children",Uq:"goog-tree-children-nolines",zn:"goog-tree-row",gr:"goog-tree-item-label",Ig:"goog-tree-icon",Ov:"goog-tree-expand-icon",Sv:"goog-tree-expand-icon-plus",Rv:"goog-tree-expand-icon-minus",Uv:"goog-tree-expand-icon-tplus",Tv:"goog-tree-expand-icon-tminus",Qv:"goog-tree-expand-icon-lplus",Pv:"goog-tree-expand-icon-lminus",$q:"goog-tree-expand-icon-t",Zq:"goog-tree-expand-icon-l",Yq:"goog-tree-expand-icon-blank",
xn:"goog-tree-expanded-folder-icon",Wq:"goog-tree-collapsed-folder-icon",yn:"goog-tree-file-icon",cr:"goog-tree-expanded-folder-icon",Xq:"goog-tree-collapsed-folder-icon",jr:"selected"};function Nk(a,b,d){wk.call(this,a,b,d)}r(Nk,wk);Nk.prototype.zc=function(){if(this.qg)return this.qg;var a=this.getParent();return a&&(a=a.zc())?(Bk(this,a),a):null};Nk.prototype.Bl=function(){var a=this.xc(),b=this.jw;if(a&&b)return b;b=this.Pw;if(!a&&b)return b;b=this.cb;if(ci(this)){if(a&&b.xn)return b.Ig+" "+b.xn;if(!a&&b.Wq)return b.Ig+" "+b.Wq}else if(b.yn)return b.Ig+" "+b.yn;return""};function Ok(a){if(a.Fj&&"function"==typeof a.Fj)return a.Fj();if(n(a))return a.split("");if(qa(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}b=[];d=0;for(e in a)b[d++]=a[e];return b};function Pk(a){this.kb=void 0;this.gc={};if(a){if(a.Il&&"function"==typeof a.Il)var b=a.Il();else if(a.Fj&&"function"==typeof a.Fj)b=void 0;else if(qa(a)||n(a)){b=[];for(var d=a.length,e=0;e<d;e++)b.push(e)}else for(e in b=[],d=0,a)b[d++]=e;a=Ok(a);for(d=0;d<b.length;d++)this.set(b[d],a[d])}}c=Pk.prototype;c.set=function(a,b){Qk(this,a,b,!1)};c.add=function(a,b){Qk(this,a,b,!0)};
function Qk(a,b,d,e){for(var f=0;f<b.length;f++){var h=b.charAt(f);a.gc[h]||(a.gc[h]=new Pk);a=a.gc[h]}if(e&&void 0!==a.kb)throw Error('The collection already contains the key "'+b+'"');a.kb=d}c.get=function(a){a:{for(var b=this,d=0;d<a.length;d++)if(b=b.gc[a.charAt(d)],!b){a=void 0;break a}a=b}return a?a.kb:void 0};c.Fj=function(){var a=[];Rk(this,a);return a};function Rk(a,b){void 0!==a.kb&&b.push(a.kb);for(var d in a.gc)Rk(a.gc[d],b)}
c.Il=function(a){var b=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.gc[f])return[];d=d.gc[f]}Sk(d,a,b)}else Sk(this,"",b);return b};function Sk(a,b,d){void 0!==a.kb&&d.push(b);for(var e in a.gc)Sk(a.gc[e],b+e,d)}c.clear=function(){this.gc={};this.kb=void 0};
c.remove=function(a){for(var b=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.gc[f])throw Error('The collection does not have the key "'+a+'"');d.push([b,f]);b=b.gc[f]}a=b.kb;for(delete b.kb;0<d.length;)if(f=d.pop(),b=f[0],f=f[1],b.gc[f].fs())delete b.gc[f];else break;return a};c.clone=function(){return new Pk(this)};c.fs=function(){var a;if(a=void 0===this.kb)a:{for(var b in this.gc){a=!1;break a}a=!0}return a};function Tk(){this.eh=new Pk;this.Gb="";this.im=this.Bo=null;this.xi=this.Zj=0}function Uk(a,b){var d=b.yb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.eh.get(d);if(e){for(var f=ai(b),h=0;h<f;h++)Uk(a,N(b,h));Ha(e,b);e.length||a.eh.remove(d)}}}function Vk(a,b){var d=!1;(b=a.eh.Il(b))&&b.length&&(a.xi=0,a.Zj=0,d=a.eh.get(b[0]),d=Wk(a,d))&&(a.Bo=b);return d}function Wk(a,b){if(b){if(a.xi<b.length){var d=b[a.xi];a.im=b}d&&(d.lp(),d.select())}return!!d}
Tk.prototype.clear=function(){this.Gb=""};function Xk(a,b,d){wk.call(this,a,b,d);this.uj=!0;Fk(this,!0);this.Gc=this;this.Gk=new Tk;this.Qn=this.nc=null;this.wj=!1;this.pw=null;this.Ep=this.sh=this.Cp=this.wk=!0;if(y)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}r(Xk,wk);c=Xk.prototype;c.zc=function(){return this};c.ei=function(){return 0};c.lp=function(){};c.Cw=function(){this.wj=!0;ui(this.K(),"focused");this.Gc&&this.Gc.select()};c.xw=function(){this.wj=!1;wi(this.K(),"focused")};c.hasFocus=function(){return this.wj};
c.xc=function(){return!this.sh||Xk.u.xc.call(this)};c.Wd=function(a){this.sh?Xk.u.Wd.call(this,a):this.uj=a};c.Xn=function(){return lc};c.Fl=function(){var a=Dk(this);return a?a.firstChild:null};c.El=function(){return null};c.Qi=function(){};c.Dj=function(){return Xk.u.Dj.call(this)+(this.sh?"":" "+this.cb.dr)};c.Bl=function(){var a=this.xc(),b=this.jw;if(a&&b)return b;b=this.Pw;if(!a&&b)return b;b=this.cb;return a&&b.cr?b.Ig+" "+b.cr:!a&&b.Xq?b.Ig+" "+b.Xq:""};
c.mg=function(a){if(this.Gc!=a){var b=!1;this.Gc&&(b=this.Gc==this.pw,Fk(this.Gc,!1));if(this.Gc=a)Fk(a,!0),b&&a.select();this.dispatchEvent("change")}};function Yk(a){0!=a.wk&&(a.wk=!1,a.Ga&&Zk(a))}function Zk(a){function b(a){var h=Ak(a);if(h){var l=!e||d==a.getParent()&&!f?a.cb.Uq:a.cb.Tq;h.className=l;if(h=a.El())h.className=Jk(a)}$h(a,b)}var d=a,e=d.wk,f=d.Ep;b(a)}function $k(a){0!=a.Cp&&(a.Cp=!1,a.Ga&&Zk(a))}
function al(a){if(0!=a.sh){a.sh=!1;if(a.Ga){var b=Dk(a);b&&(b.className=a.Dj())}a.Gc==a&&N(a,0)&&a.mg(N(a,0))}}c.Vl=function(){Xk.u.Vl.call(this);var a=this.K();fi(a,"tree");gi(a,"labelledby",zk(this).id)};
c.Yb=function(){Xk.u.Yb.call(this);var a=this.K();a.className=this.cb.ir;a.setAttribute("hideFocus","true");a=this.K();a.tabIndex=0;var b=this.nc=new li(a),d=this.Qn=new uk(a);Yh(this).Ba(d,"focusout",this.xw).Ba(d,"focusin",this.Cw).Ba(b,"key",this.Nd).Ba(a,"mousedown",this.eo).Ba(a,"click",this.eo).Ba(a,"dblclick",this.eo);this.Vl()};c.Ad=function(){Xk.u.Ad.call(this);this.nc.C();this.nc=null;this.Qn.C();this.Qn=null};
c.eo=function(a){var b=bl(this,a);if(b)switch(a.type){case "mousedown":b.Os(a);break;case "click":b.dk(a);break;case "dblclick":b.Ls(a)}};
c.Nd=function(a){var b=this.Gk;var d=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){d=40==a.keyCode?1:-1;var e=b.Bo;if(e){var f=null,h=!1;if(b.im){var k=b.xi+d;0<=k&&k<b.im.length?(b.xi=k,f=b.im):h=!0}f||(k=b.Zj+d,0<=k&&k<e.length&&(b.Zj=k),e.length>b.Zj&&(f=b.eh.get(e[b.Zj])),f&&f.length&&h&&(b.xi=-1==d?f.length-1:0));Wk(b,f)&&(b.Bo=e)}d=!0}break;case 8:e=b.Gb.length-1;d=!0;0<e?(b.Gb=b.Gb.substring(0,e),Vk(b,b.Gb)):0==e?b.Gb="":d=!1;break;case 27:b.Gb="",d=!0}(b=d||this.Gc&&this.Gc.No(a))||(b=
this.Gk,d=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.Gb)&&(b.Gb+=e,d=Vk(b,b.Gb))),b=d);b&&a.preventDefault();return b};function bl(a,b){for(var d=b.target;null!=d;){if(b=yk[d.id])return b;if(d==a.K())break;d=d.parentNode}return null}c.createNode=function(a){return new Nk(a||lc,this.cb,this.Ld())};
function Lk(a,b){a=a.Gk;var d=b.yb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.eh.get(d);e?e.push(b):a.eh.set(d,[b])}}c.removeNode=function(a){Uk(this.Gk,a)};function gg(a){this.o=a;this.v=a.options.v;this.Pd=a.options.qe;this.Fa=a.options.Fa;this.cb={oo:19,ir:"blocklyTreeRoot",dr:"blocklyHidden",er:"",zn:"blocklyTreeRow",gr:"blocklyTreeLabel",Ig:"blocklyTreeIcon",xn:"blocklyTreeIconOpen",yn:"blocklyTreeIconNone",jr:"blocklyTreeSelected"};this.Dt={zn:"blocklyTreeSeparator"};this.Pd&&(this.cb.cssTreeRow+=a.v?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Dt.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.v?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.cb.cssTreeIcon="")}c=gg.prototype;c.width=0;c.height=0;c.Vj=null;
c.S=function(){var a=this.o,b=H(this.o);this.pc=document.createElement("div");this.pc.className="blocklyToolboxDiv";this.pc.setAttribute("dir",a.v?"RTL":"LTR");b.parentNode.insertBefore(this.pc,b);v.U(this.pc,"mousedown",this,function(a){v.j.Vf(a)||a.target==this.pc?v.Tb(!1):v.Tb(!0);v.Touch.Ve()},!1,!0);b={Lg:a.options.Lg,zb:a,v:a.v,Qc:a.options.Qc,qe:a.qe,Fa:a.options.Fa};this.I=null;this.I=a.qe?new lg(b):new Nf(b);v.j.Wg(this.I.la("svg"),H(this.o));this.I.S(a);this.cb.cleardotPath=a.options.Ud+
"1x1.gif";this.cb.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.v?"Rtl":"Ltr");this.Ed=b=new cl(this,this.cb);al(b);Yk(b);$k(b);b.mg(null);a=this.um(a.options.te);b.na(this.pc);a&&b.mg(a);pg(this);this.position()};c.C=function(){this.I.C();this.Ed.C();v.j.removeNode(this.pc);this.Vj=this.o=null};c.fd=function(){return this.width};c.ii=function(){return this.height};
c.position=function(){var a=this.pc;if(a){var b=H(this.o);b=v.At(b);this.Pd?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.Fa==v.Bf?a.style.top="0":a.style.bottom="0"):(this.Fa==v.Hd?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.I.position()}};
c.um=function(a){this.Ed.gt();this.Ed.ee=[];this.jo=!1;a=dl(this,a,this.Ed,this.o.options.Ud);if(this.Ed.ee.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Ld(this.o);return a};
function dl(a,b,d,e){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=v.j.ac(l.getAttribute("name"));var m=a.Ed.createNode(h);m.ee=[];d.add(m);var p=l.getAttribute("custom");p?m.ee=p:(p=dl(a,l,m,e))&&(f=p);p=v.j.ac(l.getAttribute("colour"));null===p||""===p?m.Lj="":/^#[0-9a-fA-F]{6}$/.test(p)?(m.Lj=p,a.jo=!0):"number"===typeof p||"string"===typeof p&&!isNaN(Number(p))?(m.Lj=v.Xr(Number(p)),a.jo=!0):(m.Lj="",console.warn('Toolbox category "'+
h+'" has unrecognized colour attribute: '+p));"true"==l.getAttribute("expanded")?(m.ee.length&&(f=m),m.Wd(!0)):m.Wd(!1);h=l;break;case "SEP":h&&("CATEGORY"==h.tagName.toUpperCase()?d.add(new el(a.Dt)):(l=parseFloat(l.getAttribute("gap")),!isNaN(l)&&h&&h.setAttribute("gap",l)));break;case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.ee.push(l),h=l}return f}
function pg(a,b){b=(b||a.Ed).If(!1);for(var d=0,e;e=b[d];d++){var f=Dk(e);if(f){var h=a.jo?"8px solid "+(e.Lj||"#ddd"):"none";a.o.v?f.style.borderRight=h:f.style.borderLeft=h}pg(a,e)}}c.di=function(){if(!this.pc)return null;var a=this.pc.getBoundingClientRect(),b=a.left,d=a.top,e=a.width;a=a.height;return this.Fa==v.Oe?new Lf(-1E7,-1E7,1E7+b+e,2E7):this.Fa==v.Hd?new Lf(b,-1E7,1E7+e,2E7):this.Fa==v.Bf?new Lf(-1E7,-1E7,2E7,1E7+d+a):new Lf(0,d,2E7,1E7+e)};
function cl(a,b){this.ia=a;Xk.call(this,lc,b)}r(cl,Xk);cl.prototype.Yb=function(){cl.u.Yb.call(this);if(Uc){var a=this.K();v.U(a,"touchend",this,this.Kw)}};cl.prototype.Kw=function(a){var b=bl(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.dk(a)},1)};cl.prototype.createNode=function(a){a=a?ec(a):lc;return new fl(this.ia,a,this.cb,this.Ld())};
cl.prototype.mg=function(a){var b=this.ia;if(a!=this.Gc&&a!=b.Ed){b.Vj&&(Dk(b.Vj).style.backgroundColor="");if(a){var d=a.Lj||"#57e";Dk(a).style.backgroundColor=d;pg(b,a)}d=this.Gc;Xk.prototype.mg.call(this,a);a&&a.ee&&a.ee.length?(b.I.show(a.ee),b.Vj!=a&&b.I.mp()):b.I.Na();d!=a&&d!=this&&(d=new gd(null,"category",d&&dc(d.Oj),a&&dc(a.Oj)),d.Hc=b.o.id,v.m.Z(d));a&&(b.Vj=a)}};function fl(a,b,d,e){wk.call(this,b,d,e);a&&(b=function(){v.yh(a.o)},Ch(a.Ed,"expand",b),Ch(a.Ed,"collapse",b))}r(fl,Nk);c=fl.prototype;
c.Xn=function(){return jc("span")};c.dk=function(){ci(this)&&this.Uj?(this.toggle(),this.select()):this.bm()?this.zc().mg(null):this.select();Gk(this)};c.Os=function(){};c.Ls=function(){};c.No=function(a){if(this.qg.ia.Pd){var b={};b[39]=this.Ii?38:40;b[37]=this.Ii?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return fl.u.No.call(this,a)};function el(a){fl.call(this,null,lc,a)}r(el,fl);v.rd={};v.rd.iz="";v.rd.zt=null;v.rd.xs="";v.rd.Rf=function(a,b){if(!v.rd.zt){var d=".blocklyDraggable {}\n";a&&(d+=v.rd.Qt.join("\n"),v.du&&(d+=v.du.CSS.join("\n")));v.rd.xs=b.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,v.rd.xs);a=document.createElement("style");document.head.insertBefore(a,document.head.firstChild);a.appendChild(document.createTextNode(d));v.rd.zt=a.sheet}};v.rd.uz=function(){console.warn("Deprecated call to Blockly.Css.setCursor.See https://github.com/google/blockly/issues/981 for context")};
v.rd.Qt=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;",
"}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {",
"fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;",
"}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;",
"}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;",
"-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {",
"position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;",
"}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {",
"border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;",
"}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {",
"opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {",
"stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;",
"position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {",
"padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",
".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;",
"text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];v.J={};v.J.ka=null;v.J.fk=null;v.J.Zh=null;v.J.la=function(){v.J.ka||(v.J.ka=document.createElement("div"),v.J.ka.className="blocklyWidgetDiv",document.body.appendChild(v.J.ka))};v.J.show=function(a,b,d){v.J.Na();v.J.fk=a;v.J.Zh=d;v.J.ka.style.top=Oc().y+"px";v.J.ka.style.direction=b?"rtl":"ltr";v.J.ka.style.display="block"};v.J.Na=function(){v.J.fk&&(v.J.fk=null,v.J.ka.style.display="none",v.J.ka.style.left="",v.J.ka.style.top="",v.J.Zh&&v.J.Zh(),v.J.Zh=null,v.J.ka.innerHTML="")};v.J.$=function(){return!!v.J.fk};
v.J.Mj=function(a){v.J.fk==a&&v.J.Na()};v.J.position=function(a,b,d,e,f){b<e.y&&(b=e.y);f?a>d.width+e.x&&(a=d.width+e.x):a<e.x&&(a=e.x);v.J.Wo(a,b,d.height)};v.J.Wo=function(a,b,d){v.J.ka.style.left=a+"px";v.J.ka.style.top=b+"px";v.J.ka.style.height=d+"px"};v.J.Xo=function(a,b,d,e){var f=v.J.vv(a,b,d);a=v.J.uv(a,b,d,e);0>f?v.J.Wo(a,0,d.height+f):v.J.Wo(a,f,d.height)};
v.J.uv=function(a,b,d,e){if(e)return b=Math.max(b.right-d.width,a.left),Math.min(b,a.right-d.width);b=Math.min(b.left,a.right-d.width);return Math.max(b,a.left)};v.J.vv=function(a,b,d){return b.bottom+d.height>=a.bottom?b.top-d.height:b.bottom};function gl(a){this.lj=a;this.la()}c=gl.prototype;c.Aa=null;c.zd=null;c.lj=null;c.fg=1;c.zk=null;c.la=function(){this.Aa||(this.Aa=v.j.D("svg",{xmlns:v.Zm,"xmlns:html":v.yf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.lj),this.zd=v.j.D("g",{},this.Aa))};function Xe(a,b){if(a.zd.childNodes.length)throw Error("Already dragging a block.");a.zd.appendChild(b);a.Aa.style.display="block";a.zk=new A(0,0)}
c.sf=function(a,b){this.zk=new A(a*this.fg,b*this.fg);a=this.zk.x;b=this.zk.y;a=a.toFixed(0);b=b.toFixed(0);this.Aa.style.display="block";v.j.qk(this.Aa,"translate3d("+a+"px, "+b+"px, 0px)")};c.Ml=function(){var a=v.j.yc(this.Aa);return new A(a.x/this.fg,a.y/this.fg)};c.Rb=function(){return this.zd};
c.ij=function(a){a?a.appendChild(this.zd.firstChild):this.zd.removeChild(this.zd.firstChild);this.Aa.style.display="none";if(this.zd.childNodes.length)throw Error("Drag group was not cleared.");this.zk=null};v.Rf=function(a,b){v.xv();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!v.j.containsNode(document,a))throw Error("Error: container is not in current document.");b=new uf(b||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=v.nj(d,b);var e=new gl(d);d=new Vf(d);b=v.Lv(a,b,e,d);v.Tw(b);v.Xj=b;v.yh(b);return b};
v.nj=function(a,b){a.setAttribute("dir","LTR");Wh=b.v;v.rd.Rf(b.Mw,b.Ud);a=v.j.D("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a);var d=v.j.D("defs",{},a),e=String(Math.random()).substring(2),f=v.j.D("filter",{id:"blocklyEmbossFilter"+e},d);v.j.D("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=v.j.D("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,
specularExponent:10,"lighting-color":"white",result:"specOut"},f);v.j.D("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);v.j.D("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);v.j.D("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.Cr=f.id;f=v.j.D("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);v.j.D("rect",{width:10,height:10,fill:"#aaa"},f);v.j.D("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",
stroke:"#cc0"},f);b.Lg=f.id;f=b.Lr;d=v.j.D("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},d);0<f.length&&0<f.spacing?(v.j.D("line",{stroke:f.colour},d),1<f.length&&v.j.D("line",{stroke:f.colour},d)):v.j.D("line",{},d);b.Mr=d;return a};
v.Lv=function(a,b,d,e){b.zb=null;var f=new cg(b,d,e);f.scale=b.Pb.xt;a.appendChild(f.la("blocklyMainBackground"));!b.Pr&&b.te&&(d=kg(f,"svg"),v.j.Wg(d,a));b.Sr&&ig(f);b.Pb&&b.Pb.controls&&jg(f);f.translate(0,0);v.Xj=f;b.readOnly||b.Rr||f.Kc(function(a){if(!f.ob()){var d=f.qb(),e=d.Db+d.lb,h=d.Ke+d.wb;if(d.uc<h||d.uc+d.tc>d.hb+h||d.Lc<(b.v?d.Db:e)||d.Lc+d.Mc>(b.v?d.Da:d.Da+e)){var p=zd(f,!1),x=null;a&&(x=v.m.Rb(),v.m.R(a.group));for(var u=!1,q=0,t;t=p[q];q++){var w=t.wa(),J=t.Kb(),O=h+25-J.height-
w.y;0<O&&(t.moveBy(0,O),u=!0);O=h+d.hb-25-w.y;0>O&&(t.moveBy(0,O),u=!0);O=25+e-w.x-(b.v?0:J.width);0<O&&(t.moveBy(O,0),u=!0);w=e+d.Da-25-w.x+(b.v?J.width:0);0>w&&(t.moveBy(w,0),u=!0)}a&&(!a.group&&u&&console.log("WARNING: Moved blocks in bounds but there was no event group. This may break undo."),v.m.R(x))}}});v.yh(f);v.J.la();v.F.la();return f};
v.Tw=function(a){var b=a.options,d=H(a);v.U(d.parentNode,"contextmenu",null,function(a){v.j.cm(a)||a.preventDefault()});d=v.U(window,"resize",null,function(){v.Tb(!0);v.yh(a)});a.Bm=d;v.Rf.nv();b.te&&(a.ia?a.ia.S(a):a.I&&(a.I.S(a),a.I.show(b.te.childNodes),a.I.mp(),a.scrollX=a.I.pa,b.Fa==v.Hd&&(a.scrollX*=-1),a.translate(a.scrollX,0)));d=G;b.Sr&&(d=a.dc.S(d));b.Pb&&b.Pb.controls&&a.Hh.S(d);b.Rr&&(a.jb=new wf(a),a.jb.resize());b.Nw&&v.Rf.ix(b.Ud,a)};
v.Rf.nv=function(){v.fw||(v.U(document,"keydown",null,v.Bx),v.Vb(document,"touchend",null,v.Yf),v.Vb(document,"touchcancel",null,v.Yf),sb&&v.U(window,"orientationchange",document,function(){v.yh(v.ji())}));v.fw=!0};
v.Rf.ix=function(a,b){function d(){for(;f.length;)v.Pa(f.pop());e.preload()}var e=b.ce;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(v.U(document,"mousemove",null,d,!0));f.push(v.U(document,"touchstart",null,d,!0))};
v.Ft=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");v.ji().Ft(a)};v.Xj=null;v.selected=null;v.sj=[];v.jj=null;v.hl=null;v.qn=null;v.fz=null;v.Xr=function(a){var b=v.ju,d=255*v.ku,e=0,f=0,h=0;if(0==b)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-b);var m=d*(1-b*l);b=d*(1-b*(1-l));switch(k){case 1:e=m;f=d;h=a;break;case 2:e=a;f=d;h=b;break;case 3:e=a;f=m;h=d;break;case 4:e=b;f=a;h=d;break;case 5:e=d;f=a;h=m;break;case 6:case 0:e=d,f=b,h=a}}return sj([Math.floor(e),Math.floor(f),Math.floor(h)])};v.At=function(a){return{width:a.zq,height:a.xq}};v.sz=function(a){Ld(a)};
v.yh=function(a){for(;a.options.zb;)a=a.options.zb;var b=H(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;b.zq!=e&&(b.setAttribute("width",e+"px"),b.zq=e);b.xq!=d&&(b.setAttribute("height",d+"px"),b.xq=d);a.resize()}};
v.Bx=function(a){var b=v.Xj;if(!(b.options.readOnly||v.j.cm(a)||b.T&&!b.$())){var d=!1;if(27==a.keyCode)v.Tb();else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(b.ob())return;v.selected&&v.selected.mc()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(b.ob())return;v.selected&&v.selected.mc()&&v.selected.Rd()&&(67==a.keyCode?(v.Tb(),v.wn(v.selected)):88!=a.keyCode||v.selected.s.Qd||(v.wn(v.selected),d=!0));86==a.keyCode?v.jj&&(b=v.hl,b.Qd&&(b=b.zh),v.qn&&Rd(b,v.qn)&&(v.m.R(!0),mg(b),v.m.R(!1))):
90==a.keyCode&&(v.Tb(),b.Op(a.shiftKey))}d&&!v.selected.s.Qd&&(v.m.R(!0),v.Tb(),v.selected.C(!0,!0),v.m.R(!1))}};v.wn=function(a){if(a.so)var b=a.Ek();else{b=v.w.Df(a);v.w.aw(b);var d=a.wa();b.setAttribute("x",a.v?-d.x:d.x);b.setAttribute("y",d.y)}v.jj=b;v.hl=a.s;v.qn=a.so?null:v.j.Tn(a,!0)};v.Ar=function(a){var b=v.jj,d=v.hl;v.wn(a);mg(a.s);v.jj=b;v.hl=d};v.rz=function(a){v.j.cm(a)||a.preventDefault()};
v.Tb=function(a){v.F.Na();v.J.Na();var b=v.ji();b.dc&&b.dc.I&&b.dc.I.Na();a||b.ia&&b.ia.I&&b.ia.I.Vh&&b.ia.Ed.mg(null)};v.Kc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return v.ji().Kc(a)};v.ji=function(){return v.Xj};v.alert=function(a,b){window.alert(a);b&&b()};v.confirm=function(a,b){b(window.confirm(a))};v.prompt=function(a,b,d){d(window.prompt(a,b))};v.Zw=function(a){return function(){ch(this,a)}};
v.Jg=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(v.L[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),v.L[e]={S:v.Zw(d)})}else console.warn("Block definition #"+b+" in JSON array is "+d+". Skipping.")}};
v.U=function(a,b,d,e,f,h){function k(a){var b=!f;a=v.Touch.$x(a);for(var h=0,k;k=a[h];h++)if(!b||v.Touch.Bp(k))v.Touch.Xx(k),d?e.call(d,k):e(k),l=!0}var l=!1,m=[];if(g.PointerEvent&&b in v.Touch.ae)for(var p=0,x;x=v.Touch.ae[b][p];p++)a.addEventListener(x,k,!1),m.push([a,x,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in v.Touch.ae){var u=function(a){k(a);var b=!h;l&&b&&a.preventDefault()};for(p=0;x=v.Touch.ae[b][p];p++)a.addEventListener(x,u,!1),m.push([a,x,u])}return m};
v.Vb=function(a,b,d,e){function f(a){d?e.call(d,a):e(a)}var h=[],k=g.window;if(k&&k.PointerEvent&&b in v.Touch.ae){k=0;for(var l;l=v.Touch.ae[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f])}else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in v.Touch.ae){var m=function(a){if(a.changedTouches&&1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}f(a);a.preventDefault()};for(k=0;l=v.Touch.ae[b][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
v.Pa=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};v.Cc=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};
v.xv=function(){v.fc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);v.fc("LOGIC_HUE",["Constants","Logic","HUE"],210);v.fc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);v.fc("LOOPS_HUE",["Constants","Loops","HUE"],120);v.fc("MATH_HUE",["Blocks","math","HUE"],void 0);v.fc("MATH_HUE",["Constants","Math","HUE"],230);v.fc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);v.fc("TEXTS_HUE",["Constants","Text","HUE"],160);v.fc("LISTS_HUE",["Blocks","lists","HUE"],void 0);v.fc("LISTS_HUE",["Constants","Lists","HUE"],
260);v.fc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);v.fc("COLOUR_HUE",["Constants","Colour","HUE"],20);v.fc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);v.fc("VARIABLES_HUE",["Constants","Variables","HUE"],330);v.fc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);v.fc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
v.fc=function(a,b,d){for(var e="Blockly",f=v,h=0;h<b.length;++h)e+="."+b[h],f&&(f=f[b[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};g.console||(g.console={log:function(){},warn:function(){}});g.Blockly||(g.Blockly={});g.Blockly.getMainWorkspace=v.ji;g.Blockly.addChangeListener=v.Kc;function hl(a,b){var d=a.className;d=n(d)&&d.match(/\S+/g)||[];for(var e=La(arguments,1),f=0;f<e.length;f++)Ga(d,e[f])||d.push(e[f]);d=d.join(" ");a.className=d};var il={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fr:"Fran\u00e7ais",gl:"Galego",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",
hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",id:"Bahasa Indonesia",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",
sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",vi:"Ti\u1ebfng Vi\u1ec7t","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},jl="ace ar fa he mzn ps".split(" "),kl=window.BlocklyGamesLang,ll=window.BlocklyGamesLanguages,ml=!!window.location.pathname.match(/\.html$/),bk=null;
function nl(){return-1!=jl.indexOf(kl)}var R,ol=Number,pl,ql=window.location.search.match(/[?&]level=([^&]+)/);pl=ql?decodeURIComponent(ql[1].replace(/\+/g,"%20")):"NaN";var rl=ol(pl);R=isNaN(rl)?1:Math.min(Math.max(1,rl),10);
function sl(){document.title=document.getElementById("title").textContent;document.dir=nl()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",kl);var a=document.getElementById("languageMenu");if(a){for(var b=[],d=0;d<ll.length;d++){var e=ll[d];b.push([il[e],e])}b.sort(function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0});for(d=a.options.length=0;d<b.length;d++){var f=b[d];e=f[1];f=new Option(f[0],e);e==kl&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),b=!!tl(d),a&&b&&hl(a,"level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(ul,1)}function tl(a){var b=vl;try{var d=window.localStorage[b+a]}catch(e){}return d}function S(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function wl(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function ul(){if(!ml){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(b){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};v.g.lz={};v.g.ADD_COMMENT="Add Comment";v.g.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";v.g.CHANGE_VALUE_TITLE="Change value:";v.g.CLEAN_UP="Clean up Blocks";v.g.COLLAPSE_ALL="Collapse Blocks";v.g.COLLAPSE_BLOCK="Collapse Block";v.g.COLOUR_BLEND_COLOUR1="colour 1";v.g.COLOUR_BLEND_COLOUR2="colour 2";v.g.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/";v.g.COLOUR_BLEND_RATIO="ratio";
v.g.COLOUR_BLEND_TITLE="blend";v.g.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";v.g.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";v.g.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";v.g.COLOUR_RANDOM_HELPURL="http://randomcolour.com";v.g.COLOUR_RANDOM_TITLE="random colour";v.g.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";v.g.COLOUR_RGB_BLUE="blue";v.g.COLOUR_RGB_GREEN="green";v.g.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html";
v.g.COLOUR_RGB_RED="red";v.g.COLOUR_RGB_TITLE="colour with";v.g.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";v.g.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";v.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";v.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";v.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";
v.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";v.g.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";v.g.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";v.g.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";v.g.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";v.g.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";
v.g.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";v.g.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";v.g.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";v.g.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";v.g.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";v.g.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";
v.g.CONTROLS_IF_MSG_ELSE="else";v.g.CONTROLS_IF_MSG_ELSEIF="else if";v.g.CONTROLS_IF_MSG_IF="if";v.g.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";v.g.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";v.g.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";v.g.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
v.g.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";v.g.CONTROLS_REPEAT_INPUT_DO="do";v.g.CONTROLS_REPEAT_TITLE="repeat %1 times";v.g.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";v.g.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";v.g.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";v.g.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";v.g.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";
v.g.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";v.g.DELETE_ALL_BLOCKS="Delete all %1 blocks?";v.g.DELETE_BLOCK="Delete Block";v.g.DELETE_VARIABLE="Delete the '%1' variable";v.g.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";v.g.DELETE_X_BLOCKS="Delete %1 Blocks";v.g.DISABLE_BLOCK="Disable Block";v.g.DUPLICATE_BLOCK="Duplicate";v.g.DUPLICATE_COMMENT="Duplicate Comment";v.g.ENABLE_BLOCK="Enable Block";v.g.EXPAND_ALL="Expand Blocks";
v.g.EXPAND_BLOCK="Expand Block";v.g.EXTERNAL_INPUTS="External Inputs";v.g.HELP="Help";v.g.INLINE_INPUTS="Inline Inputs";v.g.IOS_CANCEL="Cancel";v.g.IOS_ERROR="Error";v.g.IOS_OK="OK";v.g.IOS_PROCEDURES_ADD_INPUT="+ Add Input";v.g.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";v.g.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";v.g.IOS_PROCEDURES_INPUTS="INPUTS";v.g.IOS_VARIABLES_ADD_BUTTON="Add";v.g.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";
v.g.IOS_VARIABLES_DELETE_BUTTON="Delete";v.g.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";v.g.IOS_VARIABLES_RENAME_BUTTON="Rename";v.g.IOS_VARIABLES_VARIABLE_NAME="Variable name";v.g.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";v.g.LISTS_CREATE_EMPTY_TITLE="create empty list";v.g.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";v.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";
v.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";v.g.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.g.LISTS_CREATE_WITH_INPUT_WITH="create list with";v.g.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";v.g.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";v.g.LISTS_GET_INDEX_FIRST="first";v.g.LISTS_GET_INDEX_FROM_END="# from end";v.g.LISTS_GET_INDEX_FROM_START="#";
v.g.LISTS_GET_INDEX_GET="get";v.g.LISTS_GET_INDEX_GET_REMOVE="get and remove";v.g.LISTS_GET_INDEX_LAST="last";v.g.LISTS_GET_INDEX_RANDOM="random";v.g.LISTS_GET_INDEX_REMOVE="remove";v.g.LISTS_GET_INDEX_TAIL="";v.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";
v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";
v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";v.g.LISTS_GET_SUBLIST_END_FROM_END="to # from end";v.g.LISTS_GET_SUBLIST_END_FROM_START="to #";v.g.LISTS_GET_SUBLIST_END_LAST="to last";v.g.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";
v.g.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";v.g.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";v.g.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";v.g.LISTS_GET_SUBLIST_TAIL="";v.g.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";v.g.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";v.g.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";v.g.LISTS_INDEX_OF_FIRST="find first occurrence of item";
v.g.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";v.g.LISTS_INDEX_OF_LAST="find last occurrence of item";v.g.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";v.g.LISTS_INLIST="in list";v.g.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";v.g.LISTS_ISEMPTY_TITLE="%1 is empty";v.g.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";
v.g.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";v.g.LISTS_LENGTH_TITLE="length of %1";v.g.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";v.g.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.g.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";v.g.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";v.g.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";
v.g.LISTS_REVERSE_MESSAGE0="reverse %1";v.g.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";v.g.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";v.g.LISTS_SET_INDEX_INPUT_TO="as";v.g.LISTS_SET_INDEX_INSERT="insert at";v.g.LISTS_SET_INDEX_SET="set";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";
v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";v.g.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";
v.g.LISTS_SORT_ORDER_ASCENDING="ascending";v.g.LISTS_SORT_ORDER_DESCENDING="descending";v.g.LISTS_SORT_TITLE="sort %1 %2 %3";v.g.LISTS_SORT_TOOLTIP="Sort a copy of a list.";v.g.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";v.g.LISTS_SORT_TYPE_NUMERIC="numeric";v.g.LISTS_SORT_TYPE_TEXT="alphabetic";v.g.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";v.g.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";v.g.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";
v.g.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";v.g.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";v.g.LISTS_SPLIT_WITH_DELIMITER="with delimiter";v.g.LOGIC_BOOLEAN_FALSE="false";v.g.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";v.g.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";v.g.LOGIC_BOOLEAN_TRUE="true";v.g.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";
v.g.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";v.g.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";v.g.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";v.g.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";v.g.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";
v.g.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";v.g.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";v.g.LOGIC_NEGATE_TITLE="not %1";v.g.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";v.g.LOGIC_NULL="null";v.g.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";v.g.LOGIC_NULL_TOOLTIP="Returns null.";v.g.LOGIC_OPERATION_AND="and";v.g.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";
v.g.LOGIC_OPERATION_OR="or";v.g.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";v.g.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";v.g.LOGIC_TERNARY_CONDITION="test";v.g.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";v.g.LOGIC_TERNARY_IF_FALSE="if false";v.g.LOGIC_TERNARY_IF_TRUE="if true";v.g.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";
v.g.MATH_ADDITION_SYMBOL="+";v.g.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";v.g.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";
v.g.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";v.g.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";v.g.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";v.g.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";v.g.MATH_CHANGE_TITLE="change %1 by %2";v.g.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";v.g.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";v.g.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
v.g.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";v.g.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";v.g.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";v.g.MATH_DIVISION_SYMBOL="\u00f7";v.g.MATH_IS_DIVISIBLE_BY="is divisible by";v.g.MATH_IS_EVEN="is even";v.g.MATH_IS_NEGATIVE="is negative";v.g.MATH_IS_ODD="is odd";v.g.MATH_IS_POSITIVE="is positive";v.g.MATH_IS_PRIME="is prime";v.g.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";
v.g.MATH_IS_WHOLE="is whole";v.g.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";v.g.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";v.g.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";v.g.MATH_MULTIPLICATION_SYMBOL="\u00d7";v.g.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";v.g.MATH_NUMBER_TOOLTIP="A number.";v.g.MATH_ONLIST_HELPURL="";v.g.MATH_ONLIST_OPERATOR_AVERAGE="average of list";v.g.MATH_ONLIST_OPERATOR_MAX="max of list";
v.g.MATH_ONLIST_OPERATOR_MEDIAN="median of list";v.g.MATH_ONLIST_OPERATOR_MIN="min of list";v.g.MATH_ONLIST_OPERATOR_MODE="modes of list";v.g.MATH_ONLIST_OPERATOR_RANDOM="random item of list";v.g.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";v.g.MATH_ONLIST_OPERATOR_SUM="sum of list";v.g.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";v.g.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";
v.g.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";v.g.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";v.g.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";v.g.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";v.g.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";v.g.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";v.g.MATH_POWER_SYMBOL="^";
v.g.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";v.g.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";v.g.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";v.g.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";v.g.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";v.g.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";
v.g.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";v.g.MATH_ROUND_OPERATOR_ROUND="round";v.g.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";v.g.MATH_ROUND_OPERATOR_ROUNDUP="round up";v.g.MATH_ROUND_TOOLTIP="Round a number up or down.";v.g.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";v.g.MATH_SINGLE_OP_ABSOLUTE="absolute";v.g.MATH_SINGLE_OP_ROOT="square root";v.g.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";v.g.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";
v.g.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";v.g.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";v.g.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";v.g.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";v.g.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";v.g.MATH_SUBTRACTION_SYMBOL="-";v.g.MATH_TRIG_ACOS="acos";v.g.MATH_TRIG_ASIN="asin";v.g.MATH_TRIG_ATAN="atan";v.g.MATH_TRIG_COS="cos";v.g.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
v.g.MATH_TRIG_SIN="sin";v.g.MATH_TRIG_TAN="tan";v.g.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";v.g.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";v.g.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";v.g.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";v.g.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";v.g.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";v.g.NEW_COLOUR_VARIABLE="Create colour variable...";
v.g.NEW_NUMBER_VARIABLE="Create number variable...";v.g.NEW_STRING_VARIABLE="Create string variable...";v.g.NEW_VARIABLE="Create variable...";v.g.NEW_VARIABLE_TITLE="New variable name:";v.g.NEW_VARIABLE_TYPE_TITLE="New variable type:";v.g.ORDINAL_NUMBER_SUFFIX="";v.g.PROCEDURES_ALLOW_STATEMENTS="allow statements";v.g.PROCEDURES_BEFORE_PARAMS="with:";v.g.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
v.g.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";v.g.PROCEDURES_CALL_BEFORE_PARAMS="with:";v.g.PROCEDURES_CREATE_DO="Create '%1'";v.g.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";v.g.PROCEDURES_DEFNORETURN_DO="";v.g.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
v.g.PROCEDURES_DEFNORETURN_TITLE="to";v.g.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";v.g.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_DEFRETURN_RETURN="return";v.g.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";v.g.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";v.g.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";v.g.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
v.g.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";v.g.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";v.g.PROCEDURES_MUTATORARG_TITLE="input name:";v.g.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";v.g.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";v.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";v.g.REDO="Redo";v.g.REMOVE_COMMENT="Remove Comment";
v.g.RENAME_VARIABLE="Rename variable...";v.g.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";v.g.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";v.g.TEXT_APPEND_TITLE="to %1 append text %2";v.g.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";v.g.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";v.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";v.g.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
v.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";v.g.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";v.g.TEXT_CHARAT_FIRST="get first letter";v.g.TEXT_CHARAT_FROM_END="get letter # from end";v.g.TEXT_CHARAT_FROM_START="get letter #";v.g.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";v.g.TEXT_CHARAT_LAST="get last letter";v.g.TEXT_CHARAT_RANDOM="get random letter";v.g.TEXT_CHARAT_TAIL="";v.g.TEXT_CHARAT_TITLE="in text %1 %2";
v.g.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";v.g.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";v.g.TEXT_COUNT_MESSAGE0="count %1 in %2";v.g.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";v.g.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";v.g.TEXT_CREATE_JOIN_TITLE_JOIN="join";v.g.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
v.g.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";v.g.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";v.g.TEXT_GET_SUBSTRING_END_LAST="to last letter";v.g.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";v.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";v.g.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";v.g.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";v.g.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
v.g.TEXT_GET_SUBSTRING_TAIL="";v.g.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";v.g.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";v.g.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";v.g.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";v.g.TEXT_INDEXOF_TITLE="in text %1 %2 %3";v.g.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
v.g.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";v.g.TEXT_ISEMPTY_TITLE="%1 is empty";v.g.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";v.g.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";v.g.TEXT_JOIN_TITLE_CREATEWITH="create text with";v.g.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";v.g.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
v.g.TEXT_LENGTH_TITLE="length of %1";v.g.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";v.g.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";v.g.TEXT_PRINT_TITLE="print %1";v.g.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";v.g.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";v.g.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
v.g.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";v.g.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";v.g.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";v.g.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";v.g.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";v.g.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";v.g.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
v.g.TEXT_REVERSE_MESSAGE0="reverse %1";v.g.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";v.g.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";v.g.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";v.g.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";v.g.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";v.g.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";v.g.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
v.g.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";v.g.TODAY="Today";v.g.UNDO="Undo";v.g.VARIABLES_DEFAULT_NAME="item";v.g.VARIABLES_GET_CREATE_SET="Create 'set %1'";v.g.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";v.g.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";v.g.VARIABLES_SET="set %1 to %2";v.g.VARIABLES_SET_CREATE_GET="Create 'get %1'";v.g.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
v.g.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";v.g.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";v.g.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";v.g.CONTROLS_FOREACH_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_FOR_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=v.g.CONTROLS_IF_MSG_ELSEIF;
v.g.CONTROLS_IF_ELSE_TITLE_ELSE=v.g.CONTROLS_IF_MSG_ELSE;v.g.CONTROLS_IF_IF_TITLE_IF=v.g.CONTROLS_IF_MSG_IF;v.g.CONTROLS_IF_MSG_THEN=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_WHILEUNTIL_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.LISTS_CREATE_WITH_ITEM_TITLE=v.g.VARIABLES_DEFAULT_NAME;v.g.LISTS_GET_INDEX_HELPURL=v.g.LISTS_INDEX_OF_HELPURL;v.g.LISTS_GET_INDEX_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.LISTS_GET_SUBLIST_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.LISTS_INDEX_OF_INPUT_IN_LIST=v.g.LISTS_INLIST;
v.g.LISTS_SET_INDEX_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.MATH_CHANGE_TITLE_ITEM=v.g.VARIABLES_DEFAULT_NAME;v.g.PROCEDURES_DEFRETURN_COMMENT=v.g.PROCEDURES_DEFNORETURN_COMMENT;v.g.PROCEDURES_DEFRETURN_DO=v.g.PROCEDURES_DEFNORETURN_DO;v.g.PROCEDURES_DEFRETURN_PROCEDURE=v.g.PROCEDURES_DEFNORETURN_PROCEDURE;v.g.PROCEDURES_DEFRETURN_TITLE=v.g.PROCEDURES_DEFNORETURN_TITLE;v.g.TEXT_APPEND_VARIABLE=v.g.VARIABLES_DEFAULT_NAME;v.g.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=v.g.VARIABLES_DEFAULT_NAME;v.g.MATH_HUE="230";
v.g.LOOPS_HUE="120";v.g.LISTS_HUE="260";v.g.LOGIC_HUE="210";v.g.VARIABLES_HUE="330";v.g.TEXTS_HUE="160";v.g.PROCEDURES_HUE="290";v.g.COLOUR_HUE="20";v.g.VARIABLES_DYNAMIC_HUE="310";var U={ai:null,S:function(){sl();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=S("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=S("Games_linkAlert"),BlocklyStorage.HASH_ERROR=S("Games_hashError"),BlocklyStorage.XML_ERROR=S("Games_xmlError"),BlocklyStorage.alert=T.yt.bind(T,a),a&&wl(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",U.wv,!0);v.L&&(v.L.Bu=!1);v.h&&
(v.h.Bu=!1)},hx:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.ss}catch(h){}d&&delete window.sessionStorage.ss;var e=tl(R),f=b&&tl(R-1);f&&"function"==typeof b&&(f=b(f));(a=d||e||f||a)&&U.ot(a)}},ot:function(a){U.ai?U.ai.setValue(a,-1):(a=v.w.Uc(a),bk.clear(),v.w.bf(a,bk),bk.Kq())},Wn:function(){if(U.ai)var a=U.ai.getValue();else{a=v.w.Qp(bk,!0);if(1==zd(bk,!1).length&&
a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=v.w.wc(a)}return a},Ol:function(){return bk},Vx:function(){window.localStorage&&(window.localStorage[vl+R]=U.Wn())},Ul:function(){window.location=(ml?"index.html":"./")+"?lang="+kl},wv:function(){if(window.sessionStorage){if(U.ai)var a=U.ai.getValue();else a=v.w.Qp(bk),a=v.w.wc(a);window.sessionStorage.ss=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);
var b=window.location.search;b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},Io:function(){10>R?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+kl+"&level="+(R+1):U.Ul()},Ur:function(a,b){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}var e=a;a=bk;if(void 0===b){for(var f=0;d=
a.Nj[f];f++)d.Tc(!1);a.Nj.length=0}if(d=e?ld(a,e):null)(b=void 0===b||b)?-1==a.Nj.indexOf(d)&&a.Nj.push(d):v.j.fj(a.Nj,d),d.Tc(b)},Uw:function(a,b){a=document.getElementById(a);a.firstChild||(a=v.Rf(a,{rtl:nl(),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),v.w.bf(v.w.Uc(b),a))},gy:function(a){return a.replace(/(,\s*)?'block_id_[^']+'\)/g,")").replace(/[\s\xa0]+$/,"")},cf:function(a){if("click"==a.type&&"touchend"==U.cf.bp&&U.cf.$o+2E3>Date.now()||U.cf.bp==a.type&&U.cf.$o+400>Date.now())return a.preventDefault(),
a.stopPropagation(),!0;U.cf.bp=a.type;U.cf.$o=Date.now();return!1}};U.cf.bp=null;U.cf.$o=0;U.pz=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compiled.js");document.head.appendChild(a)};
U.Sw=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=U;U.setCode=U.ot;U.getCode=U.Wn;U.getWorkspace=U.Ol;var T={Xg:!1,qr:null,ql:null,Mi:function(a,b,d,e,f,h){function k(){T.Xg&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);T.Xg&&T.gd(!1);v.Tb(!0);T.Xg=!0;T.qr=b;T.ql=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),T.Bn=v.Vb(e,"mousedown",null,T.bw));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&b?(T.hm(b,!1,.2),T.hm(l,!0,.8),setTimeout(k,175)):k()},rr:0,ur:0,bw:function(a){T.En();if(!v.j.Vf(a)){var b=document.getElementById("dialog");T.rr=b.offsetLeft-a.clientX;T.ur=b.offsetTop-a.clientY;T.Dn=v.Vb(document,"mouseup",null,T.En);T.Cn=v.Vb(document,"mousemove",null,T.cw);a.stopPropagation()}},cw:function(a){var b=document.getElementById("dialog"),
d=T.rr+a.clientX;a=T.ur+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-b.offsetWidth);b.style.left=d+"px";b.style.top=a+"px"},En:function(){T.Dn&&(v.Pa(T.Dn),T.Dn=null);T.Cn&&(v.Pa(T.Cn),T.Cn=null)},gd:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(T.Xg){T.En();T.Bn&&(v.Pa(T.Bn),T.Bn=null);T.Xg=!1;T.ql&&T.ql();T.ql=null;var d=!1===a?
null:T.qr;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(T.hm(a,!1,.8),T.hm(d,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},hm:function(a,b,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=T.rw(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},rw:function(a){var b=Cg(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},yt:function(a,b){var d=document.getElementById("containerStorage");d.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");T.Mi(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},T.Ip);T.Hp()},dv:function(){if(!tl(R))if(T.Xg||bk.ob())setTimeout(T.dv,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",T.gd,!0);b.addEventListener("touchend",T.gd,!0);b=document.getElementById("abortOk");b.addEventListener("click",U.Ul,!0);b.addEventListener("touchend",
U.Ul,!0);T.Mi(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",T.rq,!0)});document.body.addEventListener("keydown",T.rq,!0)}},Dp:function(){document.getElementById("galleryXml").value=U.Wn();var a=document.getElementById("galleryDialog");if(!T.Dp.Ux){var b=document.getElementById("galleryCancel");b.addEventListener("click",T.gd,!0);b.addEventListener("touchend",T.gd,!0);b=document.getElementById("galleryOk");b.addEventListener("click",T.Sn,!0);
b.addEventListener("touchend",T.Sn,!0);T.Dp.Ux=!0}b=document.getElementById("submitButton");T.Mi(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",T.Gr,!0)});document.body.addEventListener("keydown",T.Gr,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},Jv:function(){var a=document.getElementById("dialogDone");if(bk){var b=document.getElementById("dialogLinesText");b.textContent="";var d=ak(v.i);d=U.gy(d);var e=d.replace(/\/\/[^\n]*/g,
"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?S("Games_linesOfCode1"):S("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(d))}d=10>R?S("Games_nextLevel").replace("%1",String(R+1)):S("Games_finalLevel");b=document.getElementById("doneCancel");
b.addEventListener("click",T.gd,!0);b.addEventListener("touchend",T.gd,!0);b=document.getElementById("doneOk");b.addEventListener("click",U.Io,!0);b.addEventListener("touchend",U.Io,!0);T.Mi(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",T.Qq,!0)});document.body.addEventListener("keydown",T.Qq,!0);document.getElementById("dialogDoneText").textContent=d},pr:function(a){!T.Xg||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(T.gd(!0),a.stopPropagation(),
a.preventDefault())},Hp:function(){document.body.addEventListener("keydown",T.pr,!0)},Ip:function(){document.body.removeEventListener("keydown",T.pr,!0)},Qq:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)T.gd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&U.Io()},rq:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)T.gd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&U.Ul()},Gr:function(a){27==a.keyCode?T.gd(!0):13==a.keyCode&&T.Sn()},Sn:function(){var a=
document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],d=0,e;e=a.elements[d];d++)e.name&&(b[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var a=200==f.status?S("Games_submitted"):S("Games_httpRequestError")+"\nStatus: "+f.status;T.yt(null,a)}};f.send(b.join("&"));T.gd(!0)}else a.value=
"",a.focus()}};window.BlocklyDialogs=T;T.hideDialog=T.gd;var xl,V;function yl(){if(10==R)return 1<qd(bk).length;for(var a=0;a<=zl;a++)if(50!=a){if(void 0===Al[a])return!1;if(100<Al[a])return console.log("Pixel errors (frame "+a+"): "+Al[a]),!1}if(9==R){a=qd(bk,!0);for(var b=0,d;d=a[b];b++)if("movie_circle"==d.type){if("math_arithmetic"!=eh(d,"RADIUS").type)return a=document.getElementById("helpLayer"),T.Mi(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},T.Ip),T.Hp(),!1;break}}return!0};v.L.rn={};v.N={};v.N.Wt={};v.N.Wt.Wi=20;
v.Jg([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",
check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);v.L.ts={};v.N.Yc={};v.N.Yc.Wi=210;
v.Jg([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOGIC_HUE}",
tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},
{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],
output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",
args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
v.Jg([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);v.N.Yc.$m={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};v.O.register("logic_op_tooltip",v.O.Zk("OP",v.N.Yc.$m));
v.N.Yc.Rt={ad:0,Jd:0,Ja:function(){if(!this.ad&&!this.Jd)return null;var a=document.createElement("mutation");this.ad&&a.setAttribute("elseif",this.ad);this.Jd&&a.setAttribute("else",1);return a},eb:function(a){this.ad=parseInt(a.getAttribute("elseif"),10)||0;this.Jd=parseInt(a.getAttribute("else"),10)||0;this.Rx()},Ze:function(a){var b=a.jf("controls_if_if");b.Bc();for(var d=b.M,e=1;e<=this.ad;e++){var f=a.jf("controls_if_elseif");f.Bc();d.connect(f.X);d=f.M}this.Jd&&(a=a.jf("controls_if_else"),
a.Bc(),d.connect(a.X));return b},Xe:function(a){a=D(a.M);this.Jd=this.ad=0;for(var b=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.ad++;b.push(a.Pp);d.push(a.pf);break;case "controls_if_else":this.Jd++;e=a.pf;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.M&&D(a.M)}this.pd();this.et(b,d,e)},Cm:function(a){a=D(a.M);for(var b=1;a;){switch(a.type){case "controls_if_elseif":var d=E(this,"IF"+b),e=E(this,"DO"+b);a.Pp=d&&d.connection.xa;a.pf=e&&e.connection.xa;
b++;break;case "controls_if_else":e=E(this,"ELSE");a.pf=e&&e.connection.xa;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.M&&D(a.M)}},Rx:function(){var a=[null],b=[null],d=null;E(this,"ELSE")&&(d=E(this,"ELSE").connection.xa);for(var e=1;E(this,"IF"+e);){var f=E(this,"DO"+e);a.push(E(this,"IF"+e).connection.xa);b.push(f.connection.xa);e++}this.pd();this.et(a,b,d)},pd:function(){E(this,"ELSE")&&this.Bb("ELSE");for(var a=1;E(this,"IF"+a);)this.Bb("IF"+a),this.Bb("DO"+a),a++;for(a=
1;a<=this.ad;a++)K(L(this,"IF"+a).Ha("Boolean"),v.g.CONTROLS_IF_MSG_ELSEIF),K(this.Pe(v.Wa,"DO"+a),v.g.CONTROLS_IF_MSG_THEN);this.Jd&&K(this.Pe(v.Wa,"ELSE"),v.g.CONTROLS_IF_MSG_ELSE)},et:function(a,b,d){for(var e=1;e<=this.ad;e++)vg(a[e],this,"IF"+e),vg(b[e],this,"DO"+e);vg(d,this,"ELSE")}};v.O.lk("controls_if_mutator",v.N.Yc.Rt,null,["controls_if_elseif","controls_if_else"]);
v.N.Yc.St=function(){this.Sa(function(){if(this.ad||this.Jd){if(!this.ad&&this.Jd)return v.g.CONTROLS_IF_TOOLTIP_2;if(this.ad&&!this.Jd)return v.g.CONTROLS_IF_TOOLTIP_3;if(this.ad&&this.Jd)return v.g.CONTROLS_IF_TOOLTIP_4}else return v.g.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};v.O.register("controls_if_tooltip",v.N.Yc.St);
v.N.Yc.su={onchange:function(a){this.hk||(this.hk=[null,null]);var b=eh(this,"A"),d=eh(this,"B");b&&d&&!me(b.P,d.P)&&(v.m.R(a.group),a=this.hk[0],a!==b&&(xd(b),a&&!a.Za&&E(this,"A").connection.connect(a.P)),b=this.hk[1],b!==d&&(xd(d),b&&!b.Za&&E(this,"B").connection.connect(b.P)),this.mb(),v.m.R(!1));this.hk[0]=eh(this,"A");this.hk[1]=eh(this,"B")}};v.N.Yc.qu=function(){xg(this,v.N.Yc.su)};v.O.register("logic_compare",v.N.Yc.qu);
v.N.Yc.tu={Xs:null,onchange:function(a){var b=eh(this,"THEN"),d=eh(this,"ELSE"),e=this.P.xa;if((b||d)&&e)for(var f=0;2>f;f++){var h=1==f?b:d;h&&!me(h.P,e)&&(v.m.R(a.group),e===this.Xs?(xd(this),e.A.mb()):(xd(h),h.mb()),v.m.R(!1))}this.Xs=e}};v.O.wm("logic_ternary",v.N.Yc.tu);v.L.us={};v.N.Me={};v.N.Me.Wi=120;
v.Jg([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);v.N.Me.$u={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};v.O.register("controls_whileUntil_tooltip",v.O.Zk("MODE",v.N.Me.$u));v.N.Me.Nt={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};v.O.register("controls_flow_tooltip",v.O.Zk("FLOW",v.N.Me.Nt));
v.N.Me.Ut={Ye:function(a){if(!this.rb){var b=C(this,"VAR").jc(),d=b.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=v.g.VARIABLES_SET_CREATE_GET.replace("%1",d);b=v.G.Hr(b);d=document.createElement("block");d.setAttribute("type","variables_get");d.appendChild(b);e.Xa=v.ha.bl(this,d);a.push(e)}}}};v.O.wm("contextMenu_newGetVariableBlock",v.N.Me.Ut);v.O.register("controls_for_tooltip",v.O.$k("%{BKY_CONTROLS_FOR_TOOLTIP}"));v.O.register("controls_forEach_tooltip",v.O.$k("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
v.N.Me.Tt={vu:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],onchange:function(){if(this.s.ob&&!this.s.ob()){var a=!1,b=this;do{if(-1!=this.vu.indexOf(b.type)){a=!0;break}b=Zg(b)}while(b);a?(this.Yd(null),this.rb||this.Sc(!1)):(this.Yd(v.g.CONTROLS_FLOW_STATEMENTS_WARNING),this.rb||ah(this)||this.Sc(!0))}}};v.O.wm("controls_flow_in_loop_check",v.N.Me.Tt);v.L.vs={};v.N.Math={};v.N.Math.Wi=230;
v.Jg([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}",
"STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",
helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},
{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",
name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
v.N.Math.$m={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
v.O.register("math_op_tooltip",v.O.Zk("OP",v.N.Math.$m));v.N.Math.lu={Ja:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==B(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},eb:function(a){a="true"==a.getAttribute("divisor_input");this.pd(a)},pd:function(a){var b=E(this,"DIVISOR");a?b||L(this,"DIVISOR").Ha("Number"):b&&this.Bb("DIVISOR")}};v.N.Math.mu=function(){Qg(C(this,"PROPERTY"),function(a){this.A.pd("DIVISIBLE_BY"==a)})};
v.O.lk("math_is_divisibleby_mutator",v.N.Math.lu,v.N.Math.mu);v.O.register("math_change_tooltip",v.O.$k("%{BKY_MATH_CHANGE_TOOLTIP}"));v.N.Math.pu={rg:function(a){"MODE"==a?this.P.Ha("Array"):this.P.Ha("Number")},Ja:function(){var a=document.createElement("mutation");a.setAttribute("op",B(this,"OP"));return a},eb:function(a){this.rg(a.getAttribute("op"))}};v.N.Math.ou=function(){Qg(C(this,"OP"),function(a){this.rg(a)}.bind(this))};v.O.lk("math_modes_of_list_mutator",v.N.Math.pu,v.N.Math.ou);v.L.$s={};
v.L.procedures_defnoreturn={S:function(){var a=new wj("",v.sa.ht);a.Fm=!1;K(K(K(M(this),v.g.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.vk(new ug(["procedures_mutatorarg"]));(this.s.options.kj||this.s.options.zb&&this.s.options.zb.options.kj)&&v.g.PROCEDURES_DEFNORETURN_COMMENT&&this.nh(v.g.PROCEDURES_DEFNORETURN_COMMENT);this.pb(v.g.PROCEDURES_HUE);this.Sa(v.g.PROCEDURES_DEFNORETURN_TOOLTIP);this.kc=v.g.PROCEDURES_DEFNORETURN_HELPURL;this.ca=[];this.Fb=[];this.rh(!0);this.pf=null},
rh:function(a){this.Tl!==a&&(a?(K(this.Pe(v.Wa,"STACK"),v.g.PROCEDURES_DEFNORETURN_DO),E(this,"RETURN")&&dh(this,"STACK","RETURN")):this.Bb("STACK",!0),this.Tl=a)},Jk:function(){for(var a=!1,b={},d=0;d<this.ca.length;d++){if(b["arg_"+this.ca[d].toLowerCase()]){a=!0;break}b["arg_"+this.ca[d].toLowerCase()]=!0}a?this.Yd(v.g.PROCEDURES_DEF_DUPLICATE_WARNING):this.Yd(null);a="";this.ca.length&&(a=v.g.PROCEDURES_BEFORE_PARAMS+" "+this.ca.join(", "));v.m.disable();try{$g(this,a,"PARAMS")}finally{v.m.enable()}},
Ja:function(a){var b=document.createElement("mutation");a&&b.setAttribute("name",B(this,"NAME"));for(var d=0;d<this.Fb.length;d++){var e=document.createElement("arg"),f=this.Fb[d];e.setAttribute("name",f.name);e.setAttribute("varid",f.ga());a&&this.Ro&&e.setAttribute("paramId",this.Ro[d]);b.appendChild(e)}this.Tl||b.setAttribute("statements","false");return b},eb:function(a){this.ca=[];this.Fb=[];for(var b=0,d;d=a.childNodes[b];b++)if("arg"==d.nodeName.toLowerCase()){var e=d.getAttribute("name");
d=d.getAttribute("varid")||d.getAttribute("varId");this.ca.push(e);d=v.G.Jl(this.s,d,e,"");null!=d?this.Fb.push(d):console.log("Failed to create a variable with name "+e+", ignoring.")}this.Jk();v.sa.Go(this);this.rh("false"!==a.getAttribute("statements"))},Ze:function(a){var b=a.jf("procedures_mutatorcontainer");b.Bc();E(this,"RETURN")?$g(b,this.Tl?"TRUE":"FALSE","STATEMENTS"):E(b,"STATEMENT_INPUT").ta(!1);for(var d=E(b,"STACK").connection,e=0;e<this.ca.length;e++){var f=a.jf("procedures_mutatorarg");
f.Bc();$g(f,this.ca[e],"NAME");f.qz=e;d.connect(f.X);d=f.M}v.sa.Go(this);return b},Xe:function(a){this.ca=[];this.Ro=[];this.Fb=[];for(var b=eh(a,"STACK");b;){var d=B(b,"NAME");this.ca.push(d);var e=this.s.jc(d,"");null!=e?this.Fb.push(e):console.log("Failed to get variable named "+d+", ignoring.");this.Ro.push(b.id);b=b.M&&D(b.M)}this.Jk();v.sa.Go(this);a=B(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Tl!=a))if(a)this.rh(!0),vg(this.pf,this,"STACK"),this.pf=null;else{a=E(this,"STACK").connection;
if(this.pf=a.xa)a=D(a),xd(a),a.mb();this.rh(!1)}},oe:function(){return[B(this,"NAME"),this.ca,!1]},ao:function(){return this.ca},gf:function(){return this.Fb},pk:function(a,b){var d=this.s.Md(a);if(""==d.type){d=d.name;b=this.s.Md(b);for(var e=!1,f=0;f<this.Fb.length;f++)this.Fb[f].ga()==a&&(this.ca[f]=b.name,this.Fb[f]=b,e=!0);e&&this.tl(d,b.name)}},Mm:function(a){for(var b=a.name,d=!1,e=0;e<this.Fb.length;e++)if(this.Fb[e].ga()==a.ga()){var f=this.ca[e];this.ca[e]=b;d=!0}d&&this.tl(f,b)},tl:function(a,
b){this.Jk();if(this.hd.$())for(var d=qd(this.hd.o,!1),e=0,f;f=d[e];e++)"procedures_mutatorarg"==f.type&&td(a,B(f,"NAME"))&&$g(f,b,"NAME")},Ye:function(a){if(!this.rb){var b={enabled:!0},d=B(this,"NAME");b.text=v.g.PROCEDURES_CREATE_DO.replace("%1",d);var e=document.createElement("mutation");e.setAttribute("name",d);for(var f=0;f<this.ca.length;f++)d=document.createElement("arg"),d.setAttribute("name",this.ca[f]),e.appendChild(d);d=document.createElement("block");d.setAttribute("type",this.Aq);d.appendChild(e);
b.Xa=v.ha.bl(this,d);a.push(b);if(!this.isCollapsed())for(f=0;f<this.Fb.length;f++)b={enabled:!0},e=this.Fb[f],d=e.name,b.text=v.g.VARIABLES_SET_CREATE_GET.replace("%1",d),e=v.G.Hr(e),d=document.createElement("block"),d.setAttribute("type","variables_get"),d.appendChild(e),b.Xa=v.ha.bl(this,d),a.push(b)}},Aq:"procedures_callnoreturn"};
v.L.procedures_defreturn={S:function(){var a=new wj("",v.sa.ht);a.Fm=!1;K(K(K(M(this),v.g.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");K(Xg(L(this,"RETURN"),v.Qb),v.g.PROCEDURES_DEFRETURN_RETURN);this.vk(new ug(["procedures_mutatorarg"]));(this.s.options.kj||this.s.options.zb&&this.s.options.zb.options.kj)&&v.g.PROCEDURES_DEFRETURN_COMMENT&&this.nh(v.g.PROCEDURES_DEFRETURN_COMMENT);this.pb(v.g.PROCEDURES_HUE);this.Sa(v.g.PROCEDURES_DEFRETURN_TOOLTIP);this.kc=v.g.PROCEDURES_DEFRETURN_HELPURL;
this.ca=[];this.Fb=[];this.rh(!0);this.pf=null},rh:v.L.procedures_defnoreturn.rh,Jk:v.L.procedures_defnoreturn.Jk,Ja:v.L.procedures_defnoreturn.Ja,eb:v.L.procedures_defnoreturn.eb,Ze:v.L.procedures_defnoreturn.Ze,Xe:v.L.procedures_defnoreturn.Xe,oe:function(){return[B(this,"NAME"),this.ca,!0]},ao:v.L.procedures_defnoreturn.ao,gf:v.L.procedures_defnoreturn.gf,pk:v.L.procedures_defnoreturn.pk,Mm:v.L.procedures_defnoreturn.Mm,tl:v.L.procedures_defnoreturn.tl,Ye:v.L.procedures_defnoreturn.Ye,Aq:"procedures_callreturn"};
v.L.procedures_mutatorcontainer={S:function(){K(M(this),v.g.PROCEDURES_MUTATORCONTAINER_TITLE);this.Pe(v.Wa,"STACK");K(K(M(this,"STATEMENT_INPUT"),v.g.PROCEDURES_ALLOW_STATEMENTS),new Lj("TRUE"),"STATEMENTS");this.pb(v.g.PROCEDURES_HUE);this.Sa(v.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
v.L.procedures_mutatorarg={S:function(){var a=new wj("x",this.Dh);a.vx=a.Ee;a.Ee=function(){this.qj=[];this.vx()};K(K(M(this),v.g.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Ce(!0);this.Ae(!0);this.pb(v.g.PROCEDURES_HUE);this.Sa(v.g.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Mo=this.Xv;a.qj=[];a.Mo("x")},Dh:function(a){var b=wg(this.A.s);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;var d=b.jc(a,"");d&&d.name!=a&&b.pk(d.ga(),a);d||(d=b.$c(a,""))&&this.qj&&this.qj.push(d);
return a},Xv:function(a){var b=wg(this.A.s);if(b)for(var d=0;d<this.qj.length;d++){var e=this.qj[d];e.name!=a&&b.$e(e.ga())}}};
v.L.procedures_callnoreturn={S:function(){K(M(this,"TOPROW"),this.id,"NAME");this.Ce(!0);this.Ae(!0);this.pb(v.g.PROCEDURES_HUE);this.kc=v.g.PROCEDURES_CALLNORETURN_HELPURL;this.ca=[];this.Fb=[];this.jh={};this.xe=null;this.ap=!1},ed:function(){return B(this,"NAME")},nk:function(a,b){td(a,this.ed())&&($g(this,b,"NAME"),this.Sa((this.P?v.g.PROCEDURES_CALLRETURN_TOOLTIP:v.g.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},xp:function(a,b){var d=v.sa.Bj(this.ed(),this.s),e=d&&d.hd&&d.hd.$();e||(this.jh=
{},this.xe=null);if(b)if(a.join("\n")==this.ca.join("\n"))this.xe=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.hg(!1);this.xe||(this.jh={},this.xe=[]);d=this.T;this.T=!1;for(var f=0;f<this.ca.length;f++){var h=E(this,"ARG"+f);h&&(h=h.connection.xa,this.jh[this.xe[f]]=h,e&&h&&-1==b.indexOf(this.xe[f])&&(h.disconnect(),h.A.mb()))}this.ca=[].concat(a);this.Fb=[];for(f=0;f<this.ca.length;f++)a=v.G.Jl(this.s,null,this.ca[f],""),this.Fb.push(a);
this.pd();if(this.xe=b)for(f=0;f<this.ca.length;f++)b=this.xe[f],b in this.jh&&(h=this.jh[b],vg(h,this,"ARG"+f)||delete this.jh[b]);(this.T=d)&&this.na()}},pd:function(){for(var a=0;a<this.ca.length;a++){var b=C(this,"ARGNAME"+a);if(b){v.m.disable();try{b.setValue(this.ca[a])}finally{v.m.enable()}}else b=new Ug(this.ca[a]),K(Xg(L(this,"ARG"+a),v.Qb),b,"ARGNAME"+a).S()}for(;E(this,"ARG"+a);)this.Bb("ARG"+a),a++;if(a=E(this,"TOPROW"))if(this.ca.length)C(this,"WITH")||(K(a,v.g.PROCEDURES_CALL_BEFORE_PARAMS,
"WITH"),a.S());else if(C(this,"WITH"))a:{b=0;for(var d;d=a.Ma[b];b++)if("WITH"===d.name){d.C();a.Ma.splice(b,1);a.A.T&&(a.A.na(),a.A.mb());break a}throw Error('Field "%s" not found.',"WITH");}},Ja:function(){var a=document.createElement("mutation");a.setAttribute("name",this.ed());for(var b=0;b<this.ca.length;b++){var d=document.createElement("arg");d.setAttribute("name",this.ca[b]);a.appendChild(d)}return a},eb:function(a){var b=a.getAttribute("name");this.nk(this.ed(),b);b=[];for(var d=[],e=0,f;f=
a.childNodes[e];e++)"arg"==f.nodeName.toLowerCase()&&(b.push(f.getAttribute("name")),d.push(f.getAttribute("paramId")));this.xp(b,d)},gf:function(){return this.Fb},onchange:function(a){if(this.s&&!this.s.Qd&&a.Zb)if(a.type==v.m.Mt&&-1!=a.Of.indexOf(this.id)){var b=this.ed();b=v.sa.Bj(b,this.s);!b||b.type==this.An&&JSON.stringify(b.ca)==JSON.stringify(this.ca)||(b=null);if(!b){v.m.R(a.group);a=document.createElement("xml");b=document.createElement("block");b.setAttribute("type",this.An);var d=this.wa(),
e=d.y+2*v.Jc;b.setAttribute("x",d.x+v.Jc*(this.v?-1:1));b.setAttribute("y",e);d=this.Ja();b.appendChild(d);d=document.createElement("field");d.setAttribute("name","NAME");d.appendChild(document.createTextNode(this.ed()));b.appendChild(d);a.appendChild(b);v.w.bf(a,this.s);v.m.R(!1)}}else a.type==v.m.Vp?(b=this.ed(),b=v.sa.Bj(b,this.s),b||(v.m.R(a.group),this.C(!0,!1),v.m.R(!1))):a.type==v.m.Ih&&"disabled"==a.element&&(b=this.ed(),(b=v.sa.Bj(b,this.s))&&b.id==a.Wb&&((b=v.m.Rb())&&console.log("Saw an existing group while responding to a definition change"),
v.m.R(a.group),a.newValue?(this.ap=this.disabled,this.Sc(!0)):this.Sc(this.ap),v.m.R(b)))},Ye:function(a){var b={enabled:!0};b.text=v.g.PROCEDURES_HIGHLIGHT_DEF;var d=this.ed(),e=this.s;b.Xa=function(){var a=v.sa.Bj(d,e);if(a){if(e.jb){var b=ld(e,a.id);if(b){var k=b.wa(),l=b.Kb(),m=e.scale;b=(k.x+(e.v?-1:1)*l.width/2)*m;k=(k.y+l.height/2)*m;l=e.qb();b=b-l.Lc-l.Da/2;k=k-l.uc-l.hb/2;v.Tb();e.jb.set(b,k)}}else console.warn("Tried to scroll a non-scrollable workspace.");a.select()}};a.push(b)},An:"procedures_defnoreturn"};
v.L.procedures_callreturn={S:function(){K(M(this,"TOPROW"),"","NAME");this.Be(!0);this.pb(v.g.PROCEDURES_HUE);this.kc=v.g.PROCEDURES_CALLRETURN_HELPURL;this.ca=[];this.jh={};this.xe=null;this.ap=!1},ed:v.L.procedures_callnoreturn.ed,nk:v.L.procedures_callnoreturn.nk,xp:v.L.procedures_callnoreturn.xp,pd:v.L.procedures_callnoreturn.pd,Ja:v.L.procedures_callnoreturn.Ja,eb:v.L.procedures_callnoreturn.eb,gf:v.L.procedures_callnoreturn.gf,onchange:v.L.procedures_callnoreturn.onchange,Ye:v.L.procedures_callnoreturn.Ye,
An:"procedures_defreturn"};
v.L.procedures_ifreturn={S:function(){K(L(this,"CONDITION").Ha("Boolean"),v.g.CONTROLS_IF_MSG_IF);K(L(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN);this.kg(!0);this.Ce(!0);this.Ae(!0);this.pb(v.g.PROCEDURES_HUE);this.Sa(v.g.PROCEDURES_IFRETURN_TOOLTIP);this.kc=v.g.PROCEDURES_IFRETURN_HELPURL;this.hf=!0},Ja:function(){var a=document.createElement("mutation");a.setAttribute("value",Number(this.hf));return a},eb:function(a){this.hf=1==a.getAttribute("value");this.hf||(this.Bb("VALUE"),K(M(this,"VALUE"),
v.g.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.s.ob&&!this.s.ob()){var a=!1,b=this;do{if(-1!=this.cu.indexOf(b.type)){a=!0;break}b=Zg(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.hf?(this.Bb("VALUE"),K(M(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN),this.hf=!1):"procedures_defreturn"!=b.type||this.hf||(this.Bb("VALUE"),K(L(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN),this.hf=!0),this.Yd(null),this.rb||this.Sc(!1)):(this.Yd(v.g.PROCEDURES_IFRETURN_WARNING),this.rb||ah(this)||
this.Sc(!0))}},cu:["procedures_defnoreturn","procedures_defreturn"]};v.L.Bt={};v.N.Text={};v.N.Text.Wi=160;
v.Jg([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},
{type:"input_statement",name:"STACK"}],colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",
name:"TEXT"}],previousStatement:null,nextStatement:null,colour:"%{BKY_TEXTS_HUE}",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_TEXTS_HUE}",
tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},
{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]);
v.L.text_getSubstring={S:function(){this.WHERE_OPTIONS_1=[[v.g.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[v.g.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[v.g.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[v.g.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[v.g.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[v.g.TEXT_GET_SUBSTRING_END_LAST,"LAST"]];this.kc=v.g.TEXT_GET_SUBSTRING_HELPURL;this.pb(v.g.TEXTS_HUE);K(L(this,"STRING").Ha("String"),v.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);
M(this,"AT1");M(this,"AT2");v.g.TEXT_GET_SUBSTRING_TAIL&&K(M(this,"TAIL"),v.g.TEXT_GET_SUBSTRING_TAIL);this.kg(!0);this.Be(!0,"String");this.vf(1,!0);this.vf(2,!0);this.Sa(v.g.TEXT_GET_SUBSTRING_TOOLTIP)},Ja:function(){var a=document.createElement("mutation");a.setAttribute("at1",E(this,"AT1").type==v.$a);a.setAttribute("at2",E(this,"AT2").type==v.$a);return a},eb:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.vf(1,b);this.vf(2,a)},vf:function(a,b){this.Bb("AT"+
a);this.Bb("ORDINAL"+a,!0);b?(L(this,"AT"+a).Ha("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&K(M(this,"ORDINAL"+a),v.g.ORDINAL_NUMBER_SUFFIX)):M(this,"AT"+a);2==a&&v.g.TEXT_GET_SUBSTRING_TAIL&&(this.Bb("TAIL",!0),K(M(this,"TAIL"),v.g.TEXT_GET_SUBSTRING_TAIL));var d=new bh(this["WHERE_OPTIONS_"+a],function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=b){var h=this.A;h.vf(a,e);$g(h,d,"WHERE"+a);return null}});K(E(this,"AT"+a),d,"WHERE"+a);1==a&&(dh(this,"AT1","AT2"),E(this,"ORDINAL1")&&dh(this,"ORDINAL1",
"AT2"))}};v.L.text_changeCase={S:function(){var a=[[v.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[v.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[v.g.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.kc=v.g.TEXT_CHANGECASE_HELPURL;this.pb(v.g.TEXTS_HUE);K(L(this,"TEXT").Ha("String"),new bh(a),"CASE");this.Be(!0,"String");this.Sa(v.g.TEXT_CHANGECASE_TOOLTIP)}};
v.L.text_trim={S:function(){var a=[[v.g.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[v.g.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[v.g.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.kc=v.g.TEXT_TRIM_HELPURL;this.pb(v.g.TEXTS_HUE);K(L(this,"TEXT").Ha("String"),new bh(a),"MODE");this.Be(!0,"String");this.Sa(v.g.TEXT_TRIM_TOOLTIP)}};
v.L.text_print={S:function(){ch(this,{message0:v.g.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:v.g.TEXTS_HUE,tooltip:v.g.TEXT_PRINT_TOOLTIP,helpUrl:v.g.TEXT_PRINT_HELPURL})}};
v.L.text_prompt_ext={S:function(){var a=[[v.g.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[v.g.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.kc=v.g.TEXT_PROMPT_HELPURL;this.pb(v.g.TEXTS_HUE);var b=this;a=new bh(a,function(a){b.rg(a)});K(L(this,"TEXT"),a,"TYPE");this.Be(!0,"String");this.Sa(function(){return"TEXT"==B(b,"TYPE")?v.g.TEXT_PROMPT_TOOLTIP_TEXT:v.g.TEXT_PROMPT_TOOLTIP_NUMBER})},rg:function(a){this.P.Ha("NUMBER"==a?"Number":"String")},Ja:function(){var a=document.createElement("mutation");a.setAttribute("type",
B(this,"TYPE"));return a},eb:function(a){this.rg(a.getAttribute("type"))}};
v.L.text_prompt={S:function(){xg(this,v.N.Text.Vm);var a=[[v.g.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[v.g.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],b=this;this.kc=v.g.TEXT_PROMPT_HELPURL;this.pb(v.g.TEXTS_HUE);a=new bh(a,function(a){b.rg(a)});K(K(K(K(M(this),a,"TYPE"),this.Ai(!0)),new wj(""),"TEXT"),this.Ai(!1));this.Be(!0,"String");this.Sa(function(){return"TEXT"==B(b,"TYPE")?v.g.TEXT_PROMPT_TOOLTIP_TEXT:v.g.TEXT_PROMPT_TOOLTIP_NUMBER})},rg:v.L.text_prompt_ext.rg,Ja:v.L.text_prompt_ext.Ja,eb:v.L.text_prompt_ext.eb};
v.L.text_count={S:function(){ch(this,{message0:v.g.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,colour:v.g.TEXTS_HUE,tooltip:v.g.TEXT_COUNT_TOOLTIP,helpUrl:v.g.TEXT_COUNT_HELPURL})}};
v.L.text_replace={S:function(){ch(this,{message0:v.g.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:v.g.TEXTS_HUE,tooltip:v.g.TEXT_REPLACE_TOOLTIP,helpUrl:v.g.TEXT_REPLACE_HELPURL})}};
v.L.text_reverse={S:function(){ch(this,{message0:v.g.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:v.g.TEXTS_HUE,tooltip:v.g.TEXT_REVERSE_TOOLTIP,helpUrl:v.g.TEXT_REVERSE_HELPURL})}};
v.N.Text.Vm={Iu:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",Ju:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
Ku:12,Hu:12,Qx:function(a){for(var b=0,d;d=this.V[b];b++)for(var e=0,f;f=d.Ma[e];e++)if(a==f.name){Wg(d,e,this.Ai(!0));Wg(d,e+2,this.Ai(!1));return}console.warn('field named "'+a+'" not found in '+te(this))},Ai:function(a){a=this.v?!a:a;return new Vj(a?this.Iu:this.Ju,this.Ku,this.Hu,a?"\u201c":"\u201d")}};v.N.Text.Xu=function(){xg(this,v.N.Text.Vm);this.Qx("TEXT")};
v.N.Text.Wu={Ja:function(){var a=document.createElement("mutation");a.setAttribute("items",this.Oc);return a},eb:function(a){this.Oc=parseInt(a.getAttribute("items"),10);this.pd()},Ze:function(a){var b=a.jf("text_create_join_container");b.Bc();for(var d=E(b,"STACK").connection,e=0;e<this.Oc;e++){var f=a.jf("text_create_join_item");f.Bc();d.connect(f.X);d=f.M}return b},Xe:function(a){var b=eh(a,"STACK");for(a=[];b;)a.push(b.Pp),b=b.M&&D(b.M);for(b=0;b<this.Oc;b++){var d=E(this,"ADD"+b).connection.xa;
d&&-1==a.indexOf(d)&&d.disconnect()}this.Oc=a.length;this.pd();for(b=0;b<this.Oc;b++)vg(a[b],this,"ADD"+b)},Cm:function(a){a=eh(a,"STACK");for(var b=0;a;){var d=E(this,"ADD"+b);a.Pp=d&&d.connection.xa;b++;a=a.M&&D(a.M)}},pd:function(){this.Oc&&E(this,"EMPTY")?this.Bb("EMPTY"):this.Oc||E(this,"EMPTY")||K(K(M(this,"EMPTY"),this.Ai(!0)),this.Ai(!1));for(var a=0;a<this.Oc;a++)if(!E(this,"ADD"+a)){var b=L(this,"ADD"+a);0==a&&K(b,v.g.TEXT_JOIN_TITLE_CREATEWITH)}for(;E(this,"ADD"+a);)this.Bb("ADD"+a),a++}};
v.N.Text.Vu=function(){xg(this,v.N.Text.Vm);this.Oc=2;this.pd();this.vk(new ug(["text_create_join_item"]))};v.O.register("text_append_tooltip",v.O.$k("%{BKY_TEXT_APPEND_TOOLTIP}"));v.N.Text.Uu=function(){var a=this;this.Sa(function(){return v.g.TEXT_INDEXOF_TOOLTIP.replace("%1",a.s.options.Qc?"0":"-1")})};
v.N.Text.Tu={Ja:function(){var a=document.createElement("mutation");a.setAttribute("at",!!this.bs);return a},eb:function(a){a="false"!=a.getAttribute("at");this.vf(a)},vf:function(a){this.Bb("AT",!0);this.Bb("ORDINAL",!0);a&&(L(this,"AT").Ha("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&K(M(this,"ORDINAL"),v.g.ORDINAL_NUMBER_SUFFIX));v.g.TEXT_CHARAT_TAIL&&(this.Bb("TAIL",!0),K(M(this,"TAIL"),v.g.TEXT_CHARAT_TAIL));this.bs=a}};
v.N.Text.Su=function(){Qg(C(this,"WHERE"),function(a){var b="FROM_START"==a||"FROM_END"==a;if(b!=this.bs){var e=this.A;e.vf(b);$g(e,a,"WHERE");return null}});this.vf(!0);var a=this;this.Sa(function(){var b=B(a,"WHERE"),d=v.g.TEXT_CHARAT_TOOLTIP;("FROM_START"==b||"FROM_END"==b)&&(b="FROM_START"==b?v.g.LISTS_INDEX_FROM_START_TOOLTIP:v.g.LISTS_INDEX_FROM_END_TOOLTIP)&&(d+="  "+b.replace("%1",a.s.options.Qc?"#1":"#0"));return d})};v.O.register("text_indexOf_tooltip",v.N.Text.Uu);
v.O.register("text_quotes",v.N.Text.Xu);v.O.lk("text_join_mutator",v.N.Text.Wu,v.N.Text.Vu);v.O.lk("text_charAt_mutator",v.N.Text.Tu,v.N.Text.Su);v.L.Ht={};v.N.G={};v.N.G.Wi=330;
v.Jg([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
v.N.G.Vt={Ye:function(a){if(!this.rb){if("variables_get"==this.type)var b="variables_set",d=v.g.VARIABLES_GET_CREATE_SET;else b="variables_get",d=v.g.VARIABLES_SET_CREATE_GET;var e={enabled:0<Qd(this.s)},f=C(this,"VAR").yb();e.text=d.replace("%1",f);d=document.createElement("field");d.setAttribute("name","VAR");d.appendChild(document.createTextNode(f));f=document.createElement("block");f.setAttribute("type",b);f.appendChild(d);e.Xa=v.ha.bl(this,f);a.push(e)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:v.g.az,enabled:!0,Xa:v.N.G.Mu(this)},f=C(this,"VAR").yb(),e={text:v.g.Fy.replace("%1",f),enabled:!0,Xa:v.N.G.Xt(this)},a.unshift(b),a.unshift(e)}};v.N.G.Mu=function(a){return function(){var b=a.s,d=C(a,"VAR").jc();v.G.xm(b,d)}};v.N.G.Xt=function(a){return function(){var b=a.s,d=C(a,"VAR").jc();b.$e(d.ga());ng(b)}};v.O.wm("contextMenu_variableSetterGetter",v.N.G.Vt);
// Copyright 2012 Google Inc.  Apache License 2.0
v.h=new Yg("JavaScript");hk(v.h,"Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
v.h.vb=0;v.h.Uy=1.1;v.h.ba=1.2;v.h.W=2;v.h.Ry=3;v.h.Oy=3;v.h.Du=4.1;v.h.Xy=4.2;v.h.dj=4.3;v.h.td=4.4;v.h.Wy=4.5;v.h.Yy=4.6;v.h.Py=4.7;v.h.My=4.8;v.h.kq=5;v.h.Um=5.1;v.h.$i=5.2;v.h.aj=5.3;v.h.Rh=6.1;v.h.zf=6.2;v.h.Fu=7;v.h.cj=8;v.h.Qy=8;v.h.Sy=8;v.h.jq=9;v.h.Cu=10;v.h.Gu=11;v.h.Eu=12;v.h.xg=13;v.h.yg=14;v.h.Ne=15;v.h.Qh=16;v.h.Zy=17;v.h.Eb=18;v.h.H=99;v.h.bj=[[v.h.W,v.h.ba],[v.h.W,v.h.W],[v.h.ba,v.h.ba],[v.h.ba,v.h.W],[v.h.td,v.h.td],[v.h.Um,v.h.Um],[v.h.zf,v.h.zf],[v.h.xg,v.h.xg],[v.h.yg,v.h.yg]];
v.h.S=function(a){v.h.La=Object.create(null);v.h.yj=Object.create(null);v.h.aa?v.h.aa.reset():v.h.aa=new jk(v.h.Uk);v.h.aa.ua=a.ua;for(var b=[],d=v.G.cn(a),e=0;e<d.length;e++)b.push(v.h.aa.getName(d[e],"DEVELOPER_VARIABLE"));a=v.G.Wk(a);for(e=0;e<a.length;e++)b.push(v.h.aa.getName(a[e].ga(),v.G.ra));b.length&&(v.h.La.variables="var "+b.join(", ")+";")};v.h.finish=function(a){var b=[],d;for(d in v.h.La)b.push(v.h.La[d]);delete v.h.La;delete v.h.yj;v.h.aa.reset();return b.join("\n\n")+"\n\n\n"+a};
v.h.np=function(a){return a+";\n"};v.h.jk=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};v.h.Ji=function(a,b,d){var e="";if(!a.P||!a.P.xa){var f=a.Aj();(f=v.j.Rp(f,v.h.aq-3))&&(e=a.oe?e+("/**\n"+dk(f+"\n"," * ")+" */\n"):e+dk(f+"\n","// "));for(var h=0;h<a.V.length;h++)a.V[h].type==v.$a&&(f=D(a.V[h].connection))&&(f=ek(f))&&(e+=dk(f,"// "))}a=a.M&&D(a.M);d=d?"":ck(v.h,a);return e+b+d};
v.h.Hf=function(a,b,d,e,f){d=d||0;f=f||v.h.H;a.s.options.Qc&&d--;var h=a.s.options.Qc?"1":"0";a=0<d?P(v.h,a,b,v.h.zf)||h:0>d?P(v.h,a,b,v.h.Rh)||h:e?P(v.h,a,b,v.h.dj)||h:P(v.h,a,b,f)||h;if(v.Cc(a))a=parseFloat(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=v.h.zf}else 0>d&&(a=a+" - "+-d,k=v.h.Rh);e&&(a=d?"-("+a+")":"-"+a,k=v.h.dj);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};v.h.rn={};v.h.colour_picker=function(a){return["'"+B(a,"COLOUR")+"'",v.h.vb]};v.h.colour_random=function(){return[Q(v.h,"colourRandom",["function "+v.h.Qa+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",v.h.W]};
v.h.colour_rgb=function(a){var b=P(v.h,a,"RED",v.h.Eb)||0,d=P(v.h,a,"GREEN",v.h.Eb)||0;a=P(v.h,a,"BLUE",v.h.Eb)||0;return[Q(v.h,"colourRgb",["function "+v.h.Qa+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);",
"  return '#' + r + g + b;","}"])+"("+b+", "+d+", "+a+")",v.h.W]};
v.h.colour_blend=function(a){var b=P(v.h,a,"COLOUR1",v.h.Eb)||"'#000000'",d=P(v.h,a,"COLOUR2",v.h.Eb)||"'#000000'";a=P(v.h,a,"RATIO",v.h.Eb)||.5;return[Q(v.h,"colourBlend",["function "+v.h.Qa+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);",
"  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+d+", "+a+")",v.h.W]};v.h.ts={};v.h.controls_if=function(a){var b=0,d="";do{var e=P(v.h,a,"IF"+b,v.h.H)||"false";var f=fk(v.h,a,"DO"+b);d+=(0<b?" else ":"")+"if ("+e+") {\n"+f+"}";++b}while(E(a,"IF"+b));E(a,"ELSE")&&(f=fk(v.h,a,"ELSE"),d+=" else {\n"+f+"}");return d+"\n"};v.h.controls_ifelse=v.h.controls_if;v.h.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[B(a,"OP")],d="=="==b||"!="==b?v.h.jq:v.h.cj,e=P(v.h,a,"A",d)||"0";a=P(v.h,a,"B",d)||"0";return[e+" "+b+" "+a,d]};
v.h.logic_operation=function(a){var b="AND"==B(a,"OP")?"&&":"||",d="&&"==b?v.h.xg:v.h.yg,e=P(v.h,a,"A",d);a=P(v.h,a,"B",d);if(e||a){var f="&&"==b?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+b+" "+a,d]};v.h.logic_negate=function(a){var b=v.h.td;return["!"+(P(v.h,a,"BOOL",b)||"true"),b]};v.h.logic_boolean=function(a){return["TRUE"==B(a,"BOOL")?"true":"false",v.h.vb]};v.h.logic_null=function(){return["null",v.h.vb]};
v.h.logic_ternary=function(a){var b=P(v.h,a,"IF",v.h.Ne)||"false",d=P(v.h,a,"THEN",v.h.Ne)||"null";a=P(v.h,a,"ELSE",v.h.Ne)||"null";return[b+" ? "+d+" : "+a,v.h.Ne]};v.h.us={};v.h.controls_repeat_ext=function(a){var b=C(a,"TIMES")?String(Number(B(a,"TIMES"))):P(v.h,a,"TIMES",v.h.Qh)||"0",d=fk(v.h,a,"DO");d=gk(v.h,d,a.id);a="";var e=ik(v.h.aa,"count",v.G.ra),f=b;b.match(/^\w+$/)||v.Cc(b)||(f=ik(v.h.aa,"repeat_end",v.G.ra),a+="var "+f+" = "+b+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};v.h.controls_repeat=v.h.controls_repeat_ext;
v.h.controls_whileUntil=function(a){var b="UNTIL"==B(a,"MODE"),d=P(v.h,a,"BOOL",b?v.h.td:v.h.H)||"false",e=fk(v.h,a,"DO");e=gk(v.h,e,a.id);b&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
v.h.controls_for=function(a){var b=v.h.aa.getName(B(a,"VAR"),v.G.ra),d=P(v.h,a,"FROM",v.h.Qh)||"0",e=P(v.h,a,"TO",v.h.Qh)||"0",f=P(v.h,a,"BY",v.h.Qh)||"1",h=fk(v.h,a,"DO");h=gk(v.h,h,a.id);if(v.Cc(d)&&v.Cc(e)&&v.Cc(f)){var k=parseFloat(d)<=parseFloat(e);a="for ("+b+" = "+d+"; "+b+(k?" <= ":" >= ")+e+"; "+b;b=Math.abs(parseFloat(f));a=(1==b?a+(k?"++":"--"):a+((k?" += ":" -= ")+b))+(") {\n"+h+"}\n")}else a="",k=d,d.match(/^\w+$/)||v.Cc(d)||(k=ik(v.h.aa,b+"_start",v.G.ra),a+="var "+k+" = "+d+";\n"),
d=e,e.match(/^\w+$/)||v.Cc(e)||(d=ik(v.h.aa,b+"_end",v.G.ra),a+="var "+d+" = "+e+";\n"),e=ik(v.h.aa,b+"_inc",v.G.ra),a+="var "+e+" = ",a=v.Cc(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(v.h.qc+e+" = -"+e+";\n"),a+="}\n",a+="for ("+b+" = "+k+"; "+e+" >= 0 ? "+b+" <= "+d+" : "+b+" >= "+d+"; "+b+" += "+e+") {\n"+h+"}\n";return a};
v.h.controls_forEach=function(a){var b=v.h.aa.getName(B(a,"VAR"),v.G.ra),d=P(v.h,a,"LIST",v.h.Qh)||"[]",e=fk(v.h,a,"DO");e=gk(v.h,e,a.id);a="";var f=d;d.match(/^\w+$/)||(f=ik(v.h.aa,b+"_list",v.G.ra),a+="var "+f+" = "+d+";\n");d=ik(v.h.aa,b+"_index",v.G.ra);e=v.h.qc+b+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};
v.h.controls_flow_statements=function(a){switch(B(a,"FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw Error("Unknown flow statement.");};v.h.vs={};v.h.math_number=function(a){a=parseFloat(B(a,"NUM"));return[a,0<=a?v.h.vb:v.h.dj]};v.h.math_arithmetic=function(a){var b={ADD:[" + ",v.h.zf],MINUS:[" - ",v.h.Rh],MULTIPLY:[" * ",v.h.Um],DIVIDE:[" / ",v.h.$i],POWER:[null,v.h.Eb]}[B(a,"OP")],d=b[0];b=b[1];var e=P(v.h,a,"A",b)||"0";a=P(v.h,a,"B",b)||"0";return d?[e+d+a,b]:["Math.pow("+e+", "+a+")",v.h.W]};
v.h.math_single=function(a){var b=B(a,"OP");if("NEG"==b)return a=P(v.h,a,"NUM",v.h.dj)||"0","-"==a[0]&&(a=" "+a),["-"+a,v.h.dj];a="SIN"==b||"COS"==b||"TAN"==b?P(v.h,a,"NUM",v.h.$i)||"0":P(v.h,a,"NUM",v.h.H)||"0";switch(b){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,v.h.W];switch(b){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[d,v.h.$i]};
v.h.math_constant=function(a){return{PI:["Math.PI",v.h.ba],E:["Math.E",v.h.ba],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",v.h.$i],SQRT2:["Math.SQRT2",v.h.ba],SQRT1_2:["Math.SQRT1_2",v.h.ba],INFINITY:["Infinity",v.h.vb]}[B(a,"CONSTANT")]};
v.h.math_number_property=function(a){var b=P(v.h,a,"NUMBER_TO_CHECK",v.h.aj)||"0",d=B(a,"PROPERTY");if("PRIME"==d){var e=Q(v.h,"mathIsPrime",["function "+v.h.Qa+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[e,v.h.W]}switch(d){case "EVEN":e=b+" % 2 == 0";break;case "ODD":e=b+" % 2 == 1";break;case "WHOLE":e=b+" % 1 == 0";break;case "POSITIVE":e=b+" > 0";break;case "NEGATIVE":e=b+" < 0";break;case "DIVISIBLE_BY":a=P(v.h,a,"DIVISOR",v.h.aj)||"0",e=b+" % "+a+" == 0"}return[e,v.h.jq]};
v.h.math_change=function(a){var b=P(v.h,a,"DELTA",v.h.zf)||"0";a=v.h.aa.getName(B(a,"VAR"),v.G.ra);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};v.h.math_round=v.h.math_single;v.h.math_trig=v.h.math_single;
v.h.math_on_list=function(a){var b=B(a,"OP");switch(b){case "SUM":a=P(v.h,a,"LIST",v.h.ba)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=P(v.h,a,"LIST",v.h.Eb)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=P(v.h,a,"LIST",v.h.Eb)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=Q(v.h,"mathMean",["function "+v.h.Qa+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=P(v.h,a,"LIST",v.h.H)||"[]";a=b+"("+a+")";break;
case "MEDIAN":b=Q(v.h,"mathMedian",["function "+v.h.Qa+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=P(v.h,a,"LIST",v.h.H)||"[]";a=b+"("+a+")";break;case "MODE":b=
Q(v.h,"mathModes",["function "+v.h.Qa+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }",
"    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=P(v.h,a,"LIST",v.h.H)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=Q(v.h,"mathStandardDeviation",["function "+v.h.Qa+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {",
"    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=P(v.h,a,"LIST",v.h.H)||"[]";a=b+"("+a+")";break;case "RANDOM":b=Q(v.h,"mathRandomList",["function "+v.h.Qa+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=P(v.h,a,"LIST",v.h.H)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,v.h.W]};
v.h.math_modulo=function(a){var b=P(v.h,a,"DIVIDEND",v.h.aj)||"0";a=P(v.h,a,"DIVISOR",v.h.aj)||"0";return[b+" % "+a,v.h.aj]};v.h.math_constrain=function(a){var b=P(v.h,a,"VALUE",v.h.Eb)||"0",d=P(v.h,a,"LOW",v.h.Eb)||"0";a=P(v.h,a,"HIGH",v.h.Eb)||"Infinity";return["Math.min(Math.max("+b+", "+d+"), "+a+")",v.h.W]};
v.h.math_random_int=function(a){var b=P(v.h,a,"FROM",v.h.Eb)||"0";a=P(v.h,a,"TO",v.h.Eb)||"0";return[Q(v.h,"mathRandomInt",["function "+v.h.Qa+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",v.h.W]};v.h.math_random_float=function(){return["Math.random()",v.h.W]};
v.h.math_atan2=function(a){var b=P(v.h,a,"X",v.h.Eb)||"0";return["Math.atan2("+(P(v.h,a,"Y",v.h.Eb)||"0")+", "+b+") / Math.PI * 180",v.h.$i]};v.h.$s={};v.h.procedures_defreturn=function(a){var b=v.h.aa.getName(B(a,"NAME"),v.sa.ra),d=fk(v.h,a,"STACK");if(v.h.Af){var e=a.id.replace(/\$/g,"$$$$");d=dk(v.h.Af.replace(/%1/g,"'"+e+"'"),v.h.qc)+d}v.h.Jh&&(d=v.h.Jh.replace(/%1/g,"'"+a.id+"'")+d);(e=P(v.h,a,"RETURN",v.h.H)||"")&&(e=v.h.qc+"return "+e+";\n");for(var f=[],h=0;h<a.ca.length;h++)f[h]=v.h.aa.getName(a.ca[h],v.G.ra);d="function "+b+"("+f.join(", ")+") {\n"+d+e+"}";d=v.h.Ji(a,d);v.h.La["%"+b]=d;return null};
v.h.procedures_defnoreturn=v.h.procedures_defreturn;v.h.procedures_callreturn=function(a){for(var b=v.h.aa.getName(B(a,"NAME"),v.sa.ra),d=[],e=0;e<a.ca.length;e++)d[e]=P(v.h,a,"ARG"+e,v.h.Eb)||"null";return[b+"("+d.join(", ")+")",v.h.W]};v.h.procedures_callnoreturn=function(a){for(var b=v.h.aa.getName(B(a,"NAME"),v.sa.ra),d=[],e=0;e<a.ca.length;e++)d[e]=P(v.h,a,"ARG"+e,v.h.Eb)||"null";return b+"("+d.join(", ")+");\n"};
v.h.procedures_ifreturn=function(a){var b="if ("+(P(v.h,a,"CONDITION",v.h.H)||"false")+") {\n";a.hf?(a=P(v.h,a,"VALUE",v.h.H)||"null",b+=v.h.qc+"return "+a+";\n"):b+=v.h.qc+"return;\n";return b+"}\n"};v.h.Bt={};v.h.text=function(a){return[v.h.jk(B(a,"TEXT")),v.h.vb]};v.h.text.bd=function(a){return v.h.text.bd.Jp.test(a)?a:"String("+a+")"};v.h.text.bd.Jp=/^\s*'([^']|\\')*'\s*$/;
v.h.text_join=function(a){switch(a.Oc){case 0:return["''",v.h.vb];case 1:return a=P(v.h,a,"ADD0",v.h.H)||"''",a=v.h.text.bd(a),[a,v.h.W];case 2:var b=P(v.h,a,"ADD0",v.h.H)||"''";a=P(v.h,a,"ADD1",v.h.H)||"''";a=v.h.text.bd(b)+" + "+v.h.text.bd(a);return[a,v.h.zf];default:b=Array(a.Oc);for(var d=0;d<a.Oc;d++)b[d]=P(v.h,a,"ADD"+d,v.h.Eb)||"''";a="["+b.join(",")+"].join('')";return[a,v.h.W]}};
v.h.text_append=function(a){var b=v.h.aa.getName(B(a,"VAR"),v.G.ra);a=P(v.h,a,"TEXT",v.h.H)||"''";return b+" += "+v.h.text.bd(a)+";\n"};v.h.text_length=function(a){return[(P(v.h,a,"VALUE",v.h.W)||"''")+".length",v.h.ba]};v.h.text_isEmpty=function(a){return["!"+(P(v.h,a,"VALUE",v.h.ba)||"''")+".length",v.h.td]};
v.h.text_indexOf=function(a){var b="FIRST"==B(a,"END")?"indexOf":"lastIndexOf",d=P(v.h,a,"FIND",v.h.H)||"''";b=(P(v.h,a,"VALUE",v.h.ba)||"''")+"."+b+"("+d+")";return a.s.options.Qc?[b+" + 1",v.h.zf]:[b,v.h.W]};
v.h.text_charAt=function(a){var b=B(a,"WHERE")||"FROM_START",d=P(v.h,a,"VALUE","RANDOM"==b?v.h.H:v.h.ba)||"''";switch(b){case "FIRST":return[d+".charAt(0)",v.h.W];case "LAST":return[d+".slice(-1)",v.h.W];case "FROM_START":return a=v.h.Hf(a,"AT"),[d+".charAt("+a+")",v.h.W];case "FROM_END":return a=v.h.Hf(a,"AT",1,!0),[d+".slice("+a+").charAt(0)",v.h.W];case "RANDOM":return d=Q(v.h,"textRandomLetter",["function "+v.h.Qa+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];",
"}"])+"("+d+")",[d,v.h.W]}throw Error("Unhandled option (text_charAt).");};v.h.text.vw=function(a,b,d){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+d:"LAST"==b?a+".length - 1":d};
v.h.text_getSubstring=function(a){var b=P(v.h,a,"STRING",v.h.W)||"''",d=B(a,"WHERE1"),e=B(a,"WHERE2");if("FIRST"!=d||"LAST"!=e)if(b.match(/^'?\w+'?$/)||"FROM_END"!=d&&"LAST"!=d&&"FROM_END"!=e&&"LAST"!=e){switch(d){case "FROM_START":var f=v.h.Hf(a,"AT1");break;case "FROM_END":f=v.h.Hf(a,"AT1",1,!1,v.h.Rh);f=b+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(e){case "FROM_START":a=v.h.Hf(a,"AT2",1);break;case "FROM_END":a=v.h.Hf(a,"AT2",
0,!1,v.h.Rh);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (text_getSubstring).");}b=b+".slice("+f+", "+a+")"}else{f=v.h.Hf(a,"AT1");a=v.h.Hf(a,"AT2");var h=v.h.text.vw,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=Q(v.h,"subsequence"+k[d]+k[e],["function "+v.h.Qa+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+h("sequence",d,"at1")+";","  var end = "+
h("sequence",e,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[b,v.h.W]};
v.h.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[B(a,"CASE")];a=P(v.h,a,"TEXT",b?v.h.ba:v.h.H)||"''";return[b?a+b:Q(v.h,"textToTitleCase",["function "+v.h.Qa+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+a+")",v.h.W]};
v.h.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[B(a,"MODE")];return[(P(v.h,a,"TEXT",v.h.ba)||"''")+b,v.h.W]};v.h.text_print=function(a){return"window.alert("+(P(v.h,a,"TEXT",v.h.H)||"''")+");\n"};v.h.text_prompt_ext=function(a){var b="window.prompt("+(C(a,"TEXT")?v.h.jk(B(a,"TEXT")):P(v.h,a,"TEXT",v.h.H)||"''")+")";"NUMBER"==B(a,"TYPE")&&(b="parseFloat("+b+")");return[b,v.h.W]};v.h.text_prompt=v.h.text_prompt_ext;
v.h.text_count=function(a){var b=P(v.h,a,"TEXT",v.h.ba)||"''";a=P(v.h,a,"SUB",v.h.H)||"''";return[Q(v.h,"textCount",["function "+v.h.Qa+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+b+", "+a+")",v.h.Rh]};
v.h.text_replace=function(a){var b=P(v.h,a,"TEXT",v.h.ba)||"''",d=P(v.h,a,"FROM",v.h.H)||"''";a=P(v.h,a,"TO",v.h.H)||"''";return[Q(v.h,"textReplace",["function "+v.h.Qa+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+b+", "+d+", "+a+")",v.h.ba]};
v.h.text_reverse=function(a){return[(P(v.h,a,"TEXT",v.h.ba)||"''")+".split('').reverse().join('')",v.h.ba]};v.h.Ht={};v.h.variables_get=function(a){return[v.h.aa.getName(B(a,"VAR"),v.G.ra),v.h.vb]};v.h.variables_set=function(a){var b=P(v.h,a,"VALUE",v.h.Qh)||"0";return v.h.aa.getName(B(a,"VAR"),v.G.ra)+" = "+b+";\n"};v.i=new Yg("Python");hk(v.i,"False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip");
v.i.vb=0;v.i.Ny=1;v.i.Vy=1;v.i.ba=2.1;v.i.W=2.2;v.i.kq=3;v.i.Tk=4;v.i.Du=4;v.i.Gd=5;v.i.Ph=6;v.i.Fu=7;v.i.Cu=8;v.i.Gu=9;v.i.Eu=10;v.i.cj=11;v.i.td=12;v.i.xg=13;v.i.yg=14;v.i.Ne=15;v.i.Ty=16;v.i.H=99;v.i.bj=[[v.i.W,v.i.ba],[v.i.W,v.i.W],[v.i.ba,v.i.ba],[v.i.ba,v.i.W],[v.i.td,v.i.td],[v.i.xg,v.i.xg],[v.i.yg,v.i.yg]];
v.i.S=function(a){v.i.zg=this.qc+"pass\n";v.i.La=Object.create(null);v.i.yj=Object.create(null);v.i.aa?v.i.aa.reset():v.i.aa=new jk(v.i.Uk);v.i.aa.ua=a.ua;for(var b=[],d=v.G.cn(a),e=0;e<d.length;e++)b.push(v.i.aa.getName(d[e],"DEVELOPER_VARIABLE")+" = None");a=v.G.Wk(a);for(e=0;e<a.length;e++)b.push(v.i.aa.getName(a[e].ga(),v.G.ra)+" = None");v.i.La.variables=b.join("\n")};
v.i.finish=function(a){var b=[],d=[],e;for(e in v.i.La){var f=v.i.La[e];f.match(/^(from\s+\S+\s+)?import\s+\S+/)?b.push(f):d.push(f)}delete v.i.La;delete v.i.yj;v.i.aa.reset();return(b.join("\n")+"\n\n"+d.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+a};v.i.np=function(a){return a+"\n"};v.i.jk=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n");var b="'";-1!==a.indexOf("'")&&(-1===a.indexOf('"')?b='"':a=a.replace(/'/g,"\\'"));return b+a+b};
v.i.Ji=function(a,b,d){var e="";if(!a.P||!a.P.xa){var f=a.Aj();(f=v.j.Rp(f,v.i.aq-3))&&(e=a.oe?e+('"""'+f+'\n"""\n'):e+dk(f+"\n","# "));for(var h=0;h<a.V.length;h++)a.V[h].type==v.$a&&(f=D(a.V[h].connection))&&(f=ek(f))&&(e+=dk(f,"# "))}a=a.M&&D(a.M);d=d?"":ck(v.i,a);return e+b+d};
v.i.ci=function(a,b,d,e){d=d||0;a.s.options.Qc&&d--;var f=a.s.options.Qc?"1":"0";a=P(v.i,a,b,d?v.i.Ph:v.i.H)||f;v.Cc(a)?(a=parseInt(a,10)+d,e&&(a=-a)):(a=0<d?"int("+a+" + "+d+")":0>d?"int("+a+" - "+-d+")":"int("+a+")",e&&(a="-"+a));return a};v.i.rn={};v.i.colour_picker=function(a){return["'"+B(a,"COLOUR")+"'",v.i.vb]};v.i.colour_random=function(){v.i.La.import_random="import random";return["'#%06x' % random.randint(0, 2**24 - 1)",v.i.W]};
v.i.colour_rgb=function(a){var b=Q(v.i,"colour_rgb",["def "+v.i.Qa+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"]),d=P(v.i,a,"RED",v.i.H)||0,e=P(v.i,a,"GREEN",v.i.H)||0;a=P(v.i,a,"BLUE",v.i.H)||0;return[b+"("+d+", "+e+", "+a+")",v.i.W]};
v.i.colour_blend=function(a){var b=Q(v.i,"colour_blend",["def "+v.i.Qa+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"]),d=P(v.i,a,"COLOUR1",
v.i.H)||"'#000000'",e=P(v.i,a,"COLOUR2",v.i.H)||"'#000000'";a=P(v.i,a,"RATIO",v.i.H)||0;return[b+"("+d+", "+e+", "+a+")",v.i.W]};v.i.ts={};v.i.controls_if=function(a){var b=0,d="";do{var e=P(v.i,a,"IF"+b,v.i.H)||"False";var f=fk(v.i,a,"DO"+b)||v.i.zg;d+=(0==b?"if ":"elif ")+e+":\n"+f;++b}while(E(a,"IF"+b));E(a,"ELSE")&&(f=fk(v.i,a,"ELSE")||v.i.zg,d+="else:\n"+f);return d};v.i.controls_ifelse=v.i.controls_if;v.i.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[B(a,"OP")],d=v.i.cj,e=P(v.i,a,"A",d)||"0";a=P(v.i,a,"B",d)||"0";return[e+" "+b+" "+a,d]};
v.i.logic_operation=function(a){var b="AND"==B(a,"OP")?"and":"or",d="and"==b?v.i.xg:v.i.yg,e=P(v.i,a,"A",d);a=P(v.i,a,"B",d);if(e||a){var f="and"==b?"True":"False";e||(e=f);a||(a=f)}else a=e="False";return[e+" "+b+" "+a,d]};v.i.logic_negate=function(a){return["not "+(P(v.i,a,"BOOL",v.i.td)||"True"),v.i.td]};v.i.logic_boolean=function(a){return["TRUE"==B(a,"BOOL")?"True":"False",v.i.vb]};v.i.logic_null=function(){return["None",v.i.vb]};
v.i.logic_ternary=function(a){var b=P(v.i,a,"IF",v.i.Ne)||"False",d=P(v.i,a,"THEN",v.i.Ne)||"None";a=P(v.i,a,"ELSE",v.i.Ne)||"None";return[d+" if "+b+" else "+a,v.i.Ne]};v.i.us={};v.i.controls_repeat_ext=function(a){var b=C(a,"TIMES")?String(parseInt(B(a,"TIMES"),10)):P(v.i,a,"TIMES",v.i.H)||"0";b=v.Cc(b)?parseInt(b,10):"int("+b+")";var d=fk(v.i,a,"DO");d=gk(v.i,d,a.id)||v.i.zg;return"for "+ik(v.i.aa,"count",v.G.ra)+" in range("+b+"):\n"+d};v.i.controls_repeat=v.i.controls_repeat_ext;
v.i.controls_whileUntil=function(a){var b="UNTIL"==B(a,"MODE"),d=P(v.i,a,"BOOL",b?v.i.td:v.i.H)||"False",e=fk(v.i,a,"DO");e=gk(v.i,e,a.id)||v.i.zg;b&&(d="not "+d);return"while "+d+":\n"+e};
v.i.controls_for=function(a){function b(a,b,f){return"("+a+" <= "+b+") and "+e()+"("+a+", "+b+", "+f+") or "+d()+"("+a+", "+b+", "+f+")"}function d(){return Q(v.i,"downRange",["def "+v.i.Qa+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])}function e(){return Q(v.i,"upRange",["def "+v.i.Qa+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])}var f=v.i.aa.getName(B(a,"VAR"),v.G.ra),h=P(v.i,a,"FROM",v.i.H)||"0",k=P(v.i,
a,"TO",v.i.H)||"0",l=P(v.i,a,"BY",v.i.H)||"1",m=fk(v.i,a,"DO");m=gk(v.i,m,a.id)||v.i.zg;var p="";v.Cc(h)&&v.Cc(k)&&v.Cc(l)?(h=parseFloat(h),k=parseFloat(k),l=Math.abs(parseFloat(l)),0===h%1&&0===k%1&&0===l%1?(h<=k?(k++,a=0==h&&1==l?k:h+", "+k,1!=l&&(a+=", "+l)):(k--,a=h+", "+k+", -"+l),a="range("+a+")"):(a=h<k?e():d(),a+="("+h+", "+k+", "+l+")")):(a=function(a,b){v.Cc(a)?a=parseFloat(a):a.match(/^\w+$/)?a="float("+a+")":(b=ik(v.i.aa,f+b,v.G.ra),p+=b+" = float("+a+")\n",a=b);return a},h=a(h,"_start"),
k=a(k,"_end"),a(l,"_inc"),a="number"==typeof h&&"number"==typeof k?h<k?e(h,k,l):d(h,k,l):b(h,k,l));return p+="for "+f+" in "+a+":\n"+m};v.i.controls_forEach=function(a){var b=v.i.aa.getName(B(a,"VAR"),v.G.ra),d=P(v.i,a,"LIST",v.i.cj)||"[]",e=fk(v.i,a,"DO");e=gk(v.i,e,a.id)||v.i.zg;return"for "+b+" in "+d+":\n"+e};v.i.controls_flow_statements=function(a){switch(B(a,"FLOW")){case "BREAK":return"break\n";case "CONTINUE":return"continue\n"}throw Error("Unknown flow statement.");};v.i.vs={};hk(v.i,"math,random,Number");v.i.math_number=function(a){a=parseFloat(B(a,"NUM"));if(Infinity==a){a='float("inf")';var b=v.i.W}else-Infinity==a?(a='-float("inf")',b=v.i.Tk):b=0>a?v.i.Tk:v.i.vb;return[a,b]};v.i.math_arithmetic=function(a){var b={ADD:[" + ",v.i.Ph],MINUS:[" - ",v.i.Ph],MULTIPLY:[" * ",v.i.Gd],DIVIDE:[" / ",v.i.Gd],POWER:[" ** ",v.i.kq]}[B(a,"OP")],d=b[0];b=b[1];var e=P(v.i,a,"A",b)||"0";a=P(v.i,a,"B",b)||"0";return[e+d+a,b]};
v.i.math_single=function(a){var b=B(a,"OP");if("NEG"==b){var d=P(v.i,a,"NUM",v.i.Tk)||"0";return["-"+d,v.i.Tk]}v.i.La.import_math="import math";a="SIN"==b||"COS"==b||"TAN"==b?P(v.i,a,"NUM",v.i.Gd)||"0":P(v.i,a,"NUM",v.i.H)||"0";switch(b){case "ABS":d="math.fabs("+a+")";break;case "ROOT":d="math.sqrt("+a+")";break;case "LN":d="math.log("+a+")";break;case "LOG10":d="math.log10("+a+")";break;case "EXP":d="math.exp("+a+")";break;case "POW10":d="math.pow(10,"+a+")";break;case "ROUND":d="round("+a+")";
break;case "ROUNDUP":d="math.ceil("+a+")";break;case "ROUNDDOWN":d="math.floor("+a+")";break;case "SIN":d="math.sin("+a+" / 180.0 * math.pi)";break;case "COS":d="math.cos("+a+" / 180.0 * math.pi)";break;case "TAN":d="math.tan("+a+" / 180.0 * math.pi)"}if(d)return[d,v.i.W];switch(b){case "ASIN":d="math.asin("+a+") / math.pi * 180";break;case "ACOS":d="math.acos("+a+") / math.pi * 180";break;case "ATAN":d="math.atan("+a+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+b);}return[d,
v.i.Gd]};v.i.math_constant=function(a){var b={PI:["math.pi",v.i.ba],E:["math.e",v.i.ba],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",v.i.Gd],SQRT2:["math.sqrt(2)",v.i.ba],SQRT1_2:["math.sqrt(1.0 / 2)",v.i.ba],INFINITY:["float('inf')",v.i.vb]};a=B(a,"CONSTANT");"INFINITY"!=a&&(v.i.La.import_math="import math");return b[a]};
v.i.math_number_property=function(a){var b=P(v.i,a,"NUMBER_TO_CHECK",v.i.Gd)||"0",d=B(a,"PROPERTY");if("PRIME"==d){v.i.La.import_math="import math";v.i.La.from_numbers_import_Number="from numbers import Number";var e=Q(v.i,"math_isPrime",["def "+v.i.Qa+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, Number):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:",
"    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+b+")";return[e,v.i.W]}switch(d){case "EVEN":e=b+" % 2 == 0";break;case "ODD":e=b+" % 2 == 1";break;case "WHOLE":e=b+" % 1 == 0";
break;case "POSITIVE":e=b+" > 0";break;case "NEGATIVE":e=b+" < 0";break;case "DIVISIBLE_BY":a=P(v.i,a,"DIVISOR",v.i.Gd);if(!a||"0"==a)return["False",v.i.vb];e=b+" % "+a+" == 0"}return[e,v.i.cj]};v.i.math_change=function(a){v.i.La.from_numbers_import_Number="from numbers import Number";var b=P(v.i,a,"DELTA",v.i.Ph)||"0";a=v.i.aa.getName(B(a,"VAR"),v.G.ra);return a+" = ("+a+" if isinstance("+a+", Number) else 0) + "+b+"\n"};v.i.math_round=v.i.math_single;v.i.math_trig=v.i.math_single;
v.i.math_on_list=function(a){var b=B(a,"OP");a=P(v.i,a,"LIST",v.i.H)||"[]";switch(b){case "SUM":b="sum("+a+")";break;case "MIN":b="min("+a+")";break;case "MAX":b="max("+a+")";break;case "AVERAGE":v.i.La.from_numbers_import_Number="from numbers import Number";b=Q(v.i,"math_mean",["def "+v.i.Qa+"(myList):","  localList = [e for e in myList if isinstance(e, Number)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]);b=b+"("+a+")";break;case "MEDIAN":v.i.La.from_numbers_import_Number=
"from numbers import Number";b=Q(v.i,"math_median",["def "+v.i.Qa+"(myList):","  localList = sorted([e for e in myList if isinstance(e, Number)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"]);b=b+"("+a+")";break;case "MODE":b=Q(v.i,"math_modes",["def "+v.i.Qa+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",
'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]);b=b+"("+
a+")";break;case "STD_DEV":v.i.La.import_math="import math";b=Q(v.i,"math_standard_deviation",["def "+v.i.Qa+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]);b=b+"("+a+")";break;case "RANDOM":v.i.La.import_random="import random";b="random.choice("+a+")";break;default:throw Error("Unknown operator: "+b);}return[b,v.i.W]};
v.i.math_modulo=function(a){var b=P(v.i,a,"DIVIDEND",v.i.Gd)||"0";a=P(v.i,a,"DIVISOR",v.i.Gd)||"0";return[b+" % "+a,v.i.Gd]};v.i.math_constrain=function(a){var b=P(v.i,a,"VALUE",v.i.H)||"0",d=P(v.i,a,"LOW",v.i.H)||"0";a=P(v.i,a,"HIGH",v.i.H)||"float('inf')";return["min(max("+b+", "+d+"), "+a+")",v.i.W]};v.i.math_random_int=function(a){v.i.La.import_random="import random";var b=P(v.i,a,"FROM",v.i.H)||"0";a=P(v.i,a,"TO",v.i.H)||"0";return["random.randint("+b+", "+a+")",v.i.W]};
v.i.math_random_float=function(){v.i.La.import_random="import random";return["random.random()",v.i.W]};v.i.math_atan2=function(a){v.i.La.import_math="import math";var b=P(v.i,a,"X",v.i.H)||"0";return["math.atan2("+(P(v.i,a,"Y",v.i.H)||"0")+", "+b+") / math.pi * 180",v.i.Gd]};v.i.$s={};
v.i.procedures_defreturn=function(a){for(var b=[],d,e=a.s,f=v.G.Wk(e)||[],h=0;d=f[h];h++)d=d.name,-1==a.ca.indexOf(d)&&b.push(v.i.aa.getName(d,v.G.ra));e=v.G.cn(e);for(h=0;h<e.length;h++)b.push(v.i.aa.getName(e[h],"DEVELOPER_VARIABLE"));b=b.length?v.i.qc+"global "+b.join(", ")+"\n":"";e=v.i.aa.getName(B(a,"NAME"),v.sa.ra);f=fk(v.i,a,"STACK");v.i.Af&&(h=a.id.replace(/\$/g,"$$$$"),f=dk(v.i.Af.replace(/%1/g,"'"+h+"'"),v.i.qc)+f);v.i.Jh&&(f=v.i.Jh.replace(/%1/g,'"'+a.id+'"')+f);(d=P(v.i,a,"RETURN",v.i.H)||
"")?d=v.i.qc+"return "+d+"\n":f||(f=v.i.zg);var k=[];for(h=0;h<a.ca.length;h++)k[h]=v.i.aa.getName(a.ca[h],v.G.ra);b="def "+e+"("+k.join(", ")+"):\n"+b+f+d;b=v.i.Ji(a,b);v.i.La["%"+e]=b;return null};v.i.procedures_defnoreturn=v.i.procedures_defreturn;v.i.procedures_callreturn=function(a){for(var b=v.i.aa.getName(B(a,"NAME"),v.sa.ra),d=[],e=0;e<a.ca.length;e++)d[e]=P(v.i,a,"ARG"+e,v.i.H)||"None";return[b+"("+d.join(", ")+")",v.i.W]};
v.i.procedures_callnoreturn=function(a){for(var b=v.i.aa.getName(B(a,"NAME"),v.sa.ra),d=[],e=0;e<a.ca.length;e++)d[e]=P(v.i,a,"ARG"+e,v.i.H)||"None";return b+"("+d.join(", ")+")\n"};v.i.procedures_ifreturn=function(a){var b="if "+(P(v.i,a,"CONDITION",v.i.H)||"False")+":\n";a.hf?(a=P(v.i,a,"VALUE",v.i.H)||"None",b+=v.i.qc+"return "+a+"\n"):b+=v.i.qc+"return\n";return b};v.i.Bt={};v.i.text=function(a){return[v.i.jk(B(a,"TEXT")),v.i.vb]};v.i.text.bd=function(a){return v.i.text.bd.Jp.test(a)?a:"str("+a+")"};v.i.text.bd.Jp=/^\s*'([^']|\\')*'\s*$/;
v.i.text_join=function(a){switch(a.Oc){case 0:return["''",v.i.vb];case 1:return a=P(v.i,a,"ADD0",v.i.H)||"''",a=v.i.text.bd(a),[a,v.i.W];case 2:var b=P(v.i,a,"ADD0",v.i.H)||"''";a=P(v.i,a,"ADD1",v.i.H)||"''";a=v.i.text.bd(b)+" + "+v.i.text.bd(a);return[a,v.i.Ph];default:b=[];for(var d=0;d<a.Oc;d++)b[d]=P(v.i,a,"ADD"+d,v.i.H)||"''";a=ik(v.i.aa,"x",v.G.ra);a="''.join([str("+a+") for "+a+" in ["+b.join(", ")+"]])";return[a,v.i.W]}};
v.i.text_append=function(a){var b=v.i.aa.getName(B(a,"VAR"),v.G.ra);a=P(v.i,a,"TEXT",v.i.H)||"''";return b+" = str("+b+") + "+v.i.text.bd(a)+"\n"};v.i.text_length=function(a){return["len("+(P(v.i,a,"VALUE",v.i.H)||"''")+")",v.i.W]};v.i.text_isEmpty=function(a){return["not len("+(P(v.i,a,"VALUE",v.i.H)||"''")+")",v.i.td]};
v.i.text_indexOf=function(a){var b="FIRST"==B(a,"END")?"find":"rfind",d=P(v.i,a,"FIND",v.i.H)||"''";b=(P(v.i,a,"VALUE",v.i.ba)||"''")+"."+b+"("+d+")";return a.s.options.Qc?[b+" + 1",v.i.Ph]:[b,v.i.W]};
v.i.text_charAt=function(a){var b=B(a,"WHERE")||"FROM_START",d=P(v.i,a,"VALUE",v.i.ba)||"''";switch(b){case "FIRST":return[d+"[0]",v.i.ba];case "LAST":return[d+"[-1]",v.i.ba];case "FROM_START":return a=v.i.ci(a,"AT"),[d+"["+a+"]",v.i.ba];case "FROM_END":return a=v.i.ci(a,"AT",1,!0),[d+"["+a+"]",v.i.ba];case "RANDOM":return v.i.La.import_random="import random",d=Q(v.i,"text_random_letter",["def "+v.i.Qa+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+d+")",[d,v.i.W]}throw Error("Unhandled option (text_charAt).");
};
v.i.text_getSubstring=function(a){var b=B(a,"WHERE1"),d=B(a,"WHERE2"),e=P(v.i,a,"STRING",v.i.ba)||"''";switch(b){case "FROM_START":b=v.i.ci(a,"AT1");"0"==b&&(b="");break;case "FROM_END":b=v.i.ci(a,"AT1",1,!0);break;case "FIRST":b="";break;default:throw Error("Unhandled option (text_getSubstring)");}switch(d){case "FROM_START":a=v.i.ci(a,"AT2",1);break;case "FROM_END":a=v.i.ci(a,"AT2",0,!0);v.Cc(String(a))?"0"==a&&(a=""):(v.i.La.import_sys="import sys",a+=" or sys.maxsize");break;case "LAST":a="";break;
default:throw Error("Unhandled option (text_getSubstring)");}return[e+"["+b+" : "+a+"]",v.i.ba]};v.i.text_changeCase=function(a){var b={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[B(a,"CASE")];return[(P(v.i,a,"TEXT",v.i.ba)||"''")+b,v.i.W]};v.i.text_trim=function(a){var b={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[B(a,"MODE")];return[(P(v.i,a,"TEXT",v.i.ba)||"''")+b,v.i.W]};v.i.text_print=function(a){return"print("+(P(v.i,a,"TEXT",v.i.H)||"''")+")\n"};
v.i.text_prompt_ext=function(a){var b=Q(v.i,"text_prompt",["def "+v.i.Qa+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]),d=C(a,"TEXT")?v.i.jk(B(a,"TEXT")):P(v.i,a,"TEXT",v.i.H)||"''";b=b+"("+d+")";"NUMBER"==B(a,"TYPE")&&(b="float("+b+")");return[b,v.i.W]};v.i.text_prompt=v.i.text_prompt_ext;v.i.text_count=function(a){var b=P(v.i,a,"TEXT",v.i.ba)||"''";a=P(v.i,a,"SUB",v.i.H)||"''";return[b+".count("+a+")",v.i.ba]};
v.i.text_replace=function(a){var b=P(v.i,a,"TEXT",v.i.ba)||"''",d=P(v.i,a,"FROM",v.i.H)||"''";a=P(v.i,a,"TO",v.i.H)||"''";return[b+".replace("+d+", "+a+")",v.i.ba]};v.i.text_reverse=function(a){return[(P(v.i,a,"TEXT",v.i.ba)||"''")+"[::-1]",v.i.ba]};v.i.Ht={};v.i.variables_get=function(a){return[v.i.aa.getName(B(a,"VAR"),v.G.ra),v.i.vb]};v.i.variables_set=function(a){var b=P(v.i,a,"VALUE",v.i.H)||"0";return v.i.aa.getName(B(a,"VAR"),v.G.ra)+" = "+b+"\n"};v.L.movie_circle={S:function(){this.pb(160);K(K(Xg(L(this,"X").Ha("Number"),v.Qb),S("Movie_circleDraw")),S("Movie_x"));K(Xg(L(this,"Y").Ha("Number"),v.Qb),S("Movie_y"));K(Xg(L(this,"RADIUS").Ha("Number"),v.Qb),S("Movie_radius"));this.Ce(!0);this.Ae(!0);this.Sa(S("Movie_circleTooltip"))}};v.h.movie_circle=function(a){var b=P(v.h,a,"X",v.h.H)||"0",d=P(v.h,a,"Y",v.h.H)||"0";a=P(v.h,a,"RADIUS",v.h.H)||"0";return"circle("+b+", "+d+", "+a+");\n"};
v.i.movie_circle=function(a){var b=P(v.i,a,"X",v.i.H)||"0",d=P(v.i,a,"Y",v.i.H)||"0";a=P(v.i,a,"RADIUS",v.i.H)||"0";return"circle("+b+", "+d+", "+a+")\n"};v.L.movie_rect={S:function(){this.pb(160);K(K(Xg(L(this,"X").Ha("Number"),v.Qb),S("Movie_rectDraw")),S("Movie_x"));K(Xg(L(this,"Y").Ha("Number"),v.Qb),S("Movie_y"));K(Xg(L(this,"WIDTH").Ha("Number"),v.Qb),S("Movie_width"));K(Xg(L(this,"HEIGHT").Ha("Number"),v.Qb),S("Movie_height"));this.Ce(!0);this.Ae(!0);this.Sa(S("Movie_rectTooltip"))}};
v.h.movie_rect=function(a){var b=P(v.h,a,"X",v.h.H)||"0",d=P(v.h,a,"Y",v.h.H)||"0",e=P(v.h,a,"WIDTH",v.h.H)||"0";a=P(v.h,a,"HEIGHT",v.h.H)||"0";return"rect("+b+", "+d+", "+e+", "+a+");\n"};v.i.movie_rect=function(a){var b=P(v.i,a,"X",v.i.H)||"0",d=P(v.i,a,"Y",v.i.H)||"0",e=P(v.i,a,"WIDTH",v.i.H)||"0";a=P(v.i,a,"HEIGHT",v.i.H)||"0";return"rect("+b+", "+d+", "+e+", "+a+")\n"};
v.L.movie_line={S:function(){this.pb(160);K(K(Xg(L(this,"X1").Ha("Number"),v.Qb),S("Movie_lineDraw")),S("Movie_x1"));K(Xg(L(this,"Y1").Ha("Number"),v.Qb),S("Movie_y1"));K(Xg(L(this,"X2").Ha("Number"),v.Qb),S("Movie_x2"));K(Xg(L(this,"Y2").Ha("Number"),v.Qb),S("Movie_y2"));K(Xg(L(this,"WIDTH").Ha("Number"),v.Qb),S("Movie_width"));this.Ce(!0);this.Ae(!0);this.Sa(S("Movie_rectTooltip"))}};
v.h.movie_line=function(a){var b=P(v.h,a,"X1",v.h.H)||"0",d=P(v.h,a,"Y1",v.h.H)||"0",e=P(v.h,a,"X2",v.h.H)||"0",f=P(v.h,a,"Y2",v.h.H)||"0";a=P(v.h,a,"WIDTH",v.h.H)||"0";return"line("+b+", "+d+", "+e+", "+f+", "+a+");\n"};v.i.movie_line=function(a){var b=P(v.i,a,"X1",v.i.H)||"0",d=P(v.i,a,"Y1",v.i.H)||"0",e=P(v.i,a,"X2",v.i.H)||"0",f=P(v.i,a,"Y2",v.i.H)||"0";a=P(v.i,a,"WIDTH",v.i.H)||"0";return"line("+b+", "+d+", "+e+", "+f+", "+a+")\n"};
v.L.movie_time={S:function(){this.pb(v.g.VARIABLES_HUE);K(M(this),"time (0\u2192100)");this.Be(!0,"Number");this.Sa(S("Movie_timeTooltip"))}};v.h.movie_time=function(){return["time()",v.h.vb]};v.i.movie_time=function(){return["time()",v.i.vb]};v.L.movie_colour={S:function(){this.pb(v.g.COLOUR_HUE);K(L(this,"COLOUR").Ha("Colour"),S("Movie_setColour"));this.Ce(!0);this.Ae(!0);this.Sa(S("Movie_colourTooltip"))}};v.h.movie_colour=function(a){return"penColour("+(P(v.h,a,"COLOUR",v.h.H)||"'#000000'")+");\n"};
v.i.movie_colour=function(a){return"penColour("+(P(v.i,a,"COLOUR",v.i.H)||"'#000000'")+")\n"};var Bl={},Cl={};function Dl(){throw Error("Do not instantiate directly");}Dl.prototype.un=null;Dl.prototype.Jf=function(){return this.content};Dl.prototype.toString=function(){return this.content};Dl.prototype.Km=function(){if(this.vn===Cl)return ec(this.toString());if(this.vn!==Bl)throw Error("Sanitized content was not of kind TEXT or HTML.");return fc(this.toString(),this.un||null)};function El(a){if(null!=a)switch(a.un){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Fl(){Dl.call(this)}r(Fl,Dl);Fl.prototype.vn=Bl;function Gl(a){return null!=a&&a.vn===Bl?a:Hl(String(String(a)).replace(Il,Jl),El(a))}
var Hl=function(a){function b(){}b.prototype=a.prototype;return function(a,e){var d=new b;d.content=String(a);void 0!==e&&(d.un=e);return d}}(Fl),Kl={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Jl(a){return Kl[a]}var Il=/[\x00\x22\x26\x27\x3c\x3e]/g;function Ll(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Ml(){for(var a='<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of Python:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of Python:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Movie_x">x</span><span id="Movie_y">y</span><span id="Movie_x1">start x</span><span id="Movie_y1">start y</span><span id="Movie_x2">end x</span><span id="Movie_y2">end y</span><span id="Movie_radius">radius</span><span id="Movie_width">width</span><span id="Movie_height">height</span><span id="Movie_circleTooltip">Draws a circle at the specified location and with the specified radius.</span><span id="Movie_circleDraw">circle</span><span id="Movie_rectTooltip">Draws a rectangle at the specified location and with the specified width and height.</span><span id="Movie_rectDraw">rectangle</span><span id="Movie_lineTooltip">Draws a line from one point to another with the specified width.</span><span id="Movie_lineDraw">line</span><span id="Movie_timeTooltip">Returns the current time in the animation (0-100).</span><span id="Movie_colourTooltip">Changes the colour of the pen.</span><span id="Movie_setColour">set colour to</span><span id="Movie_submitDisabled">Your movie doesn\'t move. Use blocks to make something interesting. Then you may submit your movie to the gallery.</span></div><table width="100%"><tr><td><h1>'+
('<span id="title">'+(ml?'<a href="index.html?lang='+Gl(kl)+'">':'<a href="./?lang='+Gl(kl)+'">')+"Blockly Games</a> : "+Gl({appName:"Movie"}.appName)+"</span>"),b=" &nbsp; ",d=1;11>d;d++)b+=" "+(d==R?'<span class="level_number level_done" id="level'+Gl(d)+'">'+Gl(d)+"</span>":10==d?'<a class="level_number" id="level'+Gl(d)+'" href="?lang='+Gl(kl)+"&level="+Gl(d)+Gl("")+'">'+Gl(d)+"</a>":'<a class="level_dot" id="level'+Gl(d)+'" href="?lang='+Gl(kl)+"&level="+Gl(d)+Gl("")+'"></a>');return a+b+'</h1></td><td class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;<button id="helpButton">Help</button></td></tr></table><div id="visualization"><div id="coordinates"><span id="x"></span><span id="y"></span></div><canvas id="scratch" width="400" height="400" style="display: none"></canvas><canvas id="hatching" width="400" height="400" style="display: none"></canvas><canvas id="axies" width="400" height="400" style="display: none" dir="ltr"></canvas><canvas id="display" width="400" height="400" style="vertical-align: bottom"></canvas></div><svg id="scrubber" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="402" height="24"><image xlink:href="movie/youtube-bg.png" height=25 width=402 x=0 y=-1 /></svg>'+
(10!=R||ml?"":'<table style="padding-top: 1em; width: 400px;"><tr><td style="text-align: center;"><form action="/gallery" target="movie-gallery"><input type="hidden" name="app" value="movie"><input type="hidden" name="lang" value="'+Gl(kl)+'"><button type="submit" title="Open the gallery of movies."><img src="common/1x1.gif" class="gallery icon21"> See Gallery</button></form></td><td style="text-align: center;"><button id="submitButton" title="Submit your movie to the gallery."><img src="common/1x1.gif" class="camera icon21"> Submit to Gallery</button></td></tr></table><div id="galleryDialog" class="dialogHiddenContent"><form id="galleryForm" action="/gallery-api/submit" method="post" onsubmit="return false"><header>Submit your movie to the gallery.</header><canvas id="thumbnail" width="200" height="200"></canvas><input type="hidden" name="app" value="movie"><input id="galleryThumb" type="hidden" name="thumb"><input id="galleryXml" type="hidden" name="xml"><div>Title: <input id="galleryTitle" type="text" name="title" required></div><footer>\x3c!--Legal disclaimer goes here if needed.--\x3e</footer><div class="farSide"><button id="galleryCancel" type="button">Cancel</button><button id="galleryOk" class="secondary" type="submit">OK</button></div></form></div>')+
('<xml id="toolbox" style="display: none"><category name="Movie"><block type="movie_circle"><value name="X"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="Y"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="RADIUS"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="movie_rect"><value name="X"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="Y"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="WIDTH"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="HEIGHT"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="movie_line"><value name="X1"><shadow type="math_number"><field name="NUM">40</field></shadow></value><value name="Y1"><shadow type="math_number"><field name="NUM">40</field></shadow></value><value name="X2"><shadow type="math_number"><field name="NUM">60</field></shadow></value><value name="Y2"><shadow type="math_number"><field name="NUM">60</field></shadow></value><value name="WIDTH"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>'+
(1<R?'<block type="movie_time"></block>':"")+'</category><category name="Colour"><block type="movie_colour"><value name="COLOUR"><shadow type="colour_picker"></shadow></value></block>'+(10==R?'<block type="colour_picker"></block><block type="colour_rgb"><value name="RED"><shadow type="math_number"><field name="NUM">100</field></shadow></value><value name="GREEN"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="BLUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="colour_blend"><value name="COLOUR1"><shadow type="colour_picker"><field name="COLOUR">#ff0000</field></shadow></value><value name="COLOUR2"><shadow type="colour_picker"><field name="COLOUR">#3333ff</field></shadow></value><value name="RATIO"><shadow type="math_number"><field name="NUM">0.5</field></shadow></value></block>':
"")+"</category>"+(6<R?'<category name="Logic"><block type="controls_if">'+(10>R?'<mutation else="1"></mutation>':"")+'</block><block type="logic_compare"></block>'+(10==R?'<block type="logic_operation"></block><block type="logic_negate"></block><block type="logic_boolean"></block><block type="logic_ternary"></block>':"")+"</category>":"")+(10==R?'<category name="Loops"><block type="controls_whileUntil"></block><block type="controls_for"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="BY"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="controls_flow_statements"></block></category>':
"")+(2<R?'<category name="Math"><block type="math_number"></block><block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>'+(10==R?'<block type="math_single"><value name="NUM"><shadow type="math_number"><field name="NUM">9</field></shadow></value></block><block type="math_trig"><value name="NUM"><shadow type="math_number"><field name="NUM">45</field></shadow></value></block><block type="math_constant"></block><block type="math_number_property"><value name="NUMBER_TO_CHECK"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="math_round"><value name="NUM"><shadow type="math_number"><field name="NUM">3.1</field></shadow></value></block><block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">64</field></shadow></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="math_constrain"><value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="LOW"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="HIGH"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block>':
"")+"</category>":"")+(10==R?'<sep></sep><category name="Variables" custom="VARIABLE"></category><category name="Functions" custom="PROCEDURE"></category>':"")+"</xml>")+'<div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div>'+
('<div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>'+Ll()+"</div>")+(9==R?'<div id="helpLayer" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">Move the background circle to the top of your program.  Then it will appear behind the person.</div>'+Ll()+"</div>":"")+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==R?"Use simple shapes to draw this person.":2==R?"This level is a movie. You want the person's arm to move across the screen. Press the play button to see a preview.<div id=\"sampleHelp2\" class=\"readonly\"></div>As the movie plays, the value of the 'time' block counts from 0 to 100. Since you want the 'y' position of the arm to start at 0 and go to 100 this should be easy.":
3==R?"The 'time' block counts from 0 to 100. But now you want the 'y' position of the other arm to start at 100 and go to 0. Can you figure out a simple mathematical formula that flips the direction?":4==R?"Use what you learned in the previous level to make legs that cross.":5==R?'The mathematical formula for the arm is complicated. Here\'s the answer:<br><br><code class="ltr">y = ((time - 50) &divide; 5) ^ 2</code><code class="rtl">2 ^ (5 &divide; (50 - time)) = y</code>':6==R?"Give the person a couple of hands.":
7==R?"Use the 'if' block to draw a small head for the first half of the movie. Then draw a big head for the second half of the movie.":8==R?"Make the legs reverse direction half way through the movie.":9==R?"Draw an expanding circle behind the person.":10==R?"Make a movie of anything you want. You've got a huge number of new blocks you can explore. Have fun!"+(ml?"":'<br><br>Use the "See Gallery" button to see movies that other people have made. If you make an interesting movie, use the "Submit to Gallery" button to publish it.'):
"")+"</div>"+Ll()+"</div>"};function Nl(a){var b=Ol;this.Fd=42;this.Xi=328;this.Vi=11.5;this.$d=12;this.kb=0;this.Dq=b;this.hn=[];this.at=[];b=document.createElementNS(Pl,"text");b.setAttribute("style","font-size: 10pt");b.setAttribute("x",this.Xi+9);b.setAttribute("y",16);nl()&&b.setAttribute("text-anchor","end");a.appendChild(b);this.qa=b;b="#ff3333 #f72f2f #ef2a2a #e72727 #df2222 #d71f1f #cf1a1a".split(" ");for(var d=0;d<b.length;d++){var e=document.createElementNS(Pl,"rect");e.setAttribute("style","fill: "+b[d]);e.setAttribute("x",
this.Fd);e.setAttribute("y",8+d);e.setAttribute("height",1);a.appendChild(e);this.at[d]=e}b=document.createElementNS(Pl,"rect");b.setAttribute("style","opacity: 0");b.setAttribute("x",this.Fd-this.$d);b.setAttribute("y",this.Vi-this.$d);b.setAttribute("width",this.Xi-this.Fd+2*this.$d);b.setAttribute("height",2*this.$d);b.setAttribute("rx",this.$d);b.setAttribute("ry",this.$d);a.appendChild(b);e=document.createElementNS(Pl,"clipPath");e.setAttribute("id","knobClipPath");a.appendChild(e);d=document.createElementNS(Pl,
"rect");d.setAttribute("width","16");d.setAttribute("height","16");d.setAttribute("y","3");e.appendChild(d);this.$w=d;e=document.createElementNS(Pl,"image");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","movie/icons.png");e.setAttribute("clip-path","url(#knobClipPath)");e.setAttribute("width","63");e.setAttribute("height","42");e.setAttribute("y","3");a.appendChild(e);this.hs=e;e=document.createElementNS(Pl,"rect");e.setAttribute("style","opacity: 0");e.setAttribute("width",2*this.$d);
e.setAttribute("height",2*this.$d);e.setAttribute("y",this.Vi-this.$d);a.appendChild(e);this.vo=e;this.setValue(0);e=document.createElementNS(Pl,"clipPath");e.setAttribute("id","playClipPath");a.appendChild(e);d=document.createElementNS(Pl,"rect");d.setAttribute("width","21");d.setAttribute("height","21");d.setAttribute("x","4");d.setAttribute("y","1");e.appendChild(d);e=document.createElementNS(Pl,"image");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","movie/icons.png");e.setAttribute("clip-path",
"url(#playClipPath)");e.setAttribute("width","63");e.setAttribute("height","42");e.setAttribute("x",-17);e.setAttribute("y","-20");a.appendChild(e);for(this.sm=e;a&&"svg"!=a.nodeName.toLowerCase();)a=a.parentElement;this.Aa=a;Ql(this.vo,"mousedown",this,this.gs);Ql(this.vo,"touchstart",this,this.gs);Ql(b,"mousedown",this,this.Sx);Ql(this.Aa,"mouseup",null,Rl);Ql(this.Aa,"touchend",null,Rl);Ql(this.Aa,"mousemove",null,Sl);Ql(this.Aa,"touchmove",null,Sl);Ql(this.sm,"click",this,this.gk);Ql(this.sm,
"touchend",this,this.gk)}var Pl="http://www.w3.org/2000/svg",Tl=null,Ul=0,Vl=0;c=Nl.prototype;c.gs=function(a){this.Di&&this.gk();if("touchstart"==a.type){if(1!=a.changedTouches.length)return;Wl(a)}Tl=this;Ul=Xl(this,a).x;Vl=Number(this.hs.getAttribute("x"))+this.Fd+8;a.preventDefault()};function Rl(){Tl=null}function Sl(a){var b=Tl;if(b){if("touchmove"==a.type){if(1!=a.changedTouches.length)return;Wl(a)}a=Xl(b,a).x-Ul+Vl;b.setValue((a-b.Fd)/(b.Xi-b.Fd))}}
c.Sx=function(a){this.Di&&this.gk();if("touchstart"==a.type){if(1!=a.changedTouches.length)return;Wl(a)}a=Xl(this,a).x;Yl(this,(a-this.Fd)/(this.Xi-this.Fd))};c.Di=0;c.gk=function(a){a&&U.cf(a)||(this.Di?(this.sm.setAttribute("x",-17),clearTimeout(this.Di),this.Di=0,Zl()):(this.sm.setAttribute("x",4),1<=this.getValue()&&this.setValue(0),$l(this)))};c.ls=0;c.ks=0;c.au=25;
function $l(a){var b=a.getValue();if(1<=b)a.gk();else{a.setValue(b+.01);b=Date.now();var d=Math.max(1,1E3/a.au-(b-a.ls-a.ks));a.Di=setTimeout(function(){$l(a)},d);a.ls=b;a.ks=d}}c.getValue=function(){return this.kb};function Yl(a,b){function d(d){return function(){a.setValue(d*(b-e)/9+e)}}for(;a.hn.length;)clearTimeout(a.hn.pop());for(var e=a.getValue(),f=0;10>f;f++)a.hn.push(setTimeout(d(f),200*f/10))}
c.setValue=function(a){this.kb=Math.min(Math.max(a,0),1);a=this.Fd+(this.Xi-this.Fd)*this.kb;this.$w.setAttribute("x",a-8);this.hs.setAttribute("x",a-42-8);this.vo.setAttribute("x",a-this.$d);for(var b=0,d;d=this.at[b];b++)d.setAttribute("width",a-this.Fd);for(;this.qa.firstChild;)this.qa.removeChild(this.qa.firstChild);a=Math.round(100*this.kb);this.qa.appendChild(document.createTextNode("time = "+a));this.Dq&&this.Dq(a)};
function Xl(a,b){var d=a.Aa.createSVGPoint();d.x=b.clientX;d.y=b.clientY;a=a.Aa.getScreenCTM().inverse();return d.matrixTransform(a)}function Ql(a,b,d,e){a.addEventListener(b,function(a){e.apply(d,arguments)},!1)}function Wl(a){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY};var vl="movie",zl=1==R?0:100,Al=Array(zl),am=!1,bm=0;function cm(){document.getElementById("coordinates").style.display="block"}function dm(){document.getElementById("coordinates").style.display="none"}
function em(a){var b=nl(),d=a.clientX;a=a.clientY;b&&(d-=window.innerWidth);var e=document.getElementById("visualization");var f=Cg(e);e=Eg(e);f=new Lf(f.x,f.y,e.width,e.height);d+=b?f.left:-f.left;a-=f.top;d/=4;a=100-a/4;b&&(d+=100);10==R?(d=Math.round(d),a=Math.round(a)):(d=10*Math.round(d/10),a=10*Math.round(a/10));0<=d&&100>=d&&0<=a&&100>=a?(document.getElementById("x").innerHTML="x = "+d,document.getElementById("y").innerHTML="y = "+a):dm()}
function fm(){var a=document.getElementById("help"),b=document.getElementById("helpButton");2==R&&U.Uw("sampleHelp2",'<xml><block type="movie_time" x="15" y="10"></block></xml>');T.Mi(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},gm);T.Hp()}function gm(){T.Ip()}
function hm(a){var b=document.getElementById("visualization");V.strokeStyle="#000";V.fillStyle="#000";var d=document.createElement("canvas");d.id="answer"+a;d.width=400;d.height=400;d.style.display="none";b.appendChild(d);V.canvas.width=V.canvas.width;switch(R){case 1:W("#ff0000");X(50,70,10);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,70,5);Y(60,50,80,70,5);break;case 2:W("#ff0000");X(50,70,10);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,70,5);Y(60,50,80,a,5);break;case 3:W("#ff0000");
X(50,70,10);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,100-a,5);Y(60,50,80,a,5);break;case 4:W("#ff0000");X(50,70,10);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,100-a,5);Y(60,50,80,a,5);Y(40,20,a,0,5);Y(60,20,100-a,0,5);break;case 5:W("#ff0000");X(50,70,10);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,100-a,5);Y(60,50,80,Math.pow((a-50)/5,2),5);Y(40,20,a,0,5);Y(60,20,100-a,0,5);break;case 6:W("#ff0000");X(50,70,10);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,100-
a,5);Y(60,50,80,Math.pow((a-50)/5,2),5);Y(40,20,a,0,5);Y(60,20,100-a,0,5);W("#ff0000");X(20,100-a,5);X(80,Math.pow((a-50)/5,2),5);break;case 7:W("#ff0000");50>a?X(50,70,10):X(50,80,20);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,100-a,5);Y(60,50,80,Math.pow((a-50)/5,2),5);Y(40,20,a,0,5);Y(60,20,100-a,0,5);W("#ff0000");X(20,100-a,5);X(80,Math.pow((a-50)/5,2),5);break;case 8:W("#ff0000");50>a?X(50,70,10):X(50,80,20);W("#3333ff");im(50,40,20,40);W("#000000");Y(40,50,20,100-a,5);Y(60,50,80,Math.pow((a-
50)/5,2),5);50>a?(Y(40,20,a,0,5),Y(60,20,100-a,0,5)):(Y(40,20,100-a,0,5),Y(60,20,a,0,5));W("#ff0000");X(20,100-a,5);X(80,Math.pow((a-50)/5,2),5);break;case 9:W("#00ff00"),X(50,a/2,a/2),W("#ff0000"),50>a?X(50,70,10):X(50,80,20),W("#3333ff"),im(50,40,20,40),W("#000000"),Y(40,50,20,100-a,5),Y(60,50,80,Math.pow((a-50)/5,2),5),50>a?(Y(40,20,a,0,5),Y(60,20,100-a,0,5)):(Y(40,20,100-a,0,5),Y(60,20,a,0,5)),W("#ff0000"),X(20,100-a,5),X(80,Math.pow((a-50)/5,2),5)}a=d.getContext("2d");a.globalCompositeOperation=
"copy";a.drawImage(V.canvas,0,0)}function jm(){var a=document.getElementById("hatching").getContext("2d");a.strokeStyle="#fff";a.lineWidth=1;for(var b=-400;400>b;b+=4)a.beginPath(),a.moveTo(b,-b),a.lineTo(b+400,-b+400),a.stroke()}
function km(){var a=document.getElementById("axies").getContext("2d");a.lineWidth=1;a.strokeStyle="#bba";a.fillStyle="#bba";a.font="normal 14px sans-serif";for(var b=1,d=.1;.9>d;d+=.1)a.beginPath(),a.moveTo(400*d,400),a.lineTo(400*d,400-9*b),a.stroke(),a.beginPath(),a.moveTo(0,400*d),a.lineTo(9*b,400*d),a.stroke(),2==b&&(a.fillText(Math.round(100*d),400*d+2,396),a.fillText(Math.round(100-100*d),3,400*d-2)),b=1==b?2:1}
function lm(a){V.canvas.width=V.canvas.width;V.strokeStyle="#000";V.fillStyle="#000";V.globalAlpha=10==R?1:.9;for(var b=!0,d=0;b&&1E4>d;d++)try{b=a.step()}catch(e){alert(e),b=!1}}
function Ol(a){"number"==typeof a&&(bm=a);a=bm;xl.beginPath();xl.rect(0,0,xl.canvas.width,xl.canvas.height);xl.fillStyle="#ffffff";xl.fill();if(a=document.getElementById("answer"+a))xl.globalAlpha=.2,xl.drawImage(a,0,0),xl.globalAlpha=1;a=document.getElementById("hatching");xl.drawImage(a,0,0);a=ak(v.h);try{var b=new Interpreter(a,mm)}catch(h){console.error(h)}b?lm(b):V.canvas.width=V.canvas.width;xl.drawImage(V.canvas,0,0);xl.drawImage(document.getElementById("axies"),0,0);if(b=document.getElementById("answer"+
bm)){b=b.getContext("2d").getImageData(0,0,400,400);a=V.getImageData(0,0,400,400);for(var d=Math.min(a.data.length,b.data.length),e=0,f=3;f<d;f+=4)96<Math.abs(a.data[f]-b.data[f])&&e++;Al[bm]=e}1==R&&setTimeout(Zl,1E3)}
function mm(a,b){var d=function(a,b,d){X(a,b,d)};a.setProperty(b,"circle",a.createNativeFunction(d));d=function(a,b,d,k){im(a,b,d,k)};a.setProperty(b,"rect",a.createNativeFunction(d));d=function(a,b,d,k,l){Y(a,b,d,k,l)};a.setProperty(b,"line",a.createNativeFunction(d));d=function(a){W(a)};a.setProperty(b,"penColour",a.createNativeFunction(d));a.setProperty(b,"time",a.createNativeFunction(function(){return bm}))}
function X(a,b,d){a*=4;b=4*(100-b);d=Math.max(4*d,0);V.beginPath();V.arc(a,b,d,0,2*Math.PI,!1);V.fill()}function im(a,b,d,e){a*=4;b=4*(100-b);d=Math.max(4*d,0);e=Math.max(4*e,0);V.beginPath();V.rect(a-d/2,b-e/2,d,e);V.fill()}function Y(a,b,d,e,f){a*=4;b=4*(100-b);d*=4;e=4*(100-e);f*=4;V.beginPath();V.moveTo(a,b);V.lineTo(d,e);V.lineWidth=Math.max(f,0);V.stroke()}function W(a){V.strokeStyle=a;V.fillStyle=a}function Zl(){1<R&&bm!=zl||!yl()||am||(am=!0,U.Vx(),10>R&&(bk.ce.play("win",.5),T.Jv()))}
function nm(){var a=qd(bk).length,b=ak(v.h);if(4>a||-1==b.indexOf("time()"))alert(S("Movie_submitDisabled"));else{a=new Interpreter(b,mm);b=bm;try{bm=Math.round(zl/2),lm(a)}finally{bm=b}a=document.getElementById("thumbnail");b=a.getContext("2d");b.globalCompositeOperation="copy";b.drawImage(V.canvas,0,0,200,200);a=a.toDataURL("image/png");document.getElementById("galleryThumb").value=a;T.Dp()}}
window.addEventListener("load",function(){function a(){d.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";d.style.left=b?"10px":"420px";d.style.width=window.innerWidth-440+"px"}document.body.innerHTML=Ml();U.S();var b=nl(),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);v.yh(bk)});window.addEventListener("resize",a);a(null);10>R&&(Qj=3,Oj="#ff0000 #ffcc33 #ffff00 #009900 #3333ff #cc33cc #ffffff #999999 #000000".split(" "));
var f=document.getElementById("toolbox");bk=v.Rf("blockly",{media:"third-party/blockly/media/",rtl:b,toolbox:f,trashcan:!0,zoom:10==R?{controls:!0,wheel:!0}:null});hk(v.h,"circle,rect,line,penColour,time");document.getElementById("submitButton")&&wl("submitButton",nm);U.hx("<xml></xml>",!0);xl=document.getElementById("display").getContext("2d");xl.globalCompositeOperation="source-over";V=document.getElementById("scratch").getContext("2d");jm();hm(0);setTimeout(function(){for(var a=1;a<=zl;a++)hm(a)},
1);km();Ol();bk.Kc(Ol);f=document.getElementById("scrubber");new Nl(f);1==R&&(f.style.display="none");bk.ce.load(["movie/win.mp3","movie/win.ogg"],"win");setTimeout(U.Sw,1);wl("helpButton",fm);2>location.hash.length&&!tl(R)&&setTimeout(fm,1E3);e.addEventListener("mouseover",cm);e.addEventListener("mouseout",dm);e.addEventListener("mousemove",em)});
